\documentclass[a4paper,12pt,brazil]{article}

\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage[brazil]{babel}
\usepackage{float}

\flushbottom

\setlength\textwidth{160mm}
\setlength\textheight{247mm}
\setlength\hoffset{-13.4mm}
\setlength\voffset{-20mm}
\setlength\parindent{0.75cm}
\setlength\parskip{0mm}
\setlength\topsep{12pt}

\usepackage{paralist}
\usepackage{subfigure}
\usepackage{amsmath,amssymb,amsfonts,textcomp}
\usepackage{rawfonts}
\usepackage{graphics,psfrag}
\usepackage{latexsym}
\usepackage{varioref}
\usepackage{subfigmat}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage[colorlinks,citecolor=Fuchsia,urlcolor=blue,linkcolor=black]{hyperref}
%\usepackage[colorlinks=false]{hyperref}
\usepackage{color}
\usepackage{array}
\usepackage{hhline}
\usepackage{array}
\usepackage{supertabular}
\usepackage{setspace}
\usepackage[pdftex]{graphicx}
\usepackage{special-char}

\usepackage[sort=def, nopostdot]{glossaries}
\usepackage{makeidx} 
\usepackage{listings}
\usepackage{multicol}
\usepackage{scalerel}
\usepackage{accents}
\usepackage{empheq}
\usepackage{fancybox}

\definecolor{myblue}{rgb}{.75, .75, 1}
\newcommand*\mybluebox[1]{%
\colorbox{myblue}{\hspace{1em}#1\hspace{1em}}}

\definecolor{lightblue}{rgb}{.9, .9, 1}
\newcommand*\lightbluebox[1]{%
\colorbox{lightblue}{\hspace{1em}#1\hspace{1em}}}

\definecolor{corn}{rgb}{0.98, 0.93, 0.36}
\newcommand*\cornbox[1]{%
\colorbox{corn}{\hspace{1em}#1\hspace{1em}}}

\definecolor{myyellow}{rgb}{1.0, 1.0, 0.7}
\newcommand*\myyellowbox[1]{%
\colorbox{myyellow}{\hspace{1em}#1\hspace{1em}}}

\definecolor{almond}{rgb}{0.94, 0.89, 0.82}
\newcommand*\almondbox[1]{%
\colorbox{almond}{\hspace{1em}#1\hspace{1em}}}

\usepackage{titlesec}
\usepackage{hyperref}

\titleclass{\subsubsubsection}{straight}[\subsection]

\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\arabic{subsubsubsection}}
\renewcommand\theparagraph{\thesubsubsubsection.\arabic{paragraph}} % optional; useful if paragraphs are to be numbered

\titleformat{\subsubsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsubsection}{1em}{}
\titlespacing*{\subsubsubsection}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{5}{\z@}%
  {3.25ex \@plus1ex \@minus.2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{6}{\parindent}%
  {3.25ex \@plus1ex \@minus .2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}
\def\toclevel@subsubsubsection{4}
\def\toclevel@paragraph{5}
\def\toclevel@paragraph{6}
\def\l@subsubsubsection{\@dottedtocline{4}{7em}{4em}}
\def\l@paragraph{\@dottedtocline{5}{10em}{5em}}
\def\l@subparagraph{\@dottedtocline{6}{14em}{6em}}
\makeatother

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}



\renewcommand*{\glossarypreamble}{\vspace{-\baselineskip}}  

\newglossary[cng]{conventions}{cns}{cno}{Convenções de notação}
\newglossary[syg]{symbols}{sys}{syo}{Lista de símbolos}

\renewcommand*{\arraystretch}{1.3}  % sets the line indent in glossaries
\setlength{\glsdescwidth}{390pt}   
\setlength\LTleft{0pt}

\renewcommand*{\glossarypreamble}{\vspace{-\baselineskip}}

\makeindex
\makeglossaries

\graphicspath{{figuras/}{../figuras/}}


\begin{document}

\setcounter{MaxMatrixCols}{50}

\onehalfspacing 

\begin{titlepage}
\begin{center}
{\phantom{a}}
\vspace{1.0cm}
\textsc{\Large{{ André Garnier Coutinho}}}\\
\vspace{5.0cm}
 {\huge\bfseries Simulação dinâmica e validação experimental de técnicas de controle para robôs de arquitetura paralela\\}
\vfill
\hspace{.50\textwidth}
\begin{minipage}{.45\textwidth}
{
Texto apresentado à Escola Politécnica da Universidade de São Paulo (EPUSP) como requisito parcial para a qualificação no Curso de Doutorado em Engenharia Mecânica.
%Relatório anual de atividades apresentado à Comissão de Atividade Discente (CADIS) 
%do Programa de Pós Graduação em Engenharia Mecânica (PPGEM) da Escola Politécnica 
%da Universidade de São Paulo (EPUSP)
}\\[25pt]
{Área de concentração:}\\[2pt]
{Engenharia Mecânica}\\[25pt]
{Orientador:}\\[2pt]
Prof. Dr. Tarcisio A. Hess Coelho
\end{minipage}

\vfill
{São Paulo \\ 23 de Setembro de 2016}
\end{center}
\end{titlepage}




\vspace{-0.3cm}

\noindent
{\bf Nome: }{André Garnier Coutinho}\\[8pt]
{\bf NUSP: }{6846085}\\[8pt]
{\bf Curso: }{Doutorado Direto}\\[8pt]
{\bf Área de concentração: }{Engenharia Mecânica de Projeto e Fabricação (3151)}\\[8pt]
{\bf Orientador: }{Professor Doutor Tarcisio Antonio Hess Coelho}\\[8pt]
{\bf Ano de ingresso no PPGEM: }{2014}\\[8pt]
{\bf Bolsista: }{Sim}\\[8pt]
{\bf Agência de fomento: }{CNPq}\\[8pt]
{\bf Edital/Chamada: }{Cota Institucional (Demanda Social)}\\[8pt]
{\bf Prazo Máximo para realização do Exame de Qualificação: }{17/10/2016}\\[8pt]

\vspace{2cm}
\noindent

% ---
% Sumário
% ---
\newpage
\pdfbookmark[0]{\contentsname}{toc}
\tableofcontents
\cleardoublepage
% ---

%RESUMO--------------------------------------------------------   
\newpage
\section*{Resumo}

Para realizar o projeto de um sistema de controle, em geral, \'e necess\'ario primeiramente de um modelo da planta a ser controlada. O grau de fidelidade do modelo da planta, dentro das condi\c{c}\~oes de opera\c{c}\~ao desejadas do sistema, influi diretamente no desempenho do sistema em malha fechada que o projeto do controlador pode oferecer. Quanto mais rico for o modelo, mais f\'acil de atingir requisitos de performance mais elevados (menor tempo de resposta e menor sobressinal, por exemplo) garantindo a estabilidade do sistema.

Utilizando os m\'etodos tradicionais de modelagem de Sistemas Mec\^anicos Multicorpos, \'e dif\'icil e trabalhoso de se obter modelos de sistemas complexos, como mecanismos paralelos. Para contornar esse problema, \'e comum desprezar alguns efeitos de acoplamentos inerciais, simplificando o processo de modelagem. Por\'em, essa estrat\'egia gera modelos mais pobres, o que ir\'a limitar a perfomance que o sistema poder\'a atingir quando for feito o projeto do sistema de controle.

A solu\c{c}\~ao proposta para ser poss\'ivel aumentar o desempenho, garantindo a robustez, de um sistema de controle de mecanismos paralelos \'e a utiliza\c{c}\~ao dos novos m\'etodos de modelagem din\^amica desenvolvidos pelo grupo de pesquisa do Prof. Doutor Tarcisio Antonio Hess Coelho, os quais s\~ao adequados para incluir todos os efeitos da din\^amica de corpos r\'igidos, independentemente da complexidade do sistema.

O presente projeto visa desenvolver um algoritmo de modelagem que inclua todos os efeitos da din\^amica de corpos r\'igidos para realizar a modelagem din\^amica de mecanismos paralelos (baseado na metodologia de Orsino), desenvolver uma metodologia de projeto de controle robusto para mecanismos paralelos tradicionais e mecanismos com atua\c{c}\~ao redundante, e realizar simulações e valida\c{c}\~oes experimentais das leis de controle sintetizadas pela metodologia proposta.

%INTRODUÇÃO----------------------------------------------------
\newpage
\section{Introdução}\label{intro}

	Os mecanismos de arquitetura paralela são amplamente utilizados em simuladores de voo, simuladores automobilisticos, e tarefas de {\em pick-and-place}. Além disso, também são empregados em sistemas de posicionamento, sistemas de medição, máquinas de usinagem, entre outras tarefas. 

Há uma série de vantagens em utilizar mecanismos paralelos no lugar dos tradicionais seriais. Dentre elas podemos citar sua grande capacidade de carga, alta precisão de posicionamento, alta rigidez estrutural, e uma redução significativa na inércia \cite{Cheng, Khalil, Merlet2002, Tsai}. Outra característica marcante desse tipo de arquitetura são as altas velocidades e acelerações atingidas, as quais superam muito os valores máximos atingidos utilizando arquitetura serial. Grande parte dessas vantagens se devem à possibilidade de instalação de todos os motores na base imóvel do mecanismo. Como desvantagens podemos citar o menor espaço de trabalho e modelo dinâmico muito mais complexo e de difícil obtenção \cite{Rynaldo, Merlet2002}.
%As maiores vantagens em utilizar mecanismos paralelos no lugar dos tradicionais mecanismos seriais são sua grande capacidade de carga, alta precisão de posicionamento do efetuador, alta rigidez estrutural, e uma redução significativa na inércia \cite{Merlet2002, Khalil, Tsai, Cheng}. Outra característica marcante desse tipo de arquitetura são as altas velocidades e acelerações atingidas, as quais superam muito os valores máximos atingidos utilizando arquitetura serial. Grande parte dessas vantagens se devem à possibilidade de ter todos os motores localizados na base. Como desvantagens podemos citar o menor espaço de trabalho e modelo dinâmico muito mais complexo e difícil de se obter \cite{Merlet2002, Rynaldo}.

\begin{figure}[h!]
	\centering
	\includegraphics[scale=0.18]{figures/theadeptquat.jpg}  
	\caption{Robô industrial Adept Quattro}
	\label{fig:Mecanismo}
\end{figure}

Levando-se em conta esta dificuldade de obtenção e a complexidade inerente do modelo dinâmico, o controle de mecanismos de arquitetura paralela é uma tarefa desafiadora. A utilização de modelos dinâmicos simplificados limita o desempenho do projeto de controladores baseados no modelo. Porém, mesmo na hipótese do modelo dinâmico completo estar disponível, o emprego de técnicas de controle não linear pode acarretar um custo  computacional muito elevado \cite{Craig, Slotini, Zubizarreta}. Este paradigma, aliado à falta de estratégias de controle apropriadas para esse tipo de mecanismos, resulta na exploração insatisfatória dos potenciais promissores de tais máquinas, como resposta dinâmica rápida e alta precisão \cite{Abdellatif}. Além disso, observa-se na literatura a escassez de trabalhos publicados com comprovação experimental de técnicas de controle aplicáveis a mecanismos paralelos \cite{Rynaldo}.
	
    Uma alternativa para a superação desta dificuldade seria a combinação de técnicas de controle não linear robusto (por exemplo, controle por modos deslizantes \cite{Slotini, Utkin}) com modelos dinâmicos completos de mecanismos paralelos, desenvolvidos a partir de novas metodologias de modelagem de sistemas multicorpos \cite{22orsino, Orsino2013, 23orsino, 21orsino}. Com esta estratégia, torna-se possível sintetizar leis de controle de alto desempenho e custo computacional mais adequado, viabilizando a exploração do potencial promissor dos mecanismos paralelos.


%OBJETIVOS E JUSTIFICATIVAS--------------------------------------------
\newpage
\section{Objetivos}\label{objetivos}


Os principais objetivos do projeto s\~ao:
\begin{itemize}
\item Desenvolvimento de um algoritmo gerador de modelos dinâmicos completos de mecanismos paralelos, de forma implícita. Pretende-se utilizar a metodologia proposta por Orsino et. al. \cite{23orsino} de acoplamento de subsistemas multicorpos.


\item Elabora\c{c}\~ao de uma metodologia de projeto de controlador n\~ao linear robusto, de alto desempenho, baseado na t\'ecnica de controle por modos deslizantes \cite{Slotini, Utkin}, aplicável a  mecanismos de arquitetura paralela. Para tanto, serão consideradas as incertezas param\'etricas e a possibilidade de atua\c{c}\~ao redundante \cite{Cheng},  além da síntese de leis de controle com custo computacional consideralvemente menor do que as tradicionais, que empregam o Controle por Torque Computado \cite{Craig, Zubizarreta}.


\item Realizar a modelagem cinemática e dinâmica dos mecanismos 5R \cite{22orsino} e 2\underline{R}SU+\underline{P}PaP \cite{Rynaldo, Kumazawa}, utilizando o algoritmo de modelagem desenvolvido.
\item Realizar o projeto de um controlador de trajetória para os mecanismos escolhidos, utilizando a metodologia de projeto de controle proposta.
\item Realizar simula\c{c}\~oes dinâmicas das leis de controle sintetizadas.
\item Realizar a validação experimental dos controladores projetados nos protótipos dos mecanismos escolhidos, sendo que o protótipo do mecanimos 2\underline{R}SU+\underline{P}PaP se encontra no laboratório de mecanismos da EPUSP e o protótipo do pentágono articulado (5R) está sendo desenvolvido por outros alunos orientados pelo Prof. Dr. Tarcisio A. H. Coelho.
\end{itemize}

É importante ressaltar que os 5 primeiros objetivos citados já foram parcialmente alcançados e que a arquitetura paralela 2\underline{R}SU+\underline{P}PaP foi desenvolvida pelo grupo de pesquisa do Prof. Dr. Tarcio Antonio Hess Coelho, havendo ainda poucos estudos na literatura sobre ela. Sendo assim, pode-se afirmar que simulações dinâmicas e validações experimentais de leis de controle não linear robusto neste mecanismo tem caráter inédito.

\newpage

%METODOLOGIA--------------------------------------------------------------------

\section{Revisão da literatura}\label{revision}

Esta seção é dedicada à revisão da literatura de técnicas de controle de posição aplicadas a mecanismos paralelos. \\

Existem diversas técnicas propostas pela literatura para realizar o controle de mecanismos paralelos. Dentre elas, podemos destacar:

\begin{itemize}
\item Controle PID
\item Controle por Torque Computado (CTC)
\item Controle por Torque Computado com pré-alimentação (CTCp)
\item Controle por Torque Computado Estendido (CTCe)
\item Controle Preditivo Baseado em Modelo (CPM)
\item Controle Adaptativo
\item Controle por Modos Deslizantes (CMD)
\end{itemize}

A técnica mais simples consiste na utilização de malhas do tipo PID, controlando cada junta ativa de maneira independente, considerando a dinâmica do mecanismo como distúrbios de controle. Essa técnica é caracterizada por sua facilidade de projeto e implementação, tanto em hardware quanto em software, além de exibir um desempenho satisfatório para movimento lento. Porém, essa técnica não se mostra adequada para a realização de trajetórias em altas velocidades e/ou acelerações \cite{Honegger, Zubizarreta}.

Uma das técnicas de controle mais exploradas na literatura é o Controle por Torque Computado (CTC). Basicamente, é uma técnica de controle não linear, mais conhecida como linearização pela realimentação, aplicada a sistemas mecânicos. A técnica consiste na utilização de duas malhas de controle, uma malha que realiza o desacoplamento do sistema e a compensação das não linearidades, e outra malha composta por PIDs independentes \cite{Craig}. Como resultado, alcança-se um desempenho  superior  àquele obtido utilizando simples PIDs, permitindo inclusive a realização de trajetórias precisas em altas velocidades e/ou acelerações. No entanto, seu desempenho poderá ser limitado pela qualidade/fidelidade do modelo dinâmico utilizado para a compensação das não linearidades \cite{SlotiniSMC}. Sua implementação também é mais complexa, visto que é necessário calcular o modelo dinâmico inverso em tempo real, o que também aumenta consideravelmente seu custo computacional. Além disso, a técnica é sensível a incertezas estruturadas (paramétricas) e não estruturadas (dinâmicas não modeladas). Como exemplos de utilização do CTC, podem ser citados os trabalhos de Cheng at al. \cite{Cheng}, Li e Wu \cite{Li}, Li e Fu \cite{Li2}, Shang at al. \cite{Shang} e Yen at al. \cite{Yen}.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.385]{figures/CTC.jpg}  
	\caption{Malha de CTC (Adaptado de \cite{Craig})}
	\label{fig:CTC}
\end{figure}

Visando a redução do custo computacional associado ao cálculo do modelo dinâmico em tempo real, alguns autores propõe a utilização do CTC com pré-alimentação (CTCp) \cite{Khalil, Siciliano, Spong}. Essa técnica é similar ao CTC, com a diferença de que a compensação das não linearidades é feita por pré-alimentação e não mais por realimentação.  Consequentemente, realiza-se o cálculo do modelo dinâmico previamente, diminuindo o custo computacional.

De fato, Codourey \cite{Codourey} obteve uma redução de 600\% no erro de posição utilizando o CTCp em um ensaio experimental com o robô DELTA, ao substituir os PDs originais. Na simulação do controle de um mecanismo 6-UPS, Wang et al. \cite{Wang} utilizaram em cascata controladores lineares de posição, velocidade e corrente em cada junta ativa, além de  uma compensação dinâmica por pré-alimentação dos distúrbios de torque.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.385]{figures/CTCp.jpg}  
	\caption{Malha de CTCp (Adaptado de \cite{Craig})}
	\label{fig:CTCp}
\end{figure}

Com o intuito de melhorar a robustez do CTC associada a incertezas paramétricas, Zubizarreta et al. \cite{Zubizarreta, Zubizarreta2, Zubizarreta3, Zubizarreta4} propuseram  o  Controle por Torque Computado Estendido (CTCe), que utiliza informação redundante obtida pelo sensoriamento de juntas passivas. Em \cite{Zubizarreta}, os controladores propostos demonstraram maior robustez, principalmente em relação a parâmetros cinemáticos, durante as simulações realizadas com o mecanismo 3-RRR.

Outra técnica alternativa, aplicada a mecanismos paralelos, é o controle preditivo baseado em modelo (CPM). Para a sua implementação, o CPM necessita minimizar uma função objetivo, dependente das saidas e do esforço de controle, ambos calculados em tempo futuro \cite{Camacho}. Assim, dependendo do modelo utilizado, o processo de otimização pode agregar um custo computacional que inviabilize o controle, comprometendo a motivação inicial de aprimorar o desempenho do sistema. Como exemplos de utilização do CPM, podem ser citados os trabalhos de Vivas et al. \cite{Vivas} e   Duchaine et al. \cite{Duchaine}.

Com o propósito de controlar o mecanismo H4, Vivas et al. \cite{Vivas} utilizaram  uma malha de CPM linear e outra malha para compensação das não linearidades. Após a comparação do desempenho do controlador proposto com  o CTC, os autores observaram maior robustez do CPM a incertezas paramétricas. 

Duchaine et al. \cite{Duchaine}, por sua vez, propuseram um controlador preditivo baseado no modelo não linear de um mecanismo paralelo de 6 graus de liberdade. Visando a obtenção de uma solução analítica para o problema de otimização, foram adotadas diversas hipóteses simplificadoras no modelo dinâmico do mecanismo. Com o intuito de comparar o controlador proposto com um PID, foram feitos alguns experimentos, onde se observou  que o CPM apresentou erro nulo de posição no final da trajetória, enquanto que o PID demorou um tempo considerável para alcançar erro nulo. Foi verificada a equivalência entre o custo computacional dos 2 controladores. 

O controle adaptativo, também encontrado na literatura, caracteriza-se pela utilização de leis de adaptação para realizar a estimação em tempo real de parâmetros do sistema ou de termos de compensação dinâmica. Sendo assim, as técnicas de controle adaptativo possibilitam que o sistema se torne praticamente insensível a incertezas paramétricas. Para o caso em que se realiza a estimação em tempo real dos parâmetros do sistema, pode-se dizer que o custo computacional é superior ao do CTC, visto que é necessário integrar as leis de adaptação em tempo real. Além disso, é necessário obter o modelo dinâmico linear em relação aos parâmetros do sistema \cite{SlotiniA}, o que pode ser uma tarefa difícil, inviabilizando, em alguns casos, a aplicação da técnica. Em \cite{Codourey2} é proposto um algoritmo de obtenção do modelo dinâmico simplificado de mecanismos paralelos nesse formato.

Em \cite{SlotiniA} é proposta uma lei de controle que combina o controle adaptativo com a técnica de controle robusto conhecida por Controle por Modos Deslizantes. Chemori et al. \cite{Chemori} utilizaram essa técnica  com o intuito de diminuir os erros de posição em regime permanente no controle de um mecanismo paralelo do tipo PAR2. Por outro lado, Honegger at al. \cite{Honegger} empregaram o controle adaptativo com estimação em tempo real dos parâmetros do sistemas, realizando a compensação dinâmica por pré-alimentação, em um mecanismo  paralelo do tipo Hexaglide.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.385]{figures/CA.jpg}  
	\caption{Malha de controle adaptativo (Adaptado de \cite{Craig})}
	\label{fig:CTCp}
\end{figure}

Outra técnica promissora para aplicação em mecanismos paralelos é o Controle por Modos Deslizantes (CMD). A técnica consiste no projeto de leis de controle que levem o sistema para superfícies de escorregamento no espaço de fase, de modo que assim que o sistema atinje e é mantido nas superfícies de escorregamento, o erro de controle decai exponencialmente para zero \cite{Slotini}. Para garantir que o sistema atinja em tempo finito e se mantenha nas superfícies de escorregamento, são utilizados termos descontínuos na lei de controle, o que pode causar problemas de oscilações bruscas em alta frequência nos esforços de controle ({\em chattering}). Em \cite{Guldner}  e  \cite{Utkin2} são propostas técnicas para evitar esse tipo de problema. A grande vantagem da utilização deste tipo de lei de controle é sua grande robustez a incertezas estruturadas e não estruturadas, sendo possível realizar o projeto do controlador de modo a suprimir um dado nível de incertezas paramétricas. Em \cite{SlotiniSMC} é proposta uma metodologia de projeto de Controle por Modos Deslizantes para manipuladores robóticos seriais.

Na literatura são encontradas diversos artigos utilizando a técnica de CMD aliada à lógica {\em fuzzy} e/ou redes neurais para o controle de manipuladores robóticos \cite{Begon, Ertugrul, Hu, Sadati}. Begon et al. \cite{Begon} propuseram uma lei de controle baseada na teoria de CMD e na utilização de lógica {\em fuzzy} para controlar de maneira independente os atuadores de um mecanismo paralelo do tipo Hexa. A técnica proposta teve o intuito de obter a robustez característica do CDM sem necessitar de uma lei de controle com termos descontínuos, evitando o {\em chattering}.

Em \cite{Zeinali}, Zeinali et al. desenvolveram uma lei de controle  baseada nas teorias de CMD e controle adaptativo. O controlador desenvolvido realiza a compensação dinâmica em tempo real do erro de modelagem através de uma lei de adaptação. Além disso, substitui o termo descontínuo da lei de controle por um termo do tipo PID, com o intuito de evitar o {\em chattering}. A estabilidade e robustez da lei de controle proposta foram provadas utilizando a teoria de estabilidade de Lyapunov \cite{Slotini}. A robustez da lei de controle foi verificada através de simulações do controlador proposto aplicado a um mecanismo serial do tipo \underline{R}\underline{R}, nas quais o controlador conseguiu manter erros de posição muito pequenos em regime permanente, mesmo sendo baseado em um modelo muito pobre e na presença de distúrbios de torque. A técnica apresentada se mostra promissora, porém, como no artigo foi feita apenas a simulação da lei de controle em um mecanismo serial bidimensional, ainda não se pode afirmar nada sobre seu desempenho em mecanismos paralelos tridimensionais.

\newpage

%METODOLOGIA--------------------------------------------------------------------

\section{Metodologia do projeto}\label{method}

O estágio atual de desenvolvimento do presente projeto ocorre basicamente em três áreas:
aplicação do algoritmo de modelagem e simulação para os mecanismos 5R \cite{22orsino} e 2\underline{R}SU + \underline{P}PaP \cite{Kumazawa}, o projeto e simulação de controladores não lineares robustos de alto desempenho baseado no modelo dinâmico para os mecanismos citados, e a validação experimental das leis de controle sintetizadas.

Os trabalhos no âmbito de modelagem e simulação estão sendo desenvolvidos a partir da aplicação do algoritmo de modelagem cinemática e dinâmica de mecanismos paralelos desenvolvido, baseado na utilização dos parâmetros de Denavit-Hartenberg \cite{Craig, Denavit, Lipkin} e no método Orsino de acoplamento de subsistemas \cite{23orsino}. Toda modelagem será feita em C++, utilizando uma biblioteca otimizada de cálculo matricial (Armadillo).
As simulações da dinâmica direta do mecanismo serão feitas utilizando o método Runge-Kutta de 8ª ordem \cite{RK} para solução de sistemas de EDOs, de modo a garantir estabilidade numérica do método, mesmo utilizando leis de controle quase descontínuas.

Os trabalhos na área de projeto de controle serão feitos utilizando a metodologia desenvolvida de projeto de controladores robustos multivariáveis para mecanismos paralelos, baseada no modelo dinâmico do mecanismo a ser controlado e na técnica de controle por modos deslizantes \cite{Slotini, Utkin}.

Os trabalhos no âmbito da validação experimental das leis de controle sintetizadas serão realizados no protótipo do mecanismo 2\underline{R}SU + \underline{P}PaP que encontra-se no laboratório de mecanismos e no protótico do mecanismo 5R que está sendo construído por outros alunos do grupo de pesquisa. A bancada experimental do mecanismo 2\underline{R}SU + \underline{P}PaP já está funcional e já estão sendo realizados ensaios de leis de controle de trajetória baseadas apenas no modelo cinemático do mecanismo. Para a realização da validação experimental nesta bancada, será realizada a identificação dos parâmetros do sistema e suas respectivas incertezas, projeto do controlador baseado nos parâmetros e incertezas identificadas, implementação das leis de controle, e aquisição de dados em ambiente Labview. \\

\begin{figure}[h!]
	\centering
	\includegraphics[scale=0.2]{figures/Mecanismo.jpeg}  
	\caption{Mecanismo 2\underline{R}SU + \underline{P}PaP}
	\label{fig:Mecanismo2}
\end{figure}

%RESULTADOS--------------------------------------------------------------------
\newpage
\section{Síntese de Resultados}\label{results}

Esta se\c{c}\~ao apresenta uma s\'intese dos principais resultados te\'oricos obtidos at\'e o momento.

\input{symbols}

%---ALGORITMO PARA MODELAGEM DE PLATAFORMAS ROBÓTICAS------------------------------------------------------------------------------------------
\subsection{Cinemática de corpos rígidos}\label{S05-1}

\subsubsection{Conceitos básicos}\label{S05-01-01}

Esta subseção tem o intuito de apresentar os conceitos de derivada temporal de vetores em relação a um referencial e as definições velocidade e aceleração. \\

Sejam $\llA$ e $\llB$ dois referenciais, e $\ttp$ e $\tto$ pontos no espaço. Primeiramente, fazemos as seguintes definições:

\begin{itemize}
\item $\vr_{\tto \rl \ttp}$: vetor que liga o ponto $\tto$ ao ponto $\ttp$, orientado no sentido de $\tto$ até $\ttp$.
\item $\vv_{\ttp}^{\lllA}$: vetor velocidade do ponto $\ttp$ em relação a $\llA$.
\item $\va_{\ttp}^{\lllA}$: vetor acelera\c{c}\~ao do ponto $\ttp$ em relação a $\llA$.
\item $\dot{\va}_{\ttp}^{\lllA}$: vetor sobre-acelera\c{c}\~ao do ponto $\ttp$ em relação a $\llA$.
\item $\vomega_{\lllB}^{\lllA}$: vetor velocidade angular de $\llB$ em relação a $\llA$.
\item $\dot{\vomega}_{\lllB}^{\lllA}$: vetor aceleração angular de $\llB$ em relação a $\llA$.
\item $\ddot{\vomega}_{\lllB}^{\lllA}$: vetor sobre-aceleração angular de $\llB$ em relação a $\llA$.
\item $\displaystyle\frac{\dd^{[\lllA]}}{\dd t}$: Operador derivada temporal em relação ao referencial $\llA$.
\end{itemize}

\subsubsubsection{Produto vetorial}\label{S05-01-01-00}

Para a realização do cálculo de derivadas vetoriais, frequentemente é necessário o uso do produto vetorial. A notação para o operador produto vetorial utilizada será o "$\wedge$". Com o intuito de deixar as equações mais legíveis, iremos adotar as seguintes convenções:

\begin{equation}
\va \wedge (\vb \wedge \vc) \equiv \va \wedge \vb \wedge \vc
\end{equation}
\begin{equation}
\va \wedge \big( \vb \wedge ( \vc \wedge \vd) \big) \equiv \va \wedge \vb \wedge \vc \wedge \vd
\end{equation}

Além disso, vale destacar algumas propriedades básicas do produto vetorial que serão utilizadas durante o texto:
\begin{equation}
\va \wedge \va = \vzr
\end{equation}
\begin{equation}
\va \wedge \vb = -\vb \wedge \va
\end{equation}
\begin{equation}
\va \wedge (\vb + \vc) = \va \wedge \vb + \va \wedge \vc
\end{equation}
\begin{equation}
(\lambda \va) \wedge \vb =  \va \wedge (\lambda \vb) = \lambda (\va \wedge \vb)
\end{equation}

%Também vale destacar a seguinte propriedades do produto vetorial entre 3 vetores:
%\begin{empheq}[box=\almondbox]{equation} \label{eq:prodvet3}
%(\va \wedge \vb) \wedge \vc = \va \wedge \vb \wedge \vc - \vb \wedge \va \wedge \vc
%\end{empheq}
%
%O produto vetorial entre matrizes-coluna 3x1 apresenta a mesma notação, e pode ser representado por um produto de matrizes:
%\begin{empheq}[box=\almondbox]{equation}
%\ma \wedge \mb = \mS(\ma) \cdot \mb
%\end{empheq}
%
%Sendo:
%\begin{equation}
%\mS(\ma) = \begin{bmatrix}
%0 & -a_3 & a_2 \\
%a_3 & 0 & -a_1 \\
%-a_2 & a_1 & 0
%\end{bmatrix}
%\end{equation}
%
%\begin{equation}
%\ma = \begin{bmatrix}
%a_1 &
%a_2 &
%a_3
%\end{bmatrix}^\msT
%\end{equation}

\subsubsubsection{Derivada temporal de versores}\label{S05-01-01-01}

Seja %m $\llA$ e $\llB$ dois referenciais referenciais e 
$\hat{\vx}_{\lllB}$ um versor fixo ao referencial $\llB$. A derivada temporal de $\hat{\vx}_{\lllB}$ em relação ao referencial $\llA$ é definida como:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:derivada_versor}
\frac{\dd^{[{\lllA}]} \hat{\vx}_{\lllB} }{\dd t} = \dot{\hat{\vx}}_{\lllB}^{[\lllA]} = \vomega_{\lllB}^{\lllA} \wedge \hat{\vx}_{\lllB}
\end{empheq}

\subsubsubsection{Derivada temporal de vetores}\label{S05-01-01-02} 

Seja $\ttB = \{ \vi_{\ttB}, \vj_{\ttB}, \vk_{\ttB} \}$ uma base ortonormal fixa ao referencial $\llB$ e $\vx$ um vetor cuja decomposição na base $\ttB$ é conhecida e dada por $\vx = x \vi_{\ttB} + y \vj_{\ttB} + z \vk_{\ttB} $. A derivada temporal de $\vx$ em relação ao referencial $\llA$ é definida como:
\begin{equation}
\begin{split}
\frac{\dd^{[{\lllA}]} \vx }{\dd t} &= \dot{\vx}^{[\lllA]} = \dot{x} \vi_{\ttB} + \dot{y} \vj_{\ttB} + \dot{z} \vk_{\ttB} + x \dot{\vi}_{\ttB}^{[\lllA]} + y \dot{\vj}_{\ttB}^{[\lllA]} + z \dot{\vk}_{\ttB}^{[\lllA]} \\
 &= \dot{x} \vi_{\ttB} + \dot{y} \vj_{\ttB} + \dot{z} \vk_{\ttB} +  \vomega_{\lllB}^{\lllA} \wedge x \vi_{\ttB} +  \vomega_{\lllB}^{\lllA} \wedge y \vj_{\ttB} + \vomega_{\lllB}^{\lllA} \wedge z \vk_{\ttB} \\
 &= \dot{x} \vi_{\ttB} + \dot{y} \vj_{\ttB} + \dot{z} \vk_{\ttB} + \vomega_{\lllB}^{\lllA} \wedge (x \vi_{\ttB} + y \vj_{\ttB} + z \vk_{\ttB})
\end{split}
\end{equation}

Repare que o termo $\dot{x} \vi_{\lllB} + \dot{y} \vj_{\lllB} + \dot{z} \vk_{\lllB}$ é a derivada temporal do vetor $\vx$ no referencial $\llB$. Sendo assim, temos:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:derivada_vetor}
\frac{\dd^{[{\lllA}]} \vx }{\dd t} = \dot{\vx}^{[\lllA]} = \dot{\vx}^{[\lllB]}  + \vomega_{\lllB}^{\lllA} \wedge \vx
\end{empheq}


\subsubsubsection{Definição de vetor velocidade}\label{S05-01-01-03}

%Seja $\vr_{\tto \rl \ttp}$ o vetor que liga do ponto $\tto$ até o ponto $\ttp$, sendo $\tto$ um ponto fixo ao referencial $\llA$. 
Supondo que o ponto $\tto$ esteja fixo a $\llA$, a velocidade do ponto $\ttp$ em relação ao referencial $\llA$ é definida como:
\begin{empheq}[box=\mybluebox]{equation}
\vv_\ttp^{\lllA} = \frac{\dd^{[\lllA]} \vr_{\tto \rl \ttp}}{\dd t} = \dot{\vr}_{\tto \rl \ttp}^{[\lllA]}
\end{empheq}

Caso $\tto$ não esteja fixo a $\llA$, temos que:
\begin{empheq}[box=\almondbox]{equation}
\frac{\dd^{[\lllA]} \vr_{\tto \rl \ttp}}{\dd t} = \dot{\vr}_{\tto \rl \ttp}^{[\lllA]} = \vv_\ttp^{\lllA} - \vv_\tto^{\lllA}
\end{empheq}

\subsubsubsection{Definição de vetor aceleração}\label{S05-01-01-04}

A aceleração do ponto $\ttp$ em relação ao referencial $\llA$ é definida como:
\begin{empheq}[box=\mybluebox]{equation}
\va_\ttp^{\lllA} = \frac{\dd^{[\lllA]} \vv_\ttp^{\lllA} }{\dd t}
\end{empheq}


\subsubsection{Equações de Poisson}\label{S05-01-02}

Esta subseção tem o intuito de apresentar as equações básicos da cinemática de corpos rígidos,  as equações de Poisson para velocidades, acelerações e sobre-acelerações.

\subsubsubsection{Equação de Poisson para velocidades}\label{S05-01-02-01}

Sejam $\ttp$ e $\tto$ dois pontos pertencentes a um corpo rígido $\llB$, e $\llA$ um referencial. Podemos relacionar a velocidades dos ponto $\ttp$ e $\tto$ em relação a $\llA$ através da equação de Poisson para velocidades:
\begin{empheq}[box=\mybluebox]{equation}\label{eq:Poisson_v}
\vv_\ttp^{\lllA} = \vv_\tto^{\lllA} + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp}
\end{empheq}

\subsubsubsection{Equação de Poisson para acelerações}\label{S05-01-02-02}


Derivando \eqref{eq:Poisson_v} no tempo em relação a $\llA$, temos:
\begin{equation}\label{eq:Poisson_a_aux}
\va_\ttp^{\lllA} = \va_\tto^{\lllA} + \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge (\vv_\ttp^{\lllA} - \vv_\tto^{\lllA})
\end{equation}

Substituindo \eqref{eq:Poisson_v} em \eqref{eq:Poisson_a_aux}, obtemos a equação de Poisson para acelerações:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:Poisson_a}
\va_\ttp^{\lllA} = \va_\tto^{\lllA} + \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp}
\end{empheq}

%\subsubsubsection{Equação de Poisson para sobre-acelerações}\label{S05-01-02-03}
%
%
%Derivando \eqref{eq:Poisson_a} no tempo em relação a $\llA$, temos:
%\begin{equation}\label{eq:Poisson_da_aux}
%\dot{\va}_\ttp^{\lllA} = \dot{\va}_\tto^{\lllA} + \ddot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \dot{\vomega}_{\lllB}^{\lllA} \wedge (\vv_\ttp^{\lllA} - \vv_\tto^{\lllA}) + \dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge (\vv_\ttp^{\lllA} - \vv_\tto^{\lllA})
%\end{equation}
%
%Substituindo \eqref{eq:Poisson_v} em \eqref{eq:Poisson_da_aux}, obtemos a equação de Poisson para sobre-acelerações:
%\begin{empheq}[box=\mybluebox]{equation} \label{eq:Poisson_da}
%\dot{\va}_\ttp^{\lllA} = \dot{\va}_\tto^{\lllA} + \ddot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp}  + 2\dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge  \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto \rl \ttp}
%\end{empheq}

\subsubsection{Composição de movimentos}\label{S05-01-03}

Esta subseção tem o intuito de apresentar um dos princípios básicos da cinemática de corpos rígidos, a composição de movimentos.

\subsubsubsection{Composição de velocidades lineares}\label{S05-01-03-01}

Sejam $\llA$ um referencial, e $\ttA$ um sistema de coordenadas fixo a $\llA$, definido pela origem $\tto_\ttA$ e pelos versores $\vi_\ttA$, $\vj_\ttA$ e $\vk_\ttA$. Sejam também $\llB$ um referencial, $\ttB$ um sistema de coordenadas fixo a $\llB$, definido pela origem $\tto_\ttB$ e pelos versores $\vi_\ttB$, $\vj_\ttB$ e $\vk_\ttB$, e $\ttp$ um ponto no espaço. Definindo os vetores $\vr_{\tto_\ttA \rl \tto_\ttB}$, $\vr_{\tto_\ttB \rl \ttp}$ e $\vr_{\tto_\ttA \rl \ttp}$ tem-se que:
\begin{equation} \label{eq:r_rho}
\vr_{\tto_\ttA \rl \ttp} = \vr_{\tto_\ttA \rl \tto_\ttB} + \vr_{\tto_\ttB \rl \ttp}
\end{equation}

Derivando \eqref{eq:r_rho} no tempo em relação a $\llA$, temos:
\begin{equation} \label{eq:dr_rho_aux}
\vv_\ttp^{\lllA} = \vv_{\tto_\ttB}^{\lllA} + \dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllA]}
\end{equation}

Utilizando a equação \eqref{eq:derivada_vetor}, temos que:
\begin{equation} 
\dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllA]} = \dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllB]} + \vomega_{\lllB}^{\lllA}  \wedge  \vr_{\tto_\ttB \rl \ttp} 
\end{equation}


Ou seja:
\begin{equation} \label{eq:drho}
\dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllA]} =   \vv_\ttp^{\lllB} + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} 
\end{equation}

Substituindo \eqref{eq:drho} em \eqref{eq:dr_rho_aux}, temos:
\begin{equation} \label{eq:dr_rho}
\vv_\ttp^{\lllA} = \vv_{\tto_\ttB}^{\lllA}  + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}  + \vv_\ttp^{\lllB}
\end{equation}

Definindo:
\begin{empheq}[box=\almondbox]{equation} \label{eq:v_arr}
\vv_{\ttp \rl \lllB}^{\lllA} = \vv_{\tto_\ttB}^{\lllA}  + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}
\end{empheq}

Temos princípio da composição de movimento para velocidades lineares:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:Composicao_vel}
\vv_\ttp^{\lllA} = \vv_{\ttp \rl \lllB}^{\lllA} + \vv_\ttp^{\lllB}
\end{empheq}

Ou seja, $\vv_\ttp^{\lllA}$ é composto pela soma de $\vv_{\ttp \rl \lllB}^{\lllA}$, que seria a velocidade de $\ttp$ se $\ttp$ estivesse fixo a $\llB$ (movimento de arrastamento), e $\vv_\ttp^{\lllB}$, que seria a velocidade de $\ttp$ se $\llB$ estivesse parado em relação a $\llA$ (movimento relativo).

\subsubsubsection{Composição de acelerações lineares}\label{S05-01-03-02}

Derivando \eqref{eq:dr_rho} no tempo em relação a $\llA$, temos:
\begin{equation} \label{eq:d2r_rho_aux}
\va_\ttp^{\lllA} = \va_{\tto_\ttB}^{\lllA}  + \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}  + \vomega_{\lllB}^{\lllA} \wedge \dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllA]} + \vomega_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB} + \va_\ttp^{\lllB}
\end{equation}

Substituindo \eqref{eq:drho} em \eqref{eq:d2r_rho_aux}, temos:
\begin{equation} \label{eq:d2r_rho}
\va_\ttp^{\lllA} = \va_{\tto_\ttB}^{\lllA}  + \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}  + 2 \vomega_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB} + \va_\ttp^{\lllB}
\end{equation}

Definindo:
\begin{empheq}[box=\almondbox]{equation}
\va_{\ttp \rl \lllB}^{\lllA} = \va_{\tto_\ttB}^{\lllA}  + \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}
\end{empheq}

Temos princípio da composição de movimento para acelerações lineares:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:Composicao_ace}
\va_\ttp^{\lllA} = \va_{\ttp \rl \lllB}^{\lllA} + \va_\ttp^{\lllB} + 2\vomega_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB}
\end{empheq}

Ou seja, $\va_\ttp^{\lllA}$ é composto pela soma de $\va_{\ttp \rl \lllB}^{\lllA}$, que seria a aceleração de $\ttp$ se $\ttp$ estivesse fixo a $\llB$ (aceleração de arrastamento), $\va_\ttp^{\lllB}$, que seria a aceleração de $\ttp$ se $\llB$ estivesse parado em relação a $\llA$ (aceleração relativa), e da parcela $2\vomega_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB}$ (aceleralção complementar).


%\subsubsubsection{Composição de sobre-acelerações lineares}\label{S05-01-03-03}
%
%Derivando \eqref{eq:d2r_rho} no tempo, temos:
%\begin{multline} \label{eq:d3r_rho_aux}
%\\
%\dot{\va}_\ttp^{\lllA} = 
%\dot{\va}_{\tto_\ttB}^{\lllA}  + 
%\ddot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + \dot{\vomega}_{\lllB}^{\lllA} \wedge \dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllA]} + 
%\dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + 
%\vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + \\
%\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \dot{\vr}_{\tto_\ttB \rl \ttp}^{[\lllA]}  + 
%2 \dot{\vomega}_{\lllB}^{\lllA} \wedge \vv_{\ttp}^{\lllB} + 
% 2 \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vv_{\ttp}^{\lllB} + 
%3 \vomega_{\lllB}^{\lllA} \wedge \va_{\ttp}^{\lllB} + 
%\dot{\va}_{\ttp}^{\lllB} \\
%\end{multline}
%
%
%Substituindo \eqref{eq:drho} em \eqref{eq:d3r_rho_aux}, temos:
%\begin{multline} \label{eq:d3r_rho}
%\\
%\dot{\va}_\ttp^{\lllA} = 
%\dot{\va}_{\tto_\ttB}^{\lllA}  + 
%\ddot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + 
%2\dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}  + 
%\vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + 
%\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}  + \\
%3\dot{\vomega}_{\lllB}^{\lllA} \wedge \vv_{\ttp}^{\lllB} + 
%3\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vv_{\ttp}^{\lllB}  + 
%3 \vomega_{\lllB}^{\lllA} \wedge \va_{\ttp}^{\lllB} +
%\dot{\va}_{\ttp}^{\lllB} \\
%\end{multline}
%
%Definindo:
%\begin{empheq}[box=\almondbox]{equation}
%\dot{\va}_{\ttp \rl \lllB}^{\lllA} = \dot{\va}_{\tto_\ttB}^{\lllA}  + 
%\ddot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + 
%2\dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}  + 
%\vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp} + 
%\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB \rl \ttp}
%\end{empheq}
%
%Temos princípio da composição de movimento para sobre-acelerações lineares:
%\begin{empheq}[box=\mybluebox]{equation} \label{eq:Composicao_dace}
%\dot{\va}_\ttp^{\lllA} = \dot{\va}_{\ttp \rl \lllB}^{\lllA} + \dot{\va}_\ttp^{\lllB} + 3(\dot{\vomega}_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB} + 
%\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB}  + 
% \vomega_{\lllB}^{\lllA} \wedge \va_\ttp^{\lllB} )
%\end{empheq}
%
%Ou seja, $\dot{\va}_\ttp^{\lllA}$ é composto pela soma de $\dot{\va}_{\ttp \rl \lllB}^{\lllA}$, que seria a sobre-aceleração de 
%$\ttp$ se $\ttp$ estivesse fixo a $\llB$ (sobre-aceleração de arrastamento), $\dot{\va}_\ttp^{\lllB}$, que seria a sobre-aceleração de $\ttp$ se $\llB$ estivesse parado em relação a $\llA$ (sobre-aceleração relativa), e da parcela $3(\dot{\vomega}_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB} + 
%\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vv_\ttp^{\lllB}  + 
% \vomega_{\lllB}^{\lllA} \wedge \va_\ttp^{\lllB} )$ (sobre-aceleralção complementar).

\subsubsubsection{Composição de velocidades angulares}\label{S05-01-03-04}

Sejam $\llA$ e $\llB$ dois referenciais e $\llC$ um corpo rígido. Sejam também os pontos $\ttp_1$ e $\ttp_2$, ambos fixos a $\llC$.

Aplicando o princípio da composição de movimento para velocidades lineras, temos que:

\begin{equation}
\vv_{\ttp_1}^{\lllA} = \vv_{\ttp_1 \rl \lllB}^{\lllA} + \vv_{\ttp_1}^{\lllB}
\end{equation}
\begin{equation}
\vv_{\ttp_2}^{\lllA} = \vv_{\ttp_2 \rl \lllB}^{\lllA} + \vv_{\ttp_2}^{\lllB}
\end{equation}

A partir da equação \eqref{eq:v_arr}, temos que:
\begin{equation}
\vv_{\ttp_1 \rl \lllB}^{\lllA} = \vv_{\tto_\ttB}^{\lllA} + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB  \rl \ttp_1} 
\end{equation}
\begin{equation}
\vv_{\ttp_2 \rl \lllB}^{\lllA} = \vv_{\tto_\ttB}^{\lllA} + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB  \rl \ttp_2}
\end{equation}

Sendo assim, temos:
\begin{equation} \label{eq:v_p1}
\vv_{\ttp_1}^{\lllA} = \vv_{\tto_\ttB}^{\lllA} + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB  \rl \ttp_1}  + \vv_{\ttp_1}^{\lllB}
\end{equation}
\begin{equation} \label{eq:v_p2}
\vv_{\ttp_2}^{\lllA} = \vv_{\tto_\ttB}^{\lllA} + \vomega_{\lllB}^{\lllA} \wedge \vr_{\tto_\ttB  \rl \ttp_2} + \vv_{\ttp_2}^{\lllB}
\end{equation}

Subtraindo \eqref{eq:v_p2} de \eqref{eq:v_p1}, temos:
\begin{equation} \label{eq:v_p1p2}
\vv_{\ttp_1}^{\lllA} - \vv_{\ttp_2}^{\lllA} =  \vomega_{\lllB}^{\lllA} \wedge \vr_{\ttp_2  \rl \ttp_1}  + \vv_{\ttp_1}^{\lllB} - \vv_{\ttp_2}^{\lllB}
\end{equation}

Como $\ttp_1$ e $\ttp_2$ pertencem a um mesmo corpo rígido, temos que:
\begin{equation} \label{eq:vA_poisson_p1p2}
\vv_{\ttp_1}^{\lllA} =  \vv_{\ttp_2}^{\lllA} + \vomega_{\lllC}^{\lllA} \wedge \vr_{\ttp_2 \rl \ttp_1}
\end{equation}
\begin{equation} \label{eq:vB_poisson_p1p2}
\vv_{\ttp_1}^{\lllB} =  \vv_{\ttp_2}^{\lllB} + \vomega_{\lllC}^{\lllB} \wedge \vr_{\ttp_2 \rl \ttp_1}
\end{equation}

Substituindo \eqref{eq:vA_poisson_p1p2} e \eqref{eq:vB_poisson_p1p2} em \eqref{eq:v_p1p2}:
\begin{equation}
\vomega_{\lllC}^{\lllA} \wedge \vr_{\ttp_2 \rl \ttp_1} =  \vomega_{\lllB}^{\lllA} \wedge \vr_{\ttp_2  \rl \ttp_1}  + \vomega_{\lllC}^{\lllB} \wedge \vr_{\ttp_2 \rl \ttp_1}
\end{equation}

Temos princípio da composição de movimento para velocidades angulares:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:composicao_w}
\vomega_{\lllC}^{\lllA}  =  \vomega_{\lllB}^{\lllA}   + \vomega_{\lllC}^{\lllB}
\end{empheq}

Ou seja, $\vomega_{\lllC}^{\lllA}$ é composta pela soma de $\vomega_{\lllB}^{\lllA}$, que seria velocidade angular de  de $\llC$ se $\llC$ estivesse fixo a $\llB$ (velocidade angular de arrastamento), e $\vomega_{\lllC}^{\lllB}$, que seria a velocidade angular de $\llC$ se $\llB$ estivesse parado em relação a $\llA$ (velocidade angular relativa).

Repare que, fazendo $\llC \equiv \llA$, temos que:
\begin{equation}
\vzr  =  \vomega_{\lllB}^{\lllA}   + \vomega_{\lllA}^{\lllB}
\end{equation}
\begin{empheq}[box=\almondbox]{equation} \label{eq:composicao_wCA}
\therefore \vomega_{\lllA}^{\lllB}  =   - \vomega_{\lllB}^{\lllA}
\end{empheq}

\subsubsubsection{Composição de acelerações angulares}\label{S05-01-03-05}

Derivando \eqref{eq:composicao_w} no tempo em relação a $\llA$, temos princípio da composição de movimento para acelerações angulares:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:composicao_dw}
\dot{\vomega}_{\lllC}^{\lllA}  =  \dot{\vomega}_{\lllB}^{\lllA}   + \dot{\vomega}_{\lllC}^{\lllB} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllC}^{\lllB}
\end{empheq}

Ou seja, $\dot{\vomega}_{\lllC}^{\lllA}$ é composta pela soma de $\dot{\vomega}_{\lllB}^{\lllA}$, que seria a aceleração angular  de $\llC$ se $\llC$ estivesse fixo a $\llB$ (aceleração angular de arrastamento), $\dot{\vomega}_{\lllC}^{\lllB}$, que seria a aceleração angular de $\llC$ se $\llB$ estivesse parado em relação a $\llA$ (aceleração angular relativa), e da parcela $\vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllC}^{\lllB}$ (aceleralção angular complementar).

Repare que, fazendo $\llC \equiv \llA$ e utilizando \eqref{eq:composicao_wCA}, temos que:
\begin{equation}
\vzr =  \dot{\vomega}_{\lllB}^{\lllA}   + \dot{\vomega}_{\lllA}^{\lllB} - \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA}
\end{equation}
\begin{empheq}[box=\almondbox]{equation} \label{eq:composicao_dwCA}
\therefore \dot{\vomega}_{\lllA}^{\lllB} = - \dot{\vomega}_{\lllB}^{\lllA}
\end{empheq}

%\subsubsubsection{Composição de sobre-acelerações angulares}\label{S05-01-03-06}
%
%Derivando \eqref{eq:composicao_dw} no tempo em relação a $\llA$, temos princípio da composição de movimento para sobre-acelerações angulares:
%\begin{empheq}[box=\mybluebox]{equation} \label{eq:composicao_d2w}
%\ddot{\vomega}_{\lllC}^{\lllA}  =  \ddot{\vomega}_{\lllB}^{\lllA}   + \ddot{\vomega}_{\lllC}^{\lllB} +  \dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllC}^{\lllB} + 2 \vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllC}^{\lllB} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllC}^{\lllB}
%\end{empheq}
%
%Ou seja, $\ddot{\vomega}_{\lllC}^{\lllA}$ é composta pela soma de $\ddot{\vomega}_{\lllB}^{\lllA}$, que seria a sobre-aceleração angular  de $\llC$ se $\llC$ estivesse fixo a $\llB$ (sobre-aceleração angular de arrastamento), $\ddot{\vomega}_{\lllC}^{\lllB}$, que seria a sobre-aceleração angular de $\llC$ se $\llB$ estivesse parado em relação a $\llA$ (aceleração angular relativa), e da parcela $ \dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllC}^{\lllB} + 2 \vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllC}^{\lllB} + \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllC}^{\lllB}$ (sobre-aceleralção angular complementar).
%
%Repare que, fazendo $\llC \equiv \llA$ e utilizando \eqref{eq:composicao_wCA} e \eqref{eq:composicao_dwCA}, temos que:
%\begin{equation}
%\vzr  =  \ddot{\vomega}_{\lllB}^{\lllA}   + \ddot{\vomega}_{\lllA}^{\lllB} -  \dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} - 2 \vomega_{\lllB}^{\lllA} \wedge \dot{\vomega}_{\lllB}^{\lllA} - \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA}
%\end{equation}
%\begin{empheq}[box=\almondbox]{equation} \label{eq:composicao_d2wCA}
%\therefore \ddot{\vomega}_{\lllA}^{\lllB}  =  -\ddot{\vomega}_{\lllB}^{\lllA} -  \dot{\vomega}_{\lllB}^{\lllA} \wedge \vomega_{\lllB}^{\lllA}
%\end{empheq}

\subsection{Algoritmo para modelagem de mecanismos seriais}\label{S05-02}

Esta subseção tem o intuito de apresentar um algoritmo genérico para a obtenção do modelo cinemático e dinâmico de mecanismos seriais. O algoritmo apresentado é implementável em linguagens de programação comumente usadas atualmente, como C++, Java e Python, sem necessitar de recursos de manipulação simbólica. \\
Para a obtenção do modelo, são necessários apenas os parametros de Denavit-Hartemberg \cite{Craig, Denavit, Lipkin, Cabral} do mecanismo e as posições dos centros de massa dos ligamentos em relação aos sistemas de coordenadas fixos aos ligamentos. \\ 

Seja $\ssB$ um sistema mecânico serial de $\nu$ graus de liberdade. Primeiramente, fazemos as seguintes definições:

\begin{itemize}
\item $\llN$ ou $\llB_0$: referencial inercial.
\item $\ttN$ ou $\ttB_0$: sistema de coordenadas da base do mecanismo, fixo a $\llN$.
\item $\llB_i, \,i=1,...,\nu$: i-ésimo ligamento.
\item $\ttB_i, \,i=1,...,\nu$: sistema de coordenadas solid\'ario a $\llB_i$.
\item $\tto_i, \,i=0,...,\nu$: origem do sistema $\ttB_i$.
\item $\{\vi_i, \vj_i, \vk_i\}, \,i=0,...,\nu$: base ortonormal do sistema $\ttB_i$.
\item $\ttg_i, \,i=1,...,\nu$: centro de massa de $\llB_i$.
\item $\ttx$: ponto no espa\c{c}o fixo ao efetuador.
%\item $\vomega_{\lllX}^{\lllN}$: vetor velocidade angular absoluta do efetuador.
%\item $\vv$: vetor velocidade linear absoluta do efetuador.
%\item $\va$: vetor acelera\c{c}\~ao linear absoluta do efetuador.
%\item $\vomega_i, \,i=1,...,\nu$: vetor velocidade angular absoluta de $\llB_i$.
%\item $\vv_i, \,i=1,...,\nu$: vetor velocidade linear absoluta do centro de massa de $\llB_i$.
%\item $\va_i, \,i=1,...,\nu$: vetor acelera\c{c}\~ao linear absoluta do centro de $\llB_i$.
\item $m_i$: massa da barra $\llB_i$.
\item $\vI_{\ttg_i}$: tensor de in\'ercia da barra $\llB_i$ em relação a seu centro de massa.
\item $\mI_i$: tensor de in\'ercia $\vI_{\ttg_i}$ escrito na base $\ttN$, ou seja, $\vct{\vI_{\ttg_i}}_{\ttN \rl \ttN}$.
\item $q_i, \,i=1,...,\nu$: deslocamento relativo (angular ou linear) da i-ésima junta.
\item  $\mq$: matriz-coluna de $\nu$ coordenadas generalizadas independentes. É dada por $\mq = \begin{bmatrix}
q_1 & ... & {q}_{\nu}
\end{bmatrix}^\msT $.
\item $\vg$: Vetor aceleração gravitacional.
\item $\mgamma$: Vetor aceleração gravitacional escrito na base $\ttN$, ou seja, $\vct{\vg}_{\ttN}$.
\item $\vf_i$: Vetor força não-reativa resultante aplicada no centro de massa de $\llB_i$.
\item $\vtau_i$: Vetor torque não-reativo resultante aplicado em $\llB_i$.
\item $\overline{\mf}_i$: Matriz-coluna de forças não-reativas generalizadas aplicadas no subsistema $\llB_i$. É dada por $\overline{\mf}_i = \begin{bmatrix}
\vct{\vf_i}_\ttN^\msT &
\vct{\vtau_i}_\ttN^\msT
\end{bmatrix}^\msT $.
\end{itemize}

\subsubsection{Cinemática}\label{S05-02-01}

\subsubsubsection{Cinemática de posição}\label{S05-02-01-01}

Dados os parâmetros de Denavit-Hartemberg $a_i$, $\alpha_i$, $d_i$ e $\theta_i$, com $1 \leq i \leq \nu$, é possível obter as matrizes de transformação homogênea $\hvct{\vone}_{\ttB_{i-1} \rl \ttB_i}$ a partir da seguinte expressão \cite{Cabral} :

\begin{empheq}[box=\myyellowbox]{equation} \label{eq:TransformacaoHomogeneaDH}
\hvct{\vone}_{\ttB_{i-1} \rl \ttB_i} =
\begin{bmatrix}
\ccos\theta_i & -\ssin\theta_i \ccos\alpha_i &  \ssin\theta_i \ssin\alpha_i & a_i\ccos\theta_i \\
\ssin\theta_i &  \ccos\theta_i \ccos\alpha_i & -\ccos\theta_i \ssin\alpha_i & a_i\ssin\theta_i \\
0             &  \ssin\alpha_i               &  \ccos\alpha_i               & d_i \\
0             & 0                            & 0                            & 1
\end{bmatrix},\, i=1,...,\nu
\end{empheq}

Tendo obtido $\hvct{\vone}_{\ttB_{i-1} \rl \ttB_i}$, é possível obter as transformações homogêneas que relacionam os sistemas solidários aos ligamentos ($\ttB_i$) ao sistema da base ($\ttN$) pela seguinte expressão recursiva:

\begin{empheq}[box=\myyellowbox]{equation} \label{eq:H__}
\hvct{\vone}_{\ttN \rl \ttB_i} =
\begin{cases}
\hvct{\vone}_{\ttB_0 \rl \ttB_1}, \text{se } i=1 \\
\hvct{\vone}_{\ttN \rl \ttB_{i-1}} \cdot \hvct{\vone}_{\ttB_{i-1} \rl \ttB_i}  , \text{se } i>1
\end{cases} \, i=1,...,\nu
\end{empheq}

As matrizes  $\hvct{\vone}_{\ttN \rl \ttB_i}$ apresentam o seguinte formato:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:H__2}
\hvct{\vone}_{\ttN \rl \ttB_i} =
\begin{bmatrix}
\vct{\vi_{i}}_{\ttN} & \vct{\vj_{i}}_{\ttN} & \vct{\vk_{i}}_{\ttN} & \vct{\tto_i}_{\ttN} \\
0 & 0 & 0 & 1
\end{bmatrix}
\end{empheq}

Sendo assim, tendo obtido $\hvct{\vone}_{\ttN \rl \ttB_i}$, automaticamente obtemos $\vct{\vi_{i}}_{\ttN}, \vct{\vj_{i}}_{\ttN}, \vct{\vk_{i}}_{\ttN}$ e $\vct{\tto_i}_{\ttN}$. Note que também obtemos as coordenadas do efetuador no sistema da base, pois
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:x_}
\vct{\ttx}_{\ttN} = \vct{\tto_{\nu}}_{\ttN}
\end{empheq}

Além disso, como $\vct{\ttg_i}_{\ttB_i}$ são dados de entrada do algoritmo, obtemos as coordenadas dos centros de massa dos ligamentos no sistema da base através da seguinte expressão:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:og__}
\hvct{\ttg_i}_{\ttN} = \hvct{\vone}_{\ttN \rl \ttB_i} \cdot \hvct{\ttg_i}_{\ttB_i}
\end{empheq}

\subsubsubsection{Cinemática de velocidades lineares}\label{S05-02-01-02}

A velocidade do efetuador pode ser obtida aplicando recursivamente o príncipio da composição de movimentos para velocidades lineres deduzido anteriormente \eqref{eq:Composicao_vel}:

\begin{equation}
\vv_{\ttx}^{\lllB_0} = \vv_{\ttx \rl \lllB_1}^{\lllB_0} + \vv_{\ttx}^{\lllB_1}
\end{equation}
\begin{equation}
\vv_{\ttx}^{\lllB_1} = \vv_{\ttx \rl \lllB_2}^{\lllB_1} + \vv_{\ttx}^{\lllB_2}
\end{equation}
$$ \vdots $$
\begin{equation}
\vv_{\ttx}^{\lllB_{i-1}} = \vv_{\ttx \rl \lllB_i}^{\lllB_{i-1}} + \vv_{\ttx}^{\lllB_i}
\end{equation}
$$ \vdots $$
\begin{equation}
\vv_{\ttx}^{\lllB_{\nu-1}} = \vv_{\ttx \rl \lllB_\nu}^{\lllB_{\nu-1}} + \vv_{\ttx}^{\lllB_\nu}
\end{equation}

Como $\ttx$ é fixo a $\llB_\nu$, temos que:
\begin{equation}
\vv_{\ttx}^{\lllB_\nu} = \vzr
\end{equation}

Sendo assim, a velocidade do efetuador em relação a cada um dos referenciais pode ser obtida recursivamente pela seguinte expressão:
%\begin{equation}
%\vv_{\ttx}^{\lllB_{i-1}} =
%\begin{cases}
%\displaystyle\sum_{j=i}^{\nu} \vv_{\ttx \rl \lllB_{j}}^{\lllB_{j-1}}, \; 1 \leq i \leq \nu \\
%\vzr, \;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1
%\end{cases}\, i=1,...,\nu+1
%\end{equation}
\begin{equation}
\vv_{\ttx}^{\lllB_{i-1}} =
\begin{cases}
\vzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\vv_{\ttx}^{\lllB_{i}} + \vv_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}}, \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{equation}



Sendo que, a partir da equação \eqref{eq:Poisson_v}, a velocidade de arrastamento de cada uma das juntas é dada por:
\begin{equation}
\vv_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}} = 
\begin{cases}
\dot{q}_{i} \vk_{i-1}, \;\;\;\;\;\;\;\;\;\;\;\;\;\; \text{i-ésima junta prismática} \\
\dot{q}_{i} \vk_{i-1} \wedge \vr_{\tto_{i-1} \rl \ttx}, \; \text{i-ésima junta rotativa}
\end{cases}\, i=1,...,\nu
\end{equation}

Fazendo as seguintes definições:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:jvi_}
\mj_{v\,i}(\mq) = \begin{cases}
\vct{\vk_{i-1}}_{\ttN}, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; \text{i-ésima junta prismática} \\
\vct{\vk_{i-1}}_{\ttN}\wedge (\vct{\ttx}_{\ttN}-\vct{\tto_{i-1}}_{\ttN}) , \; \text{i-ésima junta rotativa} \\
\end{cases} \, i=1,...,\nu
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\mv_i = \vct{\vv_{\ttx}^{\lllB_{i}} }_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\mv^\star  = \mv_0 =\vct{\vv_{\ttx}^{\lllN} }_{\ttN}
\end{empheq}

Temos que:
\begin{equation}
\vct{\vv_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}} }_{\ttN} = \mj_{v\,i} \dot{q}_{i}, \; i=1,...,\nu
\end{equation}
\begin{empheq}[box=\myyellowbox]{equation}
\mv_{i-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\mv_i + \mj_{v\,i}  \dot{q}_{i}, \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}\label{eq:vel_est}
\mv^\star (\mq, \dot{\mq}) = \mJ_v(\mq) \cdot \dot{\mq}
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:Jv_}
\mJ_v(\mq) = \begin{bmatrix}
\mj_{v\,1}(\mq) & ... & \mj_{v\,\nu}(\mq)
\end{bmatrix}
\end{empheq}

Para obter as velocidades dos centros de massa dos ligamentos, seguimos a mesma linha de raciocínio e obtemos os seguintes resultados:

Definindo:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:jvij_}
\mj_{v\,i,j}(\mq) = \begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j>i \\
\vct{\vk_{j-1}}_{\ttN}, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j\leq i  \text{ e j-ésima junta prismática} \\
\vct{\vk_{j-1}}_{\ttN}\wedge (\vct{\ttg_i}_{\ttN}-\vct{\tto_{j-1}}_{\ttN}) , \; j\leq i \text{ e j-ésima junta rotativa} \\
\end{cases} \, i,j=1,...,\nu
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\mv_{i,j} = \vct{\vv_{\ttg_i}^{\lllB_{j}}}_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\mv^\star_i  = \mv_{i,0} = \vct{\vv_{\ttg_i}^{\lllN} }_{\ttN}
\end{empheq}

Temos:
\begin{empheq}[box=\myyellowbox]{equation} 
\mv_{i,j-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j = i+1 \\
\mv_{i,j} + \mj_{v\,i,j} \dot{q}_{j}, \; 1 \leq j \leq i \\
\end{cases}\, i=1,...,\nu, \, j=i+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}  \label{eq:v_star_i}
\mv^\star_i(\mq, \dot{\mq}) = \mJ_{v\,i}(\mq) \cdot \dot{\mq}
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:Jvi_}
\mJ_{v\,i}(\mq) = \begin{bmatrix}
\mj_{v\,i,1}(\mq) & ... & \mj_{v\,i,\nu}(\mq)
\end{bmatrix}
\end{empheq}

\subsubsubsection{Cinemática de velocidades angulares}\label{S05-02-01-03}

A velocidade angular do efetuador pode ser obtida aplicando recursivamente o príncipio da composição de movimentos para velocidades angulares deduzido anteriormente \eqref{eq:composicao_w}:

\begin{equation}
\vomega_{\lllB_\nu}^{\lllB_0} = \vomega_{\lllB_1}^{\lllB_0} + \vomega_{\lllB_\nu}^{\lllB_1}
\end{equation}
\begin{equation}
\vomega_{\lllB_\nu}^{\lllB_1} = \vomega_{\lllB_2}^{\lllB_1} + \vomega_{\lllB_\nu}^{\lllB_2}
\end{equation}
$$ \vdots $$
\begin{equation}
\vomega_{\lllB_\nu}^{\lllB_{i-1}} = \vomega_{\lllB_i}^{\lllB_{i-1}} + \vomega_{\lllB_\nu}^{\lllB_i}
\end{equation}
$$ \vdots $$
\begin{equation}
\vomega_{\lllB_\nu}^{\lllB_{\nu-2}} = \vomega_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} + \vomega_{\lllB_\nu}^{\lllB_{\nu-1}}
\end{equation}


Sendo assim, a velocidade angular do efetuador em relação a cada um dos referenciais pode ser obtida recursivamente pela seguinte expressão:
%\begin{equation}
%\vomega_{\lllB_\nu}^{\lllB_{i-1}} =
%\begin{cases}
%\displaystyle\sum_{j=i}^{\nu} \vomega_{\lllB_{j}}^{\lllB_{j-1}}, \; 1 \leq i \leq \nu \\
%\vzr, \;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1
%\end{cases}\, i=1,...,\nu+1
%\end{equation}
\begin{equation}
\vomega_{\lllB_\nu}^{\lllB_{i-1}} =
\begin{cases}
\vzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\vomega_{\lllB_\nu}^{\lllB_{i}} + \vomega_{\lllB_{i}}^{\lllB_{i-1}}, \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{equation}



Sendo que a velocidade angular de arrastamento de cada uma das juntas é dada por:
\begin{equation}
\vomega_{\lllB_{i}}^{\lllB_{i-1}} = 
\begin{cases}
\vzr, \;\;\;\;\;\;\; \text{i-ésima junta prismática} \\
\dot{q}_{i} \vk_{i-1}, \; \text{i-ésima junta rotativa}
\end{cases}\, i=1,...,\nu
\end{equation}

Fazendo as seguintes definições:
\begin{empheq}[box=\myyellowbox]{equation}  \label{eq:jwi_}
\mj_{\omega\,i}(\mq) = \begin{cases}
\mzr, \;\;\;\;\;\;\;\; \text{i-ésima junta prismática} \\
\vct{\vk_{i-1}}_{\ttN} , \text{i-ésima junta rotativa} \\
\end{cases} \, i=1,...,\nu
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\momega_i = \vct{\vomega_{\lllB_\nu}^{\lllB_{i}} }_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\momega^\star = \momega_0 = \vct{\vomega_{\lllB_\nu}^{\lllN} }_{\ttN} 
\end{empheq}

Temos que:
\begin{equation}
\vct{\vomega_{\lllB_{i}}^{\lllB_{i-1}} }_{\ttN} = \mj_{\omega\,i} \dot{q}_{i}, \; i=1,...,\nu
\end{equation}

\begin{empheq}[box=\myyellowbox]{equation}
\momega_{i-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\momega_i + \mj_{\omega\,i} \dot{q}_{i}, \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation} \label{eq:vel_ang_est}
\momega^\star(\mq, \dot{\mq}) = \mJ_\omega (\mq) \cdot \dot{\mq}
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:Jw_}
\mJ_\omega(\mq) = \begin{bmatrix}
\mj_{\omega\,1}(\mq) & ... & \mj_{\omega\,\nu}(\mq)
\end{bmatrix}
\end{empheq}

Para obter as velocidades angulares de cada ligamentos, seguimos a mesma linha de raciocínio e obtemos os seguintes resultados:

Definindo:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:jwij_}
\mj_{\omega\,i,j}(\mq) = \begin{cases}
\mzr, \;\;\;\;\;\;\;\;\,  j>i \\
\mj_{\omega\,j}(\mq), \;  j\leq i \\
\end{cases} \, i,j=1,...,\nu
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\momega_{i,j} = \vct{\vomega_{\lllB_i}^{\lllB_{j}}}_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\momega^\star_i = \momega_{i,0} = \vct{\vomega_{\lllB_i}^{\lllN} }_{\ttN} 
\end{empheq}

Temos:
\begin{empheq}[box=\myyellowbox]{equation}
\momega_{i,j-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j = i+1 \\
\momega_{i,j} + \mj_{\omega\,i,j} \dot{q}_{j}, \; 1 \leq j \leq i \\
\end{cases}\, i=1,...,\nu, \, j=i+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation} \label{eq:omega_star_i}
\momega^\star_i (\mq, \dot{\mq}) = \mJ_{\omega\,i}(\mq) \cdot \dot{\mq}
\end{empheq}

Sendo:

\begin{empheq}[box=\myyellowbox]{equation} \label{eq:Jwi_}
\mJ_{\omega\,i}(\mq) = \begin{bmatrix}
\mj_{\omega\,i,1}(\mq) & ... & \mj_{\omega\,i,\nu}(\mq)
\end{bmatrix}
\end{empheq}

\subsubsubsection{Cinemática de acelerações lineares}\label{S05-02-01-04}

A aceleração do efetuador pode ser obtida aplicando recursivamente o príncipio da composição de movimentos para velocidades lineres deduzido anteriormente \eqref{eq:Composicao_ace}:

\begin{equation}
\va_{\ttx}^{\lllB_0} = \va_{\ttx \rl \lllB_1}^{\lllB_0} + \va_{\ttx}^{\lllB_1} + 2 \vomega_{\lllB_1}^{\lllB_0} \wedge \vv_{\ttx}^{\lllB_1}
\end{equation}
\begin{equation}
\va_{\ttx}^{\lllB_1} = \va_{\ttx \rl \lllB_2}^{\lllB_1} + \va_{\ttx}^{\lllB_2} + 2 \vomega_{\lllB_2}^{\lllB_1} \wedge \vv_{\ttx}^{\lllB_2}
\end{equation}
$$ \vdots $$
\begin{equation}
\va_{\ttx}^{\lllB_{i-1}} = \va_{\ttx \rl \lllB_i}^{\lllB_{i-1}} + \va_{\ttx}^{\lllB_i} + 2 \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vv_{\ttx}^{\lllB_i}
\end{equation}
$$ \vdots $$
\begin{equation}
\va_{\ttx}^{\lllB_{\nu-1}} = \va_{\ttx \rl \lllB_\nu}^{\lllB_{\nu-1}} + \va_{\ttx}^{\lllB_\nu} + 2 \vomega_{\lllB_\nu}^{\lllB_{\nu-1}} \wedge \vv_{\ttx}^{\lllB_\nu}
\end{equation}

Como $\ttx$ é fixo a $\llB_\nu$, temos que:
\begin{equation}
\va_{\ttx}^{\lllB_\nu} = \vzr
\end{equation}

Sendo assim, a aceleração do efetuador em relação a cada um dos referenciais pode ser obtida recursivamente pela seguinte expressão:
%\begin{equation}
%\vv_{\ttx}^{\lllB_{i-1}} =
%\begin{cases}
%\displaystyle\sum_{j=i}^{\nu} \vv_{\ttx \rl \lllB_{j}}^{\lllB_{j-1}}, \; 1 \leq i \leq \nu \\
%\vzr, \;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1
%\end{cases}\, i=1,...,\nu+1
%\end{equation}
\begin{equation}
\va_{\ttx}^{\lllB_{i-1}} =
\begin{cases}
\vzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\va_{\ttx}^{\lllB_i} +\va_{\ttx \rl \lllB_i}^{\lllB_{i-1}} + 2 \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vv_{\ttx}^{\lllB_i}, \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{equation}



Sendo que, a partir da equação \eqref{eq:Poisson_a}, a aceleração de arrastamento de cada uma das juntas é dada por:
\begin{equation}
\va_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}} = 
\begin{cases}
\ddot{q}_{i} \vk_{i-1}, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; \text{i-ésima junta prismática} \\
\ddot{q}_{i} \vk_{i-1} \wedge \vr_{\tto_{i-1} \rl \ttx} + \dot{q}^2_{i} \vk_{i-1} \wedge \vk_{i-1} \wedge \vr_{\tto_{i-1} \rl \ttx} , \; \text{i-ésima junta rotativa}
\end{cases}\, i=1,...,\nu
\end{equation}

Fazendo as seguintes definições:
\begin{empheq}[box=\lightbluebox]{equation}
\ma_i = \vct{\va_{\ttx}^{\lllB_{i}} }_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\ma^\star = \ma_0 =\vct{\va_{\ttx}^{\lllN} }_{\ttN}
\end{empheq}

Temos que:
\begin{equation}
\vct{\va_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}} }_{\ttN} = \ddot{q}_{i} \mj_{v\,i} + \dot{q}^2_{i} \mj_{\omega\,i} \wedge \mj_{v\,i}, \; i=1,...,\nu
\end{equation}

\begin{empheq}[box=\myyellowbox]{equation}
\ma_{i-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\ma_i +  \mj_{v\,i} \ddot{q}_{i} + (\underaccent{\sim}{\ma})_i  , \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation} \label{eq:ace_est}
\ma^\star (\mq,\dot{\mq},\ddot{\mq}) = \mJ_v (\mq)  \cdot \ddot{\mq} + \underaccent{\sim}{\ma} (\mq,\dot{\mq})
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation}
(\underaccent{\sim}{\ma})_i = \dot{q}_{i} \mj_{\omega\,i} \wedge ( \dot{q}_{i}  \mj_{v\,i} + 2  \mv_i)
\end{empheq}

\begin{empheq}[box=\myyellowbox]{equation} \label{eq:a_til}
\underaccent{\sim}{\ma} = \sum_{i=1}^\nu (\underaccent{\sim}{\ma})_i
\end{empheq}

Para obter as acelerações dos centros de massa dos ligamentos, seguimos a mesma linha de raciocínio e obtemos os seguintes resultados:

Definindo:
\begin{empheq}[box=\lightbluebox]{equation}
\ma_{i,j} = \vct{\va_{\ttg_i}^{\lllB_{j}}}_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\ma^\star_i = \ma_{i,0} = \vct{\va_{\ttg_i}^{\lllN} }_{\ttN}
\end{empheq}

Temos:
\begin{empheq}[box=\myyellowbox]{equation}
\ma_{i,j-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j = i+1 \\
\ma_{i,j} + \mj_{v\,i,j} \ddot{q}_{j} + (\underaccent{\sim}{\ma}_i)_j, \; 1 \leq j \leq i \\
\end{cases}\, i=1,...,\nu, \, j=i+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation} \label{eq:a_star_i}
\ma^\star_i (\mq,\dot{\mq},\ddot{\mq}) = \mJ_{v\,i}(\mq) \cdot \ddot{\mq} + \underaccent{\sim}{\ma}_i (\mq,\dot{\mq})
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation}
(\underaccent{\sim}{\ma}_i)_j = \dot{q}_{j} \mj_{\omega\,i,j} \wedge ( \dot{q}_{j} \mj_{v\,i,j} + 2  \mv_{i,j})
\end{empheq}

\begin{empheq}[box=\myyellowbox]{equation}
\underaccent{\sim}{\ma}_i (\mq, \dot{\mq}) = \sum_{j=1}^i (\underaccent{\sim}{\ma}_i)_j
\end{empheq}

\subsubsubsection{Cinemática de acelerações angulares}\label{S05-02-01-05}

A aceleração angular do efetuador pode ser obtida aplicando recursivamente o príncipio da composição de movimentos para acelerações deduzido anteriormente \eqref{eq:composicao_dw}:

\begin{equation}
\dot{\vomega}_{\lllB_\nu}^{\lllB_0} = \dot{\vomega}_{\lllB_1}^{\lllB_0} + \dot{\vomega}_{\lllB_\nu}^{\lllB_1} +  \vomega_{\lllB_1}^{\lllB_0} \wedge \vomega_{\lllB_\nu}^{\lllB_1}
\end{equation}
\begin{equation}
\dot{\vomega}_{\lllB_\nu}^{\lllB_1} = \dot{\vomega}_{\lllB_2}^{\lllB_1} + \dot{\vomega}_{\lllB_\nu}^{\lllB_2} +  \vomega_{\lllB_2}^{\lllB_1} \wedge \vomega_{\lllB_\nu}^{\lllB_2}
\end{equation}
$$ \vdots $$
\begin{equation}
\dot{\vomega}_{\lllB_\nu}^{\lllB_{i-1}} = \dot{\vomega}_{\lllB_i}^{\lllB_{i-1}} + \dot{\vomega}_{\lllB_\nu}^{\lllB_i} +  \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_i}
\end{equation}
$$ \vdots $$
\begin{equation}
\dot{\vomega}_{\lllB_\nu}^{\lllB_{\nu-2}} = \dot{\vomega}_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} + \dot{\vomega}_{\lllB_\nu}^{\lllB_{\nu-1}} + \vomega_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} \wedge \vomega_{\lllB_\nu}^{\lllB_{\nu-1}}
\end{equation}


Sendo assim, a aceleração angular do efetuador em relação a cada um dos referenciais pode ser obtida recursivamente pela seguinte expressão:
%\begin{equation}
%\vv_{\ttx}^{\lllB_{i-1}} =
%\begin{cases}
%\displaystyle\sum_{j=i}^{\nu} \vv_{\ttx \rl \lllB_{j}}^{\lllB_{j-1}}, \; 1 \leq i \leq \nu \\
%\vzr, \;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1
%\end{cases}\, i=1,...,\nu+1
%\end{equation}
\begin{equation}
\dot{\vomega}_{\lllB_\nu}^{\lllB_{i-1}} =
\begin{cases}
\vzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\dot{\vomega}_{\lllB_i}^{\lllB_{i-1}} + \dot{\vomega}_{\lllB_\nu}^{\lllB_i} +  \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_i}, \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{equation}



Sendo que a aceleração angular de arrastamento de cada uma das juntas é dada por:
\begin{equation}
\dot{\vomega}_{\lllB_{i}}^{\lllB_{i-1}} = 
\begin{cases}
\vzr, \;\;\;\;\;\;\; \text{i-ésima junta for prismática} \\
\ddot{q}_{i} \vk_{i-1}, \; \text{i-ésima junta rotativa}
\end{cases}\, i=1,...,\nu
\end{equation}

Fazendo as seguintes definições:
\begin{empheq}[box=\lightbluebox]{equation}
\dot{\momega}_i = \vct{\dot{\vomega}_{\ttx}^{\lllB_{i}} }_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\dot{\momega}^\star = \dot{\momega}_0 = \vct{\dot{\vomega}_{\lllB_\nu}^{\lllN} }_{\ttN}
\end{empheq}

Temos que:
\begin{equation}
\vct{\dot{\vomega}_{\lllB_{i}}^{\lllB_{i-1}} }_{\ttN} = \ddot{q}_{i} \mj_{\omega\,i} , \; i=1,...,\nu
\end{equation}

\begin{empheq}[box=\myyellowbox]{equation}
\dot{\momega}_{i-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
\dot{\momega}_i +  \mj_{\omega\,i} \ddot{q}_{i} + (\underaccent{\sim}{\dot{\momega}})_i , \; 1 \leq i \leq \nu \\
\end{cases}\, i=\nu+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation} \label{eq:ace_ang_est}
\dot{\momega}^\star(\mq,\dot{\mq},\ddot{\mq}) = \mJ_\omega (\mq) \cdot \ddot{\mq} +  \underaccent{\sim}{\dot{\momega}}(\mq,\dot{\mq})
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation}
(\underaccent{\sim}{\dot{\momega}})_i = \dot{q}_i \mj_{\omega\,i} \wedge \momega_i
\end{empheq}

\begin{empheq}[box=\myyellowbox]{equation} \label{eq:dw_til}
\underaccent{\sim}{\dot{\momega}} = \sum_{i=1}^\nu (\underaccent{\sim}{\dot{\momega}})_i
\end{empheq}

Para obter as acelerações angulares dos centros de massa dos ligamentos, seguimos a mesma linha de raciocínio e obtemos os seguintes resultados:

Definindo:
\begin{empheq}[box=\lightbluebox]{equation}
\dot{\momega}_{i,j} = \vct{\dot{\vomega}_{\ttg_i}^{\lllB_{j}}}_{\ttN}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\dot{\momega}^\star_i = \dot{\momega}_{i,0} = \vct{\dot{\vomega}_{\lllB_i}^{\lllN} }_{\ttN}
\end{empheq}

Temos:
\begin{empheq}[box=\myyellowbox]{equation}
\dot{\momega}_{i,j-1} =
\begin{cases}
\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j = i+1 \\
\dot{\momega}_{i,j} + \mj_{\omega\,i,j} \ddot{q}_{j}  + (\underaccent{\sim}{\dot{\momega}}_i)_j, \; 1 \leq j \leq i \\
\end{cases}\, i=1,...,\nu, \, j=i+1,...,1
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}\label{eq:domega_star_i}
\dot{\momega}^\star_i (\mq,\dot{\mq},\ddot{\mq}) = \mJ_{\omega\,i} (\mq) \cdot \ddot{\mq} + \underaccent{\sim}{\dot{\momega}}_i (\mq,\dot{\mq})
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation}
(\underaccent{\sim}{\dot{\momega}}_i)_j = \dot{q}_j \mj_{\omega\,i,j} \wedge \momega_{i,j}
\end{empheq}

\begin{empheq}[box=\myyellowbox]{equation}
\underaccent{\sim}{\dot{\momega}}_i (\mq, \dot{\mq}) = \sum_{j=1}^i (\underaccent{\sim}{\dot{\momega}}_i)_j
\end{empheq}


%\subsubsubsection{Cinemática de sobre-acelerações lineares}\label{S05-02-01-06}
%
%A sobre-aceleração do efetuador pode ser obtida aplicando recursivamente o príncipio da composição de movimentos para sobre-acelerações lineres deduzido anteriormente \eqref{eq:Composicao_dace}:
%
%
%\begin{equation}
%\dot{\va}_\ttp^{\lllB_0} = \dot{\va}_{\ttp \rl \lllB_1}^{\lllB_0} + \dot{\va}_\ttp^{\lllB_1} + 3(\dot{\vomega}_{\lllB_1}^{\lllB_0} \wedge \vv_\ttp^{\lllB_1} + 
%\vomega_{\lllB_1}^{\lllB_0} \wedge \vomega_{\lllB_1}^{\lllB_0} \wedge \vv_\ttp^{\lllB_1}  + 
% \vomega_{\lllB_1}^{\lllB_0} \wedge \va_\ttp^{\lllB_1} )
%\end{equation}
%\begin{equation}
%\dot{\va}_\ttp^{\lllB_1} = \dot{\va}_{\ttp \rl \lllB_2}^{\lllB_1} + \dot{\va}_\ttp^{\lllB_2} + 3(\dot{\vomega}_{\lllB_2}^{\lllB_1} \wedge \vv_\ttp^{\lllB_2} + 
%\vomega_{\lllB_2}^{\lllB_1} \wedge \vomega_{\lllB_2}^{\lllB_1} \wedge \vv_\ttp^{\lllB_2}  + 
% \vomega_{\lllB_2}^{\lllB_1} \wedge \va_\ttp^{\lllB_2} )
%\end{equation}
%$$ \vdots $$
%\begin{equation}
%\dot{\va}_\ttp^{\lllB_{i-1}} = \dot{\va}_{\ttp \rl \lllB_i}^{\lllB_{i-1}} + \dot{\va}_\ttp^{\lllB_i} + 3(\dot{\vomega}_{\lllB_i}^{\lllB_{i-1}} \wedge \vv_\ttp^{\lllB_i} + 
%\vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vv_\ttp^{\lllB_i}  + 
% \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \va_\ttp^{\lllB_i} )
%\end{equation}
%$$ \vdots $$
%\begin{equation}
%\dot{\va}_\ttp^{\lllB_{\nu-1}} = \dot{\va}_{\ttp \rl \lllB_\nu}^{\lllB_{\nu-1}} + \dot{\va}_\ttp^{\lllB_\nu} + 3(\dot{\vomega}_{\lllB_\nu}^{\lllB_{\nu-1}} \wedge \vv_\ttp^{\lllB_\nu} + 
%\vomega_{\lllB_\nu}^{\lllB_{\nu-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_{\nu-1}} \wedge \vv_\ttp^{\lllB_\nu}  + 
% \vomega_{\lllB_\nu}^{\lllB_{\nu-1}} \wedge \va_\ttp^{\lllB_\nu} )
%\end{equation}
%
%Como $\ttx$ é fixo a $\llB_\nu$, temos que:
%\begin{equation}
%\dot{\va}_{\ttx}^{\lllB_\nu} = \vzr
%\end{equation}
%
%Sendo assim, a sobre-aceleração do efetuador em relação a cada um dos referenciais pode ser obtida recursivamente pela seguinte expressão:
%%\begin{equation}
%%\vv_{\ttx}^{\lllB_{i-1}} =
%%\begin{cases}
%%\displaystyle\sum_{j=i}^{\nu} \vv_{\ttx \rl \lllB_{j}}^{\lllB_{j-1}}, \; 1 \leq i \leq \nu \\
%%\vzr, \;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1
%%\end{cases}\, i=1,...,\nu+1
%%\end{equation}
%\begin{equation}
%\va_{\ttx}^{\lllB_{i-1}} =
%\begin{cases}
%\vzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
%\dot{\va}_{\ttp \rl \lllB_i}^{\lllB_{i-1}} + \dot{\va}_\ttp^{\lllB_i} + 3(\dot{\vomega}_{\lllB_i}^{\lllB_{i-1}} \wedge \vv_\ttp^{\lllB_i} + 
%\vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vv_\ttp^{\lllB_i}  + 
% \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \va_\ttp^{\lllB_i} ), \; 1 \leq i \leq \nu \\
%\end{cases}\, i=\nu+1,...,1
%\end{equation}
%
%
%
%Sendo que, a partir da equação \eqref{eq:Poisson_da}, a sobre-aceleração de arrastamento de cada uma das juntas é dada por:
%\footnotesize
%\begin{equation}
%\dot{\va}_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}} = 
%\begin{cases}
%\dddot{q}_{i} \vk_{i-1}, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; \text{junta prismática} \\
%\dddot{q}_{i} \vk_{i-1} \wedge \vr_{\tto_{i-1} \rl \ttx} + 3 \dot{q}_{i} \ddot{q}_{i} \vk_{i-1} \wedge \vk_{i-1} \wedge \vr_{\tto_{i-1} \rl \ttx}  + \dot{q}_{i}^3 \vk_{i-1} \wedge \vk_{i-1} \wedge \vk_{i-1} \wedge \vr_{\tto_{i-1} \rl \ttx}, \; \text{junta rotativa}
%\end{cases}\, i=1,...,\nu
%\end{equation}
%\normalsize
%
%Fazendo as seguintes definições:
%\begin{empheq}[box=\lightbluebox]{equation}
%\dot{\ma}_i = \vct{\dot{\va}_{\ttx}^{\lllB_{i}} }_{\ttN}
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation}
%\dot{\ma}^\star = \dot{\ma}_0 =\vct{\dot{\va}_{\ttx}^{\lllN} }_{\ttN}
%\end{empheq}
%
%Temos que:
%\begin{equation}
%\vct{\dot{\va}_{\ttx \rl \lllB_{i}}^{\lllB_{i-1}} }_{\ttN} = \dddot{q}_{i} \mj_{v\,i} + 3 \dot{q}_{i} \ddot{q}_{i} \mj_{\omega\,i} \wedge \mj_{v\,i} + \dot{q}_{i}^3 \mj_{\omega\,i} \wedge \mj_{\omega\,i} \wedge \mj_{v\,i}, \; i=1,...,\nu
%\end{equation}
%
%\begin{empheq}[box=\myyellowbox]{equation}
%\dot{\ma}_{i-1} =
%\begin{cases}
%\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
%\dot{\ma}_i + \dddot{q}_{i} \mj_{v\,i} + (\underaccent{\sim}{\dot{\ma}})_i , \; 1 \leq i \leq \nu \\
%\end{cases}\, i=\nu+1,...,1
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation}
%\dot{\ma}^\star (\mq,\dot{\mq},\ddot{\mq}) = \mJ_v (\mq)  \cdot \dddot{\mq} + \underaccent{\sim}{\dot{\ma}} (\mq,\dot{\mq})
%\end{empheq}
%
%Sendo:
%\begin{empheq}[box=\myyellowbox]{equation}
%(\underaccent{\sim}{\dot{\ma}})_i = 3 \dot{q}_{i} \ddot{q}_{i} \mj_{\omega\,i} \wedge \mj_{v\,i} + \dot{q}_{i}^3 \mj_{\omega\,i} \wedge \mj_{\omega\,i} \wedge \mj_{v\,i} + 3(\ddot{q}_i  \mj_{\omega\,i} \wedge \mv_i + 
%\dot{q}_i^2 \mj_{\omega\,i} \wedge \mj_{\omega\,i} \wedge \mv_i  + \dot{q}_i
% \mj_{\omega\,i} \wedge \ma_i )
%\end{empheq}
%
%\begin{empheq}[box=\myyellowbox]{equation}
%\underaccent{\sim}{\dot{\ma}} = \sum_{i=1}^\nu  (\underaccent{\sim}{\dot{\ma}})_i
%\end{empheq}
%
%Para obter as acelerações dos centros de massa dos ligamentos, seguimos a mesma linha de raciocínio e obtemos os seguintes resultados:
%
%Definindo:
%\begin{empheq}[box=\lightbluebox]{equation}
%\dot{\ma}_{i,j} = \vct{\dot{\va}_{\ttg_i}^{\lllB_{j}}}_{\ttN}
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation}
%\dot{\ma}_i^\star = \dot{\ma}_{i,0} =\vct{\dot{\va}_{\ttg_i}^{\lllN} }_{\ttN}
%\end{empheq}
%
%Temos:
%\begin{empheq}[box=\myyellowbox]{equation}
%\dot{\ma}_{i,j-1} =
%\begin{cases}
%\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j = i+1 \\
%\dot{\ma}_{i,j} + \dddot{q}_{j} \mj_{v\,i,j} + (\underaccent{\sim}{\dot{\ma}}_i)_j, \; 1 \leq j \leq i \\
%\end{cases}\, i=1,...,\nu, \, j=i+1,...,1
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation} \label{eq:da_star_i}
%\dot{\ma}_i^\star(\mq,\dot{\mq},\ddot{\mq},\dddot{\mq}) = \mJ_{v\,i} (\mq) \cdot \dddot{\mq} + \underaccent{\sim}{\dot{\ma}}_i (\mq,\dot{\mq},\ddot{\mq})
%\end{empheq}
%
%Sendo:
%\small
%\begin{empheq}[box=\myyellowbox]{equation}
%(\underaccent{\sim}{\dot{\ma}}_i)_j = 3 \dot{q}_{j} \ddot{q}_{j} \mj_{\omega\,i,j} \wedge \mj_{v\,i,j} + \dot{q}_{j}^3 \mj_{\omega\,i,j} \wedge \mj_{\omega\,i,j} \wedge \mj_{v\,i,j} + 3(\ddot{q}_j  \mj_{\omega\,i,j} \wedge \mv_{i,j} + 
%\dot{q}_j^2 \mj_{\omega\,i,j} \wedge \mj_{\omega\,i,j} \wedge \mv_{i,j}  + \dot{q}_j
% \mj_{\omega\,i,j} \wedge \ma_{i,j} )
%\end{empheq}
%\normalsize
%
%\begin{empheq}[box=\myyellowbox]{equation}
%\underaccent{\sim}{\dot{\ma}}_i =\sum_{j=1}^i  (\underaccent{\sim}{\dot{\ma}}_i)_j
%\end{empheq}
%
%\subsubsubsection{Cinemática de sobre-acelerações angulares}\label{S05-02-01-07}
%
%A sobre-aceleração angular do efetuador pode ser obtida aplicando recursivamente o príncipio da composição de movimentos para sobre-aceleralções angulares deduzido anteriormente \eqref{eq:composicao_d2w}:
%\begin{equation}
%\ddot{\vomega}_{\lllB_\nu}^{\lllB_0}  =  \ddot{\vomega}_{\lllB_1}^{\lllB_0}   + \ddot{\vomega}_{\lllB_\nu}^{\lllB_1} +  \dot{\vomega}_{\lllB_1}^{\lllB_0} \wedge \vomega_{\lllB_\nu}^{\lllB_1} + 2 \vomega_{\lllB_1}^{\lllB_0} \wedge \dot{\vomega}_{\lllB_\nu}^{\lllB_1} + \vomega_{\lllB_1}^{\lllB_0} \wedge \vomega_{\lllB_1}^{\lllB_0} \wedge \vomega_{\lllB_\nu}^{\lllB_1}
%\end{equation}
%\begin{equation}
%\ddot{\vomega}_{\lllB_\nu}^{\lllB_1}  =  \ddot{\vomega}_{\lllB_2}^{\lllB_1}   + \ddot{\vomega}_{\lllB_\nu}^{\lllB_2} +  \dot{\vomega}_{\lllB_2}^{\lllB_1} \wedge \vomega_{\lllB_\nu}^{\lllB_2} + 2 \vomega_{\lllB_2}^{\lllB_1} \wedge \dot{\vomega}_{\lllB_\nu}^{\lllB_2} + \vomega_{\lllB_2}^{\lllB_1} \wedge \vomega_{\lllB_2}^{\lllB_1} \wedge \vomega_{\lllB_\nu}^{\lllB_2}
%\end{equation}
%$$ \vdots $$
%\begin{equation}
%\ddot{\vomega}_{\lllB_\nu}^{\lllB_{i-1}}  =  \ddot{\vomega}_{\lllB_i}^{\lllB_{i-1}}   + \ddot{\vomega}_{\lllB_\nu}^{\lllB_i} +  \dot{\vomega}_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_i} + 2 \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \dot{\vomega}_{\lllB_\nu}^{\lllB_i} + \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_i}
%\end{equation}
%$$ \vdots $$
%\begin{equation}
%\ddot{\vomega}_{\lllB_\nu}^{\lllB_{\nu-2}}  =  \ddot{\vomega}_{\lllB_{\nu-1}}^{\lllB_{\nu-2}}   + \ddot{\vomega}_{\lllB_\nu}^{\lllB_{\nu-1}} +  \dot{\vomega}_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} \wedge \vomega_{\lllB_\nu}^{\lllB_{\nu-1}} + 2 \vomega_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} \wedge \dot{\vomega}_{\lllB_\nu}^{\lllB_{\nu-1}} + \vomega_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} \wedge \vomega_{\lllB_{\nu-1}}^{\lllB_{\nu-2}} \wedge \vomega_{\lllB_\nu}^{\lllB_{\nu-1}}
%\end{equation}
%
%
%Sendo assim, a aceleração angular do efetuador em relação a cada um dos referenciais pode ser obtida recursivamente pela seguinte expressão:
%%\begin{equation}
%%\vv_{\ttx}^{\lllB_{i-1}} =
%%\begin{cases}
%%\displaystyle\sum_{j=i}^{\nu} \vv_{\ttx \rl \lllB_{j}}^{\lllB_{j-1}}, \; 1 \leq i \leq \nu \\
%%\vzr, \;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1
%%\end{cases}\, i=1,...,\nu+1
%%\end{equation}
%\small
%\begin{equation}
%\ddot{\vomega}_{\lllB_\nu}^{\lllB_{i-1}} =
%\begin{cases}
%\vzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
%\ddot{\vomega}_{\lllB_i}^{\lllB_{i-1}}   + \ddot{\vomega}_{\lllB_\nu}^{\lllB_i} +  \dot{\vomega}_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_i} + 2 \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \dot{\vomega}_{\lllB_\nu}^{\lllB_i} + \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_i}^{\lllB_{i-1}} \wedge \vomega_{\lllB_\nu}^{\lllB_i}, \; 1 \leq i \leq \nu \\
%\end{cases}\, i=\nu+1,...,1
%\end{equation}
%\normalsize
%
%
%
%Sendo que a sobre-aceleração angular de arrastamento de cada uma das juntas é dada por:
%\begin{equation}
%\ddot{\vomega}_{\lllB_\nu \rl \lllB_{i}}^{\lllB_{i-1}} = 
%\begin{cases}
%\vzr, \;\;\;\;\;\;\; \text{junta prismática} \\
%\dddot{q}_{i} \vk_{i-1}, \; \text{junta rotativa}
%\end{cases}\, i=1,...,\nu
%\end{equation}
%
%Fazendo as seguintes definições:
%\begin{empheq}[box=\lightbluebox]{equation}
%\ddot{\momega}_i = \vct{\ddot{\vomega}_{\lllB_\nu}^{\lllB_{i}} }_{\ttN}
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation}
%\ddot{\momega}^\star = \ddot{\momega}_0 = \vct{\ddot{\vomega}_{\lllB_\nu}^{\lllN} }_{\ttN}
%\end{empheq}
%
%Temos que:
%\begin{equation}
%\vct{\ddot{\vomega}_{\lllB_{i}}^{\lllB_{i-1}} }_{\ttN} = \mj_{\omega\,i} \dddot{q}_{i} , \; i=1,...,\nu
%\end{equation}
%
%\begin{empheq}[box=\myyellowbox]{equation}
%\ddot{\momega}_{i-1} =
%\begin{cases}
%\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; i = \nu + 1 \\
%\ddot{\momega}_i +  \mj_{\omega\,i} \dddot{q}_{i} + (\underaccent{\sim}{\ddot{\momega}})_i , \; 1 \leq i \leq \nu \\
%\end{cases}\, i=\nu+1,...,1
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation} \label{eq:d2omega_star_i}
%\ddot{\momega}_i^\star(\mq,\dot{\mq},\ddot{\mq},\dddot{\mq}) = \mJ_\omega(\mq) \cdot \dddot{\mq} + \underaccent{\sim}{\ddot{\momega}}(\mq,\dot{\mq},\ddot{\mq})
%\end{empheq}
%
%Sendo:
%\begin{empheq}[box=\myyellowbox]{equation}
%(\underaccent{\sim}{\ddot{\momega}})_i = \ddot{q}_i \mj_{\omega\,i} \wedge \momega_i + 2 \dot{q}_i \mj_{\omega\,i} \wedge \dot{\momega}_i + \dot{q}_i ^2 \mj_{\omega\,i} \wedge \mj_{\omega\,i} \wedge \momega_i
%\end{empheq}
%
%\begin{empheq}[box=\myyellowbox]{equation}
%\underaccent{\sim}{\ddot{\momega}} = \sum_{i=1}^\nu (\underaccent{\sim}{\ddot{\momega}})_i
%\end{empheq}
%
%Para obter as sobre-acelerações angulares dos centros de massa dos ligamentos, seguimos a mesma linha de raciocínio e obtemos os seguintes resultados:
%
%Definindo:
%\begin{empheq}[box=\lightbluebox]{equation}
%\ddot{\momega}_{i,j} = \vct{\ddot{\vomega}_{\lllB_i}^{\lllB_{j}}}_{\ttN}
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation}
%\ddot{\momega}_i^\star = \ddot{\momega}_{i,0} = \vct{\ddot{\vomega}_{\lllB_i}^{\lllN} }_{\ttN}
%\end{empheq}
%
%Temos:
%\begin{empheq}[box=\myyellowbox]{equation}
%\ddot{\momega}_{i,j-1} =
%\begin{cases}
%\mzr, \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; j = i+1 \\
%\ddot{\momega}_{i,j} + \mj_{\omega\,i,j} \dddot{q}_{j} + (\underaccent{\sim}{\ddot{\momega}}_i)_j, \; 1 \leq j \leq i \\
%\end{cases}\, i=1,...,\nu, \, j=i+1,...,1
%\end{empheq}
%
%\begin{empheq}[box=\lightbluebox]{equation}
%\ddot{\momega}_i^\star(\mq,\dot{\mq},\ddot{\mq},\dddot{\mq}) = \mJ_{\omega\,i} (\mq) \cdot \dddot{\mq} + \underaccent{\sim}{\ddot{\momega}}_i (\mq,\dot{\mq},\ddot{\mq})
%\end{empheq}
%
%Sendo:
%\begin{empheq}[box=\myyellowbox]{equation}
%(\underaccent{\sim}{\ddot{\momega}}_i)_j =  \ddot{q}_j \mj_{\omega\,i,j} \wedge \momega_{i,j} + 2 \dot{q}_j \mj_{\omega\,i,j} \wedge \dot{\momega}_{i,j} + \dot{q}_j ^2 \mj_{\omega\,i,j} \wedge \mj_{\omega\,i,j} \wedge \momega_{i,j}
%\end{empheq}
%
%\begin{empheq}[box=\myyellowbox]{equation}
%\underaccent{\sim}{\ddot{\momega}}_i = \sum_{j=1}^i  (\underaccent{\sim}{\ddot{\momega}}_i)_j
%\end{empheq}

%\newpage

\subsubsection{Dinâmica}\label{S05-02-02}

\subsubsubsection{Modelo Dinâmico} \label{S05-02-02-01}

O modelo dinâmico de $\ssB$ é obtido utilizando um procedimento de acoplamento de subsistemas baseado no Método Orsino  \cite{23orsino}, e é dado por:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:ModeloMecSerial}
\mM(\mq) \ddot{\mq} + \mnu(\mq,\dot{\mq}) + \mg(\mq) = \mu
\end{empheq}

Sendo:
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:MSerial}
\mM(\mq) = \sum_{i=1}^\nu
m_i \mJ_{v\,i}^\msT \mJ_{v\,i} + \mJ_{\omega\,i}^\msT \mI_i \mJ_{\omega\,i}
\end{empheq}
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:vSerial}
\mnu(\mq, \dot{\mq}) = \sum_{i=1}^\nu
 m_i \mJ_{v\,i}^\msT \underaccent{\sim}{\ma}_i + \mJ_{\omega\,i}^\msT \big( \mI_i \underaccent{\sim}{\dot{\momega}}_i + \momega^\star_i \wedge (\mI_i  \momega^\star_i) \big)
\end{empheq}
\begin{empheq}[box=\myyellowbox]{equation} \label{eq:gSerial}
\mg(\mq) = - \sum_{i=1}^\nu m_i \mJ_{v\,i}^\msT \mgamma
\end{empheq}

Segue abaixo, a dedução.
%A idéia é obter o modelo dinâmico do sistema acoplado através dos modelos dos subsistemas desacoplados e dos vínculos cinemáticos entre eles.

\paragraph{i) Modelo dos subsistemas} $ \, $ \\

O modelo dinâmico de cada ligamento pode ser obtido por Newton-Euler, pois são considerados como corpos rígidos livres no espaço sujeitos apenas à força peso. Sendo assim, através do Teorema do Movimento do Baricentro e do Teorema do Momento Angular, obtemos os esforços não-reativos (ativos e inerciais) aplicados em cada ligamento:

\begin{equation} \label{eq:Newton-Euler}
\begin{cases}
\vf_i = -m_i \va^{\lllN}_{\ttg_i} + m_i \vg  \\
\vtau_i= -\vI_{\ttg_i} \cdot \dot{\vomega}^{\lllN}_{\lllB_i} - \vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i}) 
\end{cases} \, i = 1,...,\nu
\end{equation}

Aplicando as equações vetoriais no sistema $\ttN$, temos:
\begin{equation} \label{eq:Newton-EulerMat}
\begin{bmatrix}
\vct{\vf_i}_\ttN \\
\vct{\vtau_i}_\ttN
\end{bmatrix}
=
-
\begin{bmatrix}
m_i \mone & \mzr \\
\mzr      & \vct{\vI_{\ttg_i}}_{\ttN \rl \ttN}
\end{bmatrix}
\cdot
\begin{bmatrix}
\vct{\va^{\lllN}_{\ttg_i}}_{\ttN}  \\
\vct{\dot{\vomega}^{\lllN}_{\lllB_i}}_{\ttN}
\end{bmatrix}
-
\begin{bmatrix}
\mzr \\
\vct{\vomega^{\lllN}_{\lllB_i}}_{\ttN} \wedge (\vct{\vI_{\ttg_i}}_{\ttN \rl \ttN} \cdot \vct{\vomega^{\lllN}_{\lllB_i}}_{\ttN})
\end{bmatrix}
-
\begin{bmatrix}
-m_i \vct{\vg}_{\ttN} \\
\mzr
\end{bmatrix}
\end{equation}

Ou seja:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:f_i}
\overline{\mf}_i  = -\begin{Bmatrix}
\begin{bmatrix}
m_i \mone & \mzr \\
\mzr      & \mI_i
\end{bmatrix}
\cdot
\begin{bmatrix}
\ma^\star_i  \\
\dot{\momega}^\star_i
\end{bmatrix}
+
\begin{bmatrix}
\mzr \\
\momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
\end{bmatrix}
+
\begin{bmatrix}
-m_i \mgamma \\
\mzr
\end{bmatrix}
\end{Bmatrix}
\end{empheq}

Como subsistemas estão desacoplados, não há forças reativas, portanto o modelo dinâmico de cada subsistema pode ser escrito como:
\begin{empheq}[box=\mybluebox]{equation}\label{eq:fi_plus_fri}
\overline{\mf}_i = \mzr
\end{empheq}

Além disso, definindo as quasi-velocidades:
%\begin{equation} \label{eq:M_i}
%\mM_i (\mq) = \begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i(\mq)
%\end{bmatrix}
%\end{equation}
%\begin{equation} \label{eq:v_i}
%\mnu_i (\mq, \mp_i) = \begin{bmatrix}
%\mzr \\
%\momega^\star_i \wedge (\mI_i(\mq) \cdot \momega^\star_i)
%\end{bmatrix}
%\end{equation}
%\begin{equation} \label{eq:g_i}
%\mg_i = \begin{bmatrix}
%-m_i \mgamma \\
%\mzr
%\end{bmatrix}
%\end{equation}
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:p_i}
\mp_i = \begin{bmatrix}
\mv^\star_i  \\
\momega^\star_i
\end{bmatrix}
\end{empheq}

E as quasi-coordenadas:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:pi_i}
\dd\mpi_i = \mp_i \dd t
\end{empheq}

Temos que o trabalho virtual realizado por cada subsistema é dado por:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:dWiSeriais}
\delta W_i =  \delta \mpi_i^\msT \cdot \overline{\mf}_i
\end{empheq}

%Seja $\mf_i$ o sistema de forças ativas  (considerando os esforços de inércia) aplicado no i-ésimo subsistema, na direção das quasi-velocidades $\mp_i$. $\mf_i$ pode ser obtido pela seguinte expressão:

%\eqref{eq:Newton-EulerMat2} pode ser reescrita como:
%\begin{equation}
%\mM_i(\mq) \cdot \dot{\mp}_i + \mnu_i(\mq, \mp_i) + \mg_i = \mf_{r\,i}
%\end{equation}

%Sendo assim, os sistemas de forças (considerando esforços ativos e de inércia) aplicados em cada subsistema são dados por:

%No caso de os subsistemas estarem desacoplados, temos que $\mf_{r\,i} = \mzr$.

\paragraph{ii) Sistemas de forças ativas generalizadas} $ \, $ \\

Considere também um subsistema constituido pelos esforços que os atuadores aplicam nas juntas do mecanismo. Primeiramente, definimos a matriz-coluna de quasi-velocidades relativas a esse subsistema:
%Muitas vezes é conveniente definir um conjunto de quasi-velocidades adicionais $\mp_0$, as quais só fazem sentido para o sistema acoplado, e sistemas de forças ativas generalizadas adicionais $\mf_0$ aplicados na direção das quasi-velocidades adicionais. \\

%Neste algoritmo de modelagem, serão considerados como quasi-velocidades adicionais as derivadas temporais das coordenadas das juntas, ou seja:


\begin{empheq}[box=\lightbluebox]{equation} \label{eq:mp_0}
\mp\ssh = \dot{\mq}
\end{empheq}

Seja $\mu$ a matriz-coluna de esforços generalizados aplicadas pelos atuadores na direção de $\delta\mq$. Sendo assim, o trabalho virtual realizado por este subsistema é dado por:

\begin{empheq}[box=\mybluebox]{equation} \label{eq:dWsshSeriais}
\delta W\ssh = \delta \mq^\msT \cdot \mu 
\end{empheq}

\paragraph{iii) Vínculos cinemáticos entre subsistemas} $ \, $ \\

Através das equações \eqref{eq:v_star_i}, \eqref{eq:omega_star_i} e \eqref{eq:mp_0}, é possível relacionar as quasi-velocidades de cada subsistema com as quasi-velocidades $\mp\ssh$ da seguinte maneira:
\begin{equation}
\underline{\mp_i}(\mq, \mp\ssh) = \mJ_i (\mq) \cdot \mp\ssh, \, i=1,...,\nu
\end{equation}

Sendo:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:J_i}
\mJ_i(\mq) = \begin{bmatrix}
\mJ_{v\,i}(\mq) \\
\mJ_{\omega\,i}(\mq)
\end{bmatrix}, \, i=1,...,\nu
\end{empheq}

Seja $\mp\cir$ a matriz coluna que contém as quasi-velocidades de todos os ligamentos:
\begin{empheq}[box=\lightbluebox]{equation}
\mp\cir = \begin{bmatrix}
\mp_1^\msT & ... & \mp_{\nu}^\msT
\end{bmatrix}^\msT
\end{empheq}

$\mp\cir$ pode ser expresso em função apenas das quasi-velocidades $\mp\ssh$ da seguinte forma:
\begin{equation} \label{eq:p_red_em_func_de_p0}
\underline{\mp\cir}(\mq,\mp\ssh) = \mJ(\mq) \mp\ssh
\end{equation}

Sendo:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:J}
\mJ(\mq) = \begin{bmatrix}
\mJ_1(\mq)^\msT & ... & \mJ_{\nu}(\mq)^\msT
\end{bmatrix}^\msT
\end{empheq}

Sendo assim, a partir de \eqref{eq:p_red_em_func_de_p0}, os vínculos de quasi-velocidades entre subsistemas podem ser expressos como:
\begin{empheq}[box=\mybluebox]{equation} \label{eq:VinculosV_seriais}
\overline{\mp}(\mq,\mp) =  \mA(\mq) \cdot \mp = \mzr
\end{empheq}

Sendo:
\begin{empheq}[box=\lightbluebox]{equation}
\mA(\mq)  = \begin{bmatrix}
\mJ(\mq) & -\mone
\end{bmatrix}
\end{empheq}

\begin{empheq}[box=\lightbluebox]{equation}
\mp = \begin{bmatrix}
{\mp\ssh}^\msT & {\mp\cir}^\msT
\end{bmatrix}^\msT
\end{empheq}
%\frac{\partial \overline{\mp}}{\partial \mp}

\paragraph{iv) Acoplamento de subsistemas} $ \, $ \\

Seja $\mf$ a matriz-coluna contendo todos os sistemas de forças não-reativas generalizadas:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:fSeriais}
\mf = \begin{bmatrix}
{\mu}^\msT & {\mf\cir}^\msT
\end{bmatrix}^\msT
\end{empheq}

Sendo:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:fcir}
\mf\cir = \begin{bmatrix}
\mf_1^\msT & ... & \mf_\nu^\msT  
\end{bmatrix}^\msT
\end{empheq}

Seja $\mpi$ um conjunto de de quasi-coordenadas tal que:
\begin{equation} \label{eq:quasi-coord}
\dd \mpi = \mp \, \dd t
\end{equation}

Ou seja:
\begin{equation}
\dd\mpi = \begin{bmatrix}
\dd{\mpi\ssh}^\msT & \dd{\mpi\cir}^\msT
\end{bmatrix}^\msT
\end{equation}

Sendo:
\begin{equation}
\dd\mpi\ssh = \dd\mq
\end{equation}

\begin{equation}
\dd{\mpi\cir} = \begin{bmatrix}
\dd\mpi_1^\msT & ... & \dd\mpi_{\nu}^\msT
\end{bmatrix}^\msT
\end{equation}

Pelo princípio de d'Alembert, temos que
\begin{equation} \label{eq:PdASeriais}
\delta W\ssh + \sum_{i=1}^\nu \delta W_i  = 0
\end{equation}

Através de \eqref{eq:PdASeriais}, \eqref{eq:dWsshSeriais}, \eqref{eq:dWiSeriais}, \eqref{eq:fSeriais} e \eqref{eq:quasi-coord}, temos que:
\begin{equation} \label{eq:PdASeriais2}
\delta \mpi^\msT \cdot \mf = 0
\end{equation}


Além disso, a partir da definição de $\mpi$ \eqref{eq:quasi-coord} e dos vínculos de quasi-velocidades \eqref{eq:VinculosV_seriais}, temos que as variações das quasi-coordenadas $\mpi$ devem respeitar a seguinte relação:
\begin{equation} \label{eq:vinculosdpiSeriais}
 \mA(\mq) \cdot \delta \mpi = \mzr
\end{equation}


Subdividindo $\delta\mpi$ em $\delta\mpi\ssh $ e $\delta\mpi\cir$ e considerando $\delta\mpi\ssh$ como variáveis livres, temos:
\begin{equation}
\begin{bmatrix}
\mJ(\mq) & -\mone
\end{bmatrix}
\cdot
\begin{bmatrix}
\delta\mpi\ssh \\
\delta\mpi\cir
\end{bmatrix} = \mzr
\end{equation}
\begin{equation}
\Rightarrow \delta\mpi\cir = \mJ(\mq) \delta\mpi\ssh
\end{equation}
\begin{equation} \label{eq:dpidpisshSeriais}
\therefore
\delta\mpi = \mC(\mq) \cdot \delta\mpi\ssh
\end{equation}


Sendo:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:MatrizC_seriais}
\mC(\mq) =
\begin{bmatrix}
\mone \\
\mJ(\mq)
\end{bmatrix}
\end{empheq}

Repare 	que trocando $\delta\mpi$ por $\mp$ em \eqref{eq:vinculosdpiSeriais}, obtemos os vínculos de quasi-velocidades do sistema \eqref{eq:VinculosV_seriais}. Sendo assim, à partir das expressões \eqref{eq:pre_C} e \eqref{eq:MatrizC_seriais}, temos que $\mC$ respeita a seguinte relação:
\begin{empheq}[box=\lightbluebox]{equation} \label{eq:relacao_C}
\mp = \mC(\mq) \cdot \mp\ssh
\end{empheq}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Repare que essa equação pode ser utilizada para determinar  $\mu$ e $\mlambda$ supondo conhecidas as forças de inércia $\mf\cir$, pois:
%\begin{equation}
%\begin{bmatrix}
%\mu \\
%\mf\cir
%\end{bmatrix} + \mA^\msT \mlambda = \mzr
%\end{equation}
%\begin{equation}
%\Rightarrow
%\begin{bmatrix}
%\mone \\
%\mzr
%\end{bmatrix} \mu +
%\begin{bmatrix}
%\mzr \\
%\mf\cir
%\end{bmatrix}
%+ \mA^\msT \mlambda = \mzr
%\end{equation}
%\begin{equation}
%\therefore
%\begin{bmatrix}
%\begin{bmatrix}
%\mone \\
%\mzr
%\end{bmatrix} & \mA^\msT
%\end{bmatrix}
%\begin{bmatrix}
%\mu \\
%\mlambda
%\end{bmatrix}
%=
%\begin{bmatrix}
%\mzr \\
%-\mf\cir
%\end{bmatrix}
%\end{equation}

%Esta expressão pode ser utilizada para realizar a simulação dinâmica inversa, visto que, se conhecido o movimento do sistema, podem ser obtidos os esforços dos atuadores. Porém, como em geral não há o interesse de se obter as forças reativas aplicadas ao sistema, a presença dos multiplicadores torna a resolução do sistema desnecessariamente custosa. Sendo assim, vamos eliminar os multiplicadores da equação dinâmica, o que possibilitará realizar uma simulação dinâmica inversa muito menos custosa e também possibilitará realizar a simulação dinâmica direta.


Sendo assim, substituindo \eqref{eq:dpidpisshSeriais} em \eqref{eq:PdASeriais2}, temos:
\begin{equation}
\delta {\mpi\ssh}^\msT \cdot \mC^\msT \mf = \mzr
\end{equation}

Tendo em vista que as quasi-coordenadas $\mpi\ssh$ são independentes, as variações $\delta\mpi\ssh$ são arbitrárias. Sendo assim, as equações dinâmicas do sistema são dadas por: 

\begin{empheq}[box=\mybluebox]{equation} \label{eq:eq_dinamicas_3}
\mC^\msT \mf = \mzr
\end{empheq}

Substituindo \eqref{eq:MatrizC_seriais} e \eqref{eq:fSeriais}  em \eqref{eq:eq_dinamicas_3}, temos:
\begin{equation} \label{eq:u_Jtfcir}
\mu + \mJ^\msT \mf\cir = \mzr
\end{equation}


Substituindo \eqref{eq:J}, \eqref{eq:J_i}, \eqref{eq:f_i} e \eqref{eq:fcir} em \eqref{eq:u_Jtfcir}, temos:
\begin{equation} \label{eq:ModeloDinâmicoSerialSomatorio2}
\sum_{i=1}^\nu
\begin{bmatrix}
\mJ_{v\,i} \\
\mJ_{\omega\,i}
\end{bmatrix}^\msT
\begin{Bmatrix}
\begin{bmatrix}
m_i \mone & \mzr \\
\mzr      & \mI_i
\end{bmatrix}
\cdot
\begin{bmatrix}
\ma^\star_i  \\
\dot{\momega}^\star_i
\end{bmatrix}
+
\begin{bmatrix}
\mzr \\
\momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
\end{bmatrix}
+
\begin{bmatrix}
-m_i \mgamma \\
\mzr
\end{bmatrix}
\end{Bmatrix}
=\mu
\end{equation}

Substituindo \eqref{eq:a_star_i} e  \eqref{eq:domega_star_i} em \eqref{eq:ModeloDinâmicoSerialSomatorio2}, temos:
\begin{equation}
\sum_{i=1}^\nu
\begin{bmatrix}
\mJ_{v\,i} \\
\mJ_{\omega\,i}
\end{bmatrix}^\msT
\begin{Bmatrix}
\begin{bmatrix}
m_i (\mJ_{v_i} \ddot{\mq} + \underaccent{\sim}{\ma}_i   )  \\
 \mI_i (\mJ_{\omega_i} \ddot{\mq} + \underaccent{\sim}{\dot{\momega}}_i )
\end{bmatrix}
+
\begin{bmatrix}
\mzr \\
\momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
\end{bmatrix}
+
\begin{bmatrix}
-m_i \mgamma \\
\mzr
\end{bmatrix}
\end{Bmatrix}
=\mu
\end{equation}

Sendo assim, obtemos o modelo dinâmico mostrado anteriormente:
\begin{equation} \tag{\ref{eq:ModeloMecSerial}}
\mM(\mq) \ddot{\mq} + \mnu(\mq,\dot{\mq}) + \mg(\mq) = \mu
\end{equation}

Sendo:
\begin{equation} \tag{\ref{eq:MSerial}}
\mM(\mq) = \sum_{i=1}^\nu
m_i \mJ_{v\,i}^\msT \mJ_{v\,i} + \mJ_{\omega\,i}^\msT \mI_i \mJ_{\omega\,i}
\end{equation}
\begin{equation} \tag{\ref{eq:vSerial}}
\mnu(\mq, \dot{\mq}) = \sum_{i=1}^\nu
 m_i \mJ_{v\,i}^\msT \underaccent{\sim}{\ma}_i + \mJ_{\omega\,i}^\msT \big( \mI_i \underaccent{\sim}{\dot{\momega}}_i + \momega^\star_i \wedge (\mI_i  \momega^\star_i) \big)
\end{equation}
\begin{equation} \tag{\ref{eq:gSerial}}
\mg(\mq) = - \sum_{i=1}^\nu m_i \mJ_{v\,i}^\msT \mgamma
\end{equation}

%\subsubsubsection{Equações Dinâmicas de Ordem Superior} \label{S05-02-02-02}
%
%Em alguns casos a obtenção do o modelo dinâmico de ordem superior (derivada do modelo dinâmico) pode ser vantajosa, tendo em vista que pode ser utilizado para obter leis de controle mais suaves, realizar o controle de posição diretamente pela tensão elétrica aplicada nos atuadores (sem a necessidade do controle de corrente), ou obter o modelo dinâmico linearizado em torno de uma trajetória. Essas aplicações serão exploradas no capítulo [???]. \\
%
%Derivando \eqref{eq:ModeloMecSerial}, temos:
%
%\begin{empheq}[box=\mybluebox]{equation} \label{eq:ModeloMecSerialD}
%\mM(\mq) \dddot{\mq} + \mh(\mq, \dot{\mq}, \ddot{\mq}) = \dot{\mu}
%\end{empheq}
%
%Sendo:
%\begin{empheq}[box=\lightbluebox]{equation}
%\mh(\mq, \dot{\mq}, \ddot{\mq}) = \dot{\mM}(\mq, \dot{\mq}) \ddot{\mq} + \dot{\mnu}(\mq, \dot{\mq}, \ddot{\mq}) + \dot{\mg}(\mq,\dot{\mq})
%\end{empheq}
%
%A obtenção de $\mh(\mq, \dot{\mq}, \ddot{\mq})$ através da derivação temporal direta das equações \eqref{eq:MSerial}, \eqref{eq:vSerial} e \eqref{eq:gSerial} é possível, porém um tanto quanto complexa. Uma maneira mais simples seria realizar a derivada temporal da equação \eqref{eq:u_Jtfcir}, ou seja:
%\begin{equation} \label{eq:eq_dinamicas_3D}
%\dot{\mu} + \mJ^\msT \dot{\mf}\cir + \dot{\mJ}^\msT \mf\cir = \mzr
%\end{equation}
%
%%Sendo assim, para obter o modelo dinâmico de ordem superior, será mais uma vez adotada uma estratágia inspirada no Método Orsino. 
%
%Substituindo \eqref{eq:J} e \eqref{eq:fcir} em \eqref{eq:eq_dinamicas_3D}, o modelo dinâmico de ordem superior do mecanismo serial pode ser escrito como:
%\begin{equation} \label{eq:ModeloDinâmicoSerialSomatorioD}
%\dot{\mu} + \sum_{i=1}^\nu \mJ_i^\msT \dot{\mf}_i + \dot{\mJ}_i^\msT \mf_i  = \mzr
%\end{equation}
%
%Para obter $\dot{\mf}_i$, serão realizadas as derivadas temporais das equações de Newton-Euler. Derivando o equação do TMB do centro de massa de cada ligamente no tempo, temos:
%\begin{equation}
%\frac{\dd^{[\llN]}}{\dd t} \Big( m_i \va^{\lllN}_{\ttg_i} - m_i \vg - \vf_{r\,i} \Big) =  m_i \dot{\va}^{\lllN}_{\ttg_i} - \dot{\vf}_{r\,i} = \vzr \\
%\end{equation}
%\begin{empheq}[box=\almondbox]{equation}
% m_i \dot{\va}^{\lllN}_{\ttg_i} = \dot{\vf}_{r\,i} 
%\end{empheq}
%
%Agora, derivando o equação do TMA de cada ligamento no tempo, temos:
%\begin{equation}
%\frac{\dd^{[\llN]}}{\dd t} \Big( \vI_{\ttg_i} \cdot \dot{\vomega}^{\lllN}_{\lllB_i} + \vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i}) - \vtau_{r\,i} \Big) = \vzr
%\end{equation}
%
%Utilizando \eqref{eq:derivada_vetor}, \eqref{eq:composicao_wCA} e \eqref{eq:composicao_dwCA}, temos:
%\begin{equation}
%\frac{\dd^{[\llB_i]}}{\dd t} \Big( -\vI_{\ttg_i} \cdot \dot{\vomega}^{\lllB_i}_{\lllN} + \vomega^{\lllB_i}_{\lllN} \wedge (\vI_{\ttg_i} \cdot %\vomega^{\lllB_i}_{\lllN}) \Big) + \vomega^{\lllN}_{\lllB_i} \wedge \Big( \vI_{\ttg_i} \cdot \dot{\vomega}^{\lllN}_{\lllB_i} + \vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i}) \Big) \\
%$$
%$$
%= -\vI_{\ttg_i} \cdot \ddot{\vomega}^{\lllB_i}_{\lllN} + \dot{\vomega}^{\lllB_i}_{\lllN} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllB_i}_{\lllN}) + \vomega^{\lllB_i}_{\lllN} \wedge (\vI_{\ttg_i} \cdot \dot{\vomega}^{\lllB_i}_{\lllN}) + \vomega^{\lllN}_{\lllB_i} \wedge \Big( \vI_{\ttg_i} \cdot \dot{\vomega}^{\lllN}_{\lllB_i} + \vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i}) \Big) = \dot{\vtau}_{r\,i}
%\end{equation}
%
%Finalmente, utilizando \eqref{eq:composicao_wCA}, \eqref{eq:composicao_dwCA} e \eqref{eq:composicao_d2wCA}, temos:
%\begin{empheq}[box=\almondbox]{equation}
%\begin{split}
%\vI_{\ttg_i} \cdot (\ddot{\vomega}^{\lllN}_{\lllB_i} + \dot{\vomega}^{\lllN}_{\lllB_i} \wedge \vomega^{\lllN}_{\lllB_i}) &+ \dot{\vomega}^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i}) + 2\vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \dot{\vomega}^{\lllN}_{\lllB_i}) \\
% &+ \vomega^{\lllN}_{\lllB_i} \wedge  \vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i})  = \dot{\vtau}_{r\,i}
%\end{split}
%\end{empheq}
%
%Ou seja, as derivadas temporais das equações de Newton-Euler para cada ligamento são dadas por:
%\begin{equation}
%\begin{cases}
%m_i \dot{\va}^{\lllN}_{\ttg_i} = \dot{\vf}_{r\,i}  \\
%\vI_{\ttg_i} \cdot (\ddot{\vomega}^{\lllN}_{\lllB_i} + \dot{\vomega}^{\lllN}_{\lllB_i} \wedge \vomega^{\lllN}_{\lllB_i}) + \dot{\vomega}^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i}) + 2\vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \dot{\vomega}^{\lllN}_{\lllB_i}) + \vomega^{\lllN}_{\lllB_i} \wedge  \vomega^{\lllN}_{\lllB_i} \wedge (\vI_{\ttg_i} \cdot \vomega^{\lllN}_{\lllB_i})  = \dot{\vtau}_{r\,i}
%\end{cases}\, i = 1,...,\nu
%\end{equation}
%
%Aplicando as equações vetoriais no sistema $\ttN$, temos:
%\begin{equation} \label{eq:Newton-EulerMat2D}
%\begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\dot{\ma}^\star_i  \\
%\ddot{\momega}^\star_i
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\mI_i (\dot{\momega}^\star_i \wedge \momega^\star_i) + \dot{\momega}^\star_i \wedge (\mI_i \cdot \momega^\star_i) + 2\momega^\star_i \wedge (\mI_i \cdot \dot{\momega}^\star_i) + \momega^\star_i \wedge \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
%\end{bmatrix}
%=
%\dot{\mf}_{r\,i}
%\end{equation}
%
%Derivando \eqref{eq:fi_plus_fri} e comparando com \eqref{eq:Newton-EulerMat2D}, temos que:
%
%\begin{equation} \label{eq:df_i}
%\dot{\mf}_i = 
%-\begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\dot{\ma}^\star_i  \\
%\ddot{\momega}^\star_i
%\end{bmatrix}
%-
%\begin{bmatrix}
%\mzr \\
%\mI_i (\dot{\momega}^\star_i \wedge \momega^\star_i) + \dot{\momega}^\star_i \wedge (\mI_i \cdot \momega^\star_i) + 2\momega^\star_i \wedge (\mI_i \cdot \dot{\momega}^\star_i) + \momega^\star_i \wedge \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
%\end{bmatrix}
%\end{equation}
%
%Portanto, substituindo \eqref{eq:df_i} e \eqref{eq:f_i} em \eqref{eq:ModeloDinâmicoSerialSomatorioD}, temos:
%
%\footnotesize
%\begin{equation} \label{eq:ModeloDinâmicoSerialSomatorio2}
%\begin{split}
%\sum_{i=1}^\nu
%\begin{bmatrix}
%\mJ_{v\,i} \\
%\mJ_{\omega\,i}
%\end{bmatrix}^\msT
%&\begin{Bmatrix}
%\begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\dot{\ma}^\star_i  \\
%\ddot{\momega}^\star_i
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\mI_i (\dot{\momega}^\star_i \wedge \momega^\star_i) + \dot{\momega}^\star_i \wedge (\mI_i \cdot \momega^\star_i) + 2\momega^\star_i \wedge (\mI_i \cdot \dot{\momega}^\star_i) + \momega^\star_i \wedge \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
%\end{bmatrix} 
%\end{Bmatrix} \\
%+
%\begin{bmatrix}
%\dot{\mJ}_{v\,i} \\
%\dot{\mJ}_{\omega\,i}
%\end{bmatrix}^\msT
%&\begin{Bmatrix}
%\begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\ma^\star_i  \\
%\dot{\momega}^\star_i
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
%\end{bmatrix}
%+
%\begin{bmatrix}
%-m_i \mgamma \\
%\mzr
%\end{bmatrix}
%\end{Bmatrix}
%=\dot{\mu}
%\end{split}
%\end{equation}
%\normalsize
%
%Substituindo \eqref{eq:a_star_i}, \eqref{eq:domega_star_i}, \eqref{eq:da_star_i} e \eqref{eq:d2omega_star_i} em \eqref{eq:ModeloDinâmicoSerialSomatorio2}, temos:
%
%\footnotesize
%\begin{equation} \label{eq:ModeloDinâmicoSerialSomatorio3}
%\begin{split}
%\sum_{i=1}^\nu
%\begin{bmatrix}
%\mJ_{v\,i} \\
%\mJ_{\omega\,i}
%\end{bmatrix}^\msT
%&\begin{Bmatrix}
%\begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\mJ_{v\,i} \dddot{\mq} +  \underaccent{\sim}{\dot{\ma}}_i  \\
%\mJ_{\omega\,i} \dddot{\mq} + \underaccent{\sim}{\ddot{\momega}}_i
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\mI_i (\dot{\momega}^\star_i \wedge \momega^\star_i) + \dot{\momega}^\star_i \wedge (\mI_i \cdot \momega^\star_i) + 2\momega^\star_i \wedge (\mI_i \cdot \dot{\momega}^\star_i) + \momega^\star_i \wedge \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
%\end{bmatrix} 
%\end{Bmatrix} \\
%+
%\begin{bmatrix}
%\dot{\mJ}_{v\,i} \\
%\dot{\mJ}_{\omega\,i}
%\end{bmatrix}^\msT
%&\begin{Bmatrix}
%\begin{bmatrix}
%m_i \mone & \mzr \\
%\mzr      & \mI_i
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\mJ_{v\,i} \ddot{\mq} +  \underaccent{\sim}{\ma}_i  \\
%\mJ_{\omega\,i} \ddot{\mq} + \underaccent{\sim}{\dot{\momega}}_i
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)
%\end{bmatrix}
%+
%\begin{bmatrix}
%-m_i \mgamma \\
%\mzr
%\end{bmatrix}
%\end{Bmatrix}
%=\dot{\mu}
%\end{split}
%\end{equation}
%\normalsize
%
%Realizando o produto das matrizes, temos:
%%e utilizando a definição de $\mM(\mq)$ \eqref{eq:MSerial},
%
%\begin{equation} \label{eq:ModeloMecSerialDaux}
%\begin{split}
%\sum_{i=1}^\nu \Big( &m_i \mJ_{v\,i}^\msT \mJ_{v\,i} + \mJ_{\omega\,i}^\msT \mI_i \mJ_{\omega\,i} \Big) \dddot{\mq}  \\ +  &m_i \mJ_{v\,i}^\msT \, \underaccent{\sim}{\dot{\ma}}_i + \mJ_{\omega\,i}^\msT \Big( \mI_i (\underaccent{\sim}{\ddot{\momega}}_i + \dot{\momega}^\star_i \wedge \momega^\star_i) + \dot{\momega}^\star_i \wedge (\mI_i \cdot \momega^\star_i) + 2\momega^\star_i \wedge (\mI_i \cdot \dot{\momega}^\star_i) + \momega^\star_i \wedge \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)  \Big) \\ + &m_i \dot{\mJ}_{v\,i}^\msT \Big(\ma^\star_i - \mgamma \Big) + \dot{\mJ}_{\omega\,i}^\msT \Big( \mI_i \dot{\momega}^\star_i   + \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)  \Big) = \dot{\mu}
%\end{split}
%\end{equation}
%
%Portanto, comparando \eqref{eq:ModeloMecSerialDaux} com \eqref{eq:ModeloMecSerialD} e \eqref{eq:MSerial}, temos que:
%\small
%\begin{empheq}[box=\myyellowbox]{equation} \label{eq:h_}
%\begin{split}
%\mh = \sum_{i=1}^\nu  &m_i \mJ_{v\,i}^\msT \, \underaccent{\sim}{\dot{\ma}}_i + \mJ_{\omega\,i}^\msT \Big( \mI_i (\underaccent{\sim}{\ddot{\momega}}_i + \dot{\momega}^\star_i \wedge \momega^\star_i) + \dot{\momega}^\star_i \wedge (\mI_i \cdot \momega^\star_i) + 2\momega^\star_i \wedge (\mI_i \cdot \dot{\momega}^\star_i) + \momega^\star_i \wedge \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)  \Big) \\ + &m_i \dot{\mJ}_{v\,i}^\msT \Big(\ma^\star_i - \mgamma \Big) + \dot{\mJ}_{\omega\,i}^\msT \Big( \mI_i \dot{\momega}^\star_i   + \momega^\star_i \wedge (\mI_i \cdot \momega^\star_i)  \Big)
%\end{split}
%\end{empheq}
%\normalsize
%
%\subsubsubsection{Derivada dos Jacobianos} \label{S05-02-02-03}
%
%Para tornar possível a utilização da equação \eqref{eq:h_}, será necessário obter as derivadas dos jacobianos. A partir das equações \eqref{eq:jvi_}, \eqref{eq:jvij_}, \eqref{eq:jwi_} e \eqref{eq:jwij_}, podemos obter as derivadas dos jacobianos calculando as seguintes derivadas vetoriais:
%\begin{equation} \label{eq:derivada_k_aux}
%\frac{\dd^{[\llN]} \vk_{i-1}}{\dd t} 
%\end{equation}
%\begin{equation} \label{eq:derivada_kvet1_aux}
%\frac{\dd^{[\llN]}}{\dd t} \Big( \vk_{i-1} \wedge \vr_{\tto_{i-1} | \ttx}   \Big)
%\end{equation}
%\begin{equation} \label{eq:derivada_kvet2_aux}
%\frac{\dd^{[\llN]}}{\dd t} \Big( \vk_{j-1} \wedge \vr_{\tto_{j-1} | \ttg_i}   \Big) 
%\end{equation}
%
%Utilizando a definição da derivada de versores \eqref{eq:derivada_versor} em \eqref{eq:derivada_k_aux}, temos:
%\begin{empheq}[box=\almondbox]{equation} \label{eq:derivada_k}
%\frac{\dd^{[\llN]} \vk_{i-1}}{\dd t} = \vomega_{\lllB_{i-1}}^{\lllN} \wedge \vk_{i-1}
%\end{empheq}
%
%Utilizando \eqref{eq:derivada_k} e \eqref{eq:derivada_vetor} em \eqref{eq:derivada_kvet1_aux}, temos:
%\begin{equation}
%\frac{\dd^{[\llN]}}{\dd t} \Big( \vk_{i-1} \wedge \vr_{\tto_{i-1} | \ttx}   \Big) = (\vomega_{\lllB_{i-1}}^{\lllN} \wedge \vk_{i-1}) \wedge \vr_{\tto_{i-1} | \ttx} + \vk_{i-1} \wedge \Big(\vomega_{\lllB_{i-1}}^{\lllN} \wedge \vr_{\tto_{i-1} | \ttx} + \vv_\ttx^{\lllB_{i-1}}   \Big)
%\end{equation}
%
%Utilizando a propriedade do produto vetorial entre 3 vetores \eqref{eq:prodvet3}, temos:
%\begin{empheq}[box=\almondbox]{equation} \label{eq:derivada_kvet1}
%\frac{\dd^{[\llN]}}{\dd t} \Big( \vk_{i-1} \wedge \vr_{\tto_{i-1} | \ttx}   \Big) = \vomega_{\lllB_{i-1}}^{\lllN}  \wedge \vk_{i-1}  \wedge \vr_{\tto_{i-1} | \ttx} + \vk_{i-1} \wedge \vv_\ttx^{\lllB_{i-1}}  
%\end{empheq}
%
%Analogamente para \eqref{eq:derivada_kvet2_aux}, temos:
%\begin{empheq}[box=\almondbox]{equation} \label{eq:derivada_kvet2}
%\frac{\dd^{[\llN]}}{\dd t} \Big( \vk_{j-1} \wedge \vr_{\tto_{j-1} | \ttg_i}   \Big)  = \vomega_{\lllB_{j-1}}^{\lllN}  \wedge \vk_{j-1}  \wedge \vr_{\tto_{j-1} | \ttg_i} + \vk_{j-1} \wedge \vv_{\ttg_{i}}^{\lllB_{j-1}}  
%\end{empheq}
%
%Sendo assim, pode-se concluir que as derivadas das colunas dos jacobianos são dadas por:
%\begin{empheq}[box=\myyellowbox]{equation}
%\dot{\mj}_{v\,i} = \momega^\star_{i-1} \wedge \mj_{v\,i} + \mj_{\omega\,i} \wedge \mv_{i-1}
%\end{empheq}
%\begin{empheq}[box=\myyellowbox]{equation}
%\dot{\mj}_{v\,i,j} = \momega^\star_{j-1} \wedge \mj_{v\,i,j} + \mj_{\omega\,i,j} \wedge \mv_{i,j-1}
%\end{empheq}
%\begin{empheq}[box=\myyellowbox]{equation}
%\dot{\mj}_{\omega\,i} = \momega^\star_{i-1} \wedge \mj_{\omega\,i} 
%\end{empheq}
%\begin{empheq}[box=\myyellowbox]{equation}
%\dot{\mj}_{\omega\,i,j} = \momega^\star_{j-1} \wedge \mj_{\omega\,i,j}
%\end{empheq}

\subsection{Algoritmo para modelagem de mecanismos paralelos}\label{S05-3}

Esta subseção tem o intuito de apresentar um algoritmo genérico para a obtenção do modelo dinâmico de mecanismos paralelos não-redundantes cujo efetuador realiza apenas movimentos de translação. O algoritmo apresentado é implementável em linguagens de programação comumente usadas atualmente, como C++, Java e Python, sem necessitar de recursos de manipulação simbólica. \\
Para a obtenção do modelo do mecanismo paralelos, são necessários apenas os modelos de mecanismos seriais deduzidos  utilizando o algoritmo apresentado anteriormente, do modelo do efetuador, e de 7 matrizes constantes que são utilizadas para descrever a arquitetura do mecanismo paralelo. \\ 

Para realizar a modelagem de mecanismos paralelos a partir de subsistemas seriais j\'a deduzidos, \'e necess\'ario introduzir mais alguns conceitos: \\

Sejam $\ssB_0$, $\ssB_1$, ..., $\ssB_{n} \,$ $n+1$ subsistemas mec\^anicos e $\ssM$ um sistema mec\^anico de $\nu\ssh$ graus de liberdade gerado pelo acoplamento dos subsistemas citados. Definimos:

\begin{itemize}
\item $\llN_i, \, i=0,...,n$: referencial inercial relativo ao subsistema $\ssB_i$.
\item $\ttN_i, \, i=0,...,n$: sistema de coordenadas solidário a $\llN_i$.
\item $\tto_i, \,i=0,...,n$: origem do sistema $\ttN_i$.
\item $\ttg$: centro de massa da plataforma/efetuador $\llB_0$.
\item $\ttB$: sistema de coordenadas solidário a $\ssB_0$ com origem em $\ttg$.
\item $m$: massa da plataforma/efetuador $\llB_0$.
%\item $\vI_{\ttg}$: tensor de in\'ercia da plataforma/efetuador $\llB_0$ em relação a seu centro de massa.
%\item $\mI$: tensor de in\'ercia $\vI_{\ttg}$ escrito na base $\ttN_0$, ou seja, $\vct{\vI_{\ttg}}_{\ttN_0 \rl \ttN_0}$.
\item $\vf$: Vetor de forças não-reativas (ativas e inerciais) aplicadas no centro de massa da plataforma/efetuador $\llB_0$.
\item $\vg$: Vetor aceleração gravitacional.
\item $\mgamma$: Vetor aceleração gravitacional escrito na base $\ttN_0$, ou seja, $\vct{\vg}_{\ttN_0}$.
\item $\mq_i, \,i=0, ..., n$: matriz-coluna de coordenadas generalizadas do subsistema $\ssB_i$.
%\item $\mx^\ast$: matriz-coluna de coordenadas generalizadas de posição da plataforma/efetuador $\ssB_0$.
%\item $\mtheta^\ast$: matriz-coluna de coordenadas generalizadas de orientação da plataforma/efetuador $\ssB_0$.
\item $\mq^\ast$: matriz-coluna de coordenadas generalizadas da plataforma/efetuador $\ssB_0$. %Definida como $\mq^\ast = \mq_0 = \begin{bmatrix} {\mx^\ast}^\msT & {\mtheta^\ast}^\msT \end{bmatrix}^\msT $.
\item $\mq^\diamond$: matriz-coluna de coordenadas generalizadas dos subsistemas seriais. Definida como $\mq^\diamond = \begin{bmatrix}  {\mq_1}^\msT & ... & {\mq_{n}}^\msT \end{bmatrix}^\msT $.
\item $\mq$: matriz-coluna contendo todas as coordenadas generalizadas do sistema $\ssM$. Definida como $\mq = \begin{bmatrix} {\mq^\ast}^\msT & {\mq^\diamond}^\msT \end{bmatrix}^\msT $.
%\item $\mp_i, \,i=0, ..., n$: matriz-coluna de quasi-velocidades do subsistema $\ssB_i$.
%\item $\momega^\ast$: matriz-coluna de componentes de velocidade angular da plataforma/efetuador $\ssB_0$.
%\item $\mp^\ast$: matriz-coluna de quasi-velocidades da plataforma/efetuador $\ssB_0$. Definida como $\mp^\ast = \mp_0 = \begin{bmatrix} {\dot{\mx}^\ast}^\msT & {\momega^\ast}^\msT \end{bmatrix}^\msT $.
%\item $\mp^\diamond$: matriz-coluna de quasi-velocidades dos subsistemas seriais. Definida como $\mp^\diamond = \dot{\mq}^\diamond $.
%\item $\mp$: matriz-coluna contendo todas as quasi-velocidades do sistema $\ssM$. Definida como $\mp = \begin{bmatrix} {\mp^\ast}^\msT & {\mp^\diamond}^\msT \end{bmatrix}^\msT $.
\item $\mq\ssh$: matriz-coluna de $\nu\ssh$ coordenadas generalizadas independentes.
\item $\mq\cir$: matriz-coluna de coordenadas generalizadas redundantes (contém as componentes de $\mq$ não pertencentes a $\mq\ssh$)
\item $\overline{\mq}(\mq)$: matriz-coluna dos v\'inculos de posi\c{c}\~ao entre subsistemas. As equa\c{c}\~oes vinculares s\~ao dadas por $\overline{\mq}(\mq) = \mzr $.
\item $\overline{\momega}(\mq,\dot{\mq})$: matriz-coluna dos v\'inculos de orienta\c{c}\~ao entre subsistemas. As equa\c{c}\~oes vinculares s\~ao dadas por $\overline{\momega}(\mq,\dot{\mq}) = \mzr $.
\item $\ttx_i, \,i=1, ..., n$: ponto no espa\c{c}o fixo ao efetuador de $\ssB_i$.
\item $\mx_i(\mq_i), \,i=1, ..., n$: $\vct{\ttx_i}_{\ttN_i}$ escrito em função das coordenadas $\mq_i$.
\item $\mJ_{v\,\ssB_i}(\mq_i), \,i=1, ..., n$: jacobiano $\mJ_v$ do subsistema $\ssB_i$.
\item $\mJ_{\omega\,\ssB_i}(\mq_i), \,i=1, ..., n$: jacobiano $\mJ_\omega$ do subsistema $\ssB_i$.
\item $\underaccent{\sim}{\ma}_{\ssB_i}(\mq_i, \mp_i), \,i=1, ..., n$: matriz-coluna $\underaccent{\sim}{\ma}$ do subsistema $\ssB_i$.
\item $\underaccent{\sim}{\dot{\momega}}_{\ssB_i}(\mq_i, \mp_i), \,i=1, ..., n$: matriz-coluna $\underaccent{\sim}{\dot{\momega}}$ do subsistema $\ssB_i$.
\item $\mM_{\ssB_i}(\mq_i), \,i=0, ..., n$: matriz de in\'ercia generalizada do subsistema $\ssB_i$.
\item $\mnu_{\ssB_i}(\mq_i, \mp_i), \,i=0, ..., n$: matriz-coluna das forças de inércia girosc\'opica generalizadas do subsistema $\ssB_i$.
\item $\mg_{\ssB_i}(\mq_i), \,i=0, ..., n$: matriz-coluna dos esfor\c{c}os gravitacionais generalizados do subsistema $\ssB_i$.
\item $\mu_{\ssB_i}, \,i=0, ..., n$: matriz-coluna dos esfor\c{c}os ativos externos generalizados aplicados ao subsistema $\ssB_i$.
\end{itemize}

\begin{itemize}

\item[i)] Modelo dos subsistemas \\

O modelo dinâmico de cada subsistema desacoplado pode ser escrito como:

\begin{equation} \label{eq:ModeloDosSubsistemas}
\overline{\mf}_{\ssB_i}(\mu_i, \mq_i, \dot{\mq}_i, \ddot{\mq}_i) =  \mu_{\ssB_i} - \Big(\mM_{\ssB_i}(\mq_i) \ddot{\mq}_i + \mnu_{\ssB_i}(\mq_i,\dot{\mq}_i) + \mg_{\ssB_i}(\mq_i)\Big) = \mzr, \, i = 0,...,n
\end{equation}

Sendo que para $i=0$ temos o modelo do efetuador/plataforma e para $i>0$ temos os modelos dos mecanismos seriais obtidos anteriormente. \\


O trabalho virtual dos esforços não-reativos (ativos e inerciais) de cada subsistema é dado por:
\begin{equation}
\delta W_i = \delta \mq_i^\msT \cdot \overline{\mf}_{\ssB_i}, \, i = 0,...,n
\end{equation}

Para os subsistemas seriais, as matrizes $\mM_{\ssB_i}$, $\mnu_{\ssB_i}$ e $\mg_{\ssB_i}$ são obtidas utilizando o algoritmo de modelagem de mecanismos seriais apresentado anteriormente. Para o efetuador, iremos utilizar o modelo de um corpo rígido livre no espaço, que realiza apenas translação. Sendo assim, aplicando Teorema do Movimento do Baricentro no efetuador, obtemos os esforços não-reativos  nele aplicados:

%\begin{equation} \label{eq:Newton-EulerE}
%\begin{cases}
%m \va^{\lllN_0}_{\ttg} - m \vg = \vzr \\
%\vI_{\ttg} \cdot \dot{\vomega}^{\lllN_0}_{\lllB_0} + \vomega^{\lllN_0}_{\lllB_0} \wedge (\vI_{\ttg} \cdot \vomega^{\lllN_0}_{\lllB_0}) = \vzr
%\end{cases}
%\end{equation}

\begin{equation} \label{eq:Newton-EulerE}
\vf = -m \va^{\lllN_0}_{\ttg} + m \vg
\end{equation}


Aplicando as equações vetoriais no sistema $\ttN$, temos:
%\begin{equation} \label{eq:Newton-EulerMatE}
%\begin{bmatrix}
%m \mone & \mzr \\
%\mzr      & \vct{\vI_{\ttg}}_{\ttN_0 \rl \ttN_0}
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\vct{\va^{\lllN_0}_{\ttg}}_{\ttN_0}  \\
%\vct{\dot{\vomega}^{\lllN_0}_{\lllB_0}}_{\ttN_0}
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\vct{\vomega^{\lllN_0}_{\lllB_0}}_{\ttN_0} \wedge (\vct{\vI_{\ttg}}_{\ttN_0 \rl \ttN_0} \cdot \vct{\vomega^{\lllN_0}_{\lllB_0}}_{\ttN_0})
%\end{bmatrix}
%+
%\begin{bmatrix}
%-m \vct{\vg}_{\ttN_0} \\
%\mzr
%\end{bmatrix}
%=
%\mzr
%\end{equation}

\begin{equation} \label{eq:Newton-EulerMatE}
\vct{\vf}_{\ttN_0} = -m \vct{\va^{\lllN_0}_{\ttg}}_{\ttN_0}  +m \vct{\vg}_{\ttN_0}
\end{equation}

Definindo:
%\begin{equation}
%\mx^\ast = \vct{\ttg}_{\ttN_0}
%\end{equation}
%\begin{equation}
%\momega^\ast = \vct{\vomega^{\lllN_0}_{\lllB_0}}_{\ttN_0}
%\end{equation}
\begin{equation}
\mq^\ast = \vct{\ttg}_{\ttN_0}
\end{equation}

Temos:
%\begin{equation} \label{eq:Newton-EulerMat2E}
%\begin{bmatrix}
%m \mone & \mzr \\
%\mzr      & \mI
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\ddot{\mx}^\ast  \\
%\dot{\momega}^\ast
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr \\
%\dot{\momega}^\ast \wedge (\mI \cdot \dot{\momega}^\ast)
%\end{bmatrix}
%+
%\begin{bmatrix}
%-m \mgamma \\
%\mzr
%\end{bmatrix}
%=
%\mzr
%\end{equation}
\begin{equation} \label{eq:Newton-EulerMat2E}
\overline{\mf}_{\ssB_0} = -m \ddot{\mq}^\ast + m \mgamma
\end{equation}

Portanto:
%\begin{equation}
%\mM_{\ssB_0}(\mq_0) = 
%\begin{bmatrix}
%m \mone & \mzr \\
%\mzr      & \mI(\mtheta^\ast)
%\end{bmatrix}
%\end{equation}
\begin{equation}
\mM_{\ssB_0} = m \mone
\end{equation}
%\begin{equation}
%\mnu_{\ssB_0}(\mq_0, \mp_0) = 
%\begin{bmatrix}
%\mzr \\
%\dot{\momega}^\ast \wedge \big(\mI(\mtheta^\ast) \cdot \dot{\momega}^\ast \big)
%\end{bmatrix}
%\end{equation}
\begin{equation}
\mnu_{\ssB_0} = \mzr
\end{equation}
%\begin{equation}
%\mg_{\ssB_0}(\mq_0) = 
%\begin{bmatrix}
%-m \mgamma \\
%\mzr
%\end{bmatrix}
%\end{equation}
\begin{equation}
\mg_{\ssB_0} = -m \mgamma
\end{equation}


\item[ii)] Vínculos cinemáticos entre subsistemas

\begin{itemize}



\item[a)] Vínculos de posição

Seja $\ttp_i$ um ponto pertencente à plataforma/efetuador $\ssB_0$ e também ao efetuador do subsistema serial $\ssB_i$. Sendo assim, é possível relacionar as coordenadas do ponto $\ttp_i$ escritas no sistema $\ttN_0$ partindo da plataforma/efetuador $\ssB_0$ e da cadeia serial $\ssB_i$:

\begin{equation}
\vct{\ttp_i}_{\ttN_0} = \vct{\vone}_{\ttN_0 \rl \ttB} \vct{\ttp_i}_\ttB + \vct{\ttg}_{\ttN_0} = \vct{\vone}_{\ttN_0 \rl \ttN_i} \vct{\ttp_i}_{\ttN_i} + \vct{\tto_i}_{\ttN_0} 
\end{equation}

%Sabe-se que $\vct{\ttg}_{\ttN_0} = \mx^\ast$ e $\vct{\ttp_i}_{\ttN_i} = \mx_i(\mq_i)$. Tendo em vista que $\vct{\ttp_i}_\ttB$, $\vct{\vone}_{\ttN_0 \rl \ttN_i}$ e $\vct{\tto_i}_{\ttN_0}$ são constantes e que $\vct{\vone}_{\ttN_0 \rl \ttB}$ depende de $\mtheta^\ast$, definindo:
Sabe-se que $\vct{\ttg}_{\ttN_0} = \mq^\ast$ e $\vct{\ttp_i}_{\ttN_i} = \mx_i(\mq_i)$. Tendo em vista que $\vct{\ttp_i}_\ttB$, $\vct{\vone}_{\ttN_0 \rl \ttN_i}$, $\vct{\tto_i}_{\ttN_0}$ e $\vct{\vone}_{\ttN_0 \rl \ttB}$ são constantes, definindo:

%\begin{equation}
%\mc_i(\mtheta^\ast) = -\vct{\vone}_{\ttN_0 \rl \ttB} \vct{\ttp_i}_\ttB
%\end{equation}
%\begin{equation}
%\md_i = \vct{\tto_i}_{\ttN_0} 
%\end{equation}
\begin{equation}
\md_i = \vct{\tto_i}_{\ttN_0} -\vct{\vone}_{\ttN_0 \rl \ttB} \vct{\ttp_i}_\ttB
\end{equation}
\begin{equation}
\mE_i = \vct{\vone}_{\ttN_0 \rl \ttB}
\end{equation}

Temos:

%\begin{equation}
%\mx^\ast = \mc_i(\mtheta^\ast) + \md_i + \mE_i \cdot \mx_i(\mq_i), \, i = 1,...,n
%\end{equation}
\begin{equation}
\mq^\ast = \md_i + \mE_i \cdot \mx_i(\mq_i), \, i = 1,...,n
\end{equation}

Assim:
%\begin{equation} \label{eq:VinculosPosicao}
%\begin{bmatrix}
%\mone\\
%\vdots\\
%\mone
%\end{bmatrix}\cdot \mx^\ast =
%\begin{bmatrix}
%\mc_1(\mtheta^\ast) \\
%\vdots \\
%\mc_n(\mtheta^\ast)
%\end{bmatrix}
%+
%\begin{bmatrix}
%\md_1 \\
%\vdots \\
%\md_n
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mE_1 & \ldots & \mzr\\
%\vdots & \ddots & \vdots\\
%\mzr &\ldots  & \mE_{n}
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\mx_1(\mq_1) \\
%\vdots \\
%\mx_n(\mq_n)
%\end{bmatrix}
%\end{equation}
\begin{equation} \label{eq:VinculosPosicao}
\begin{bmatrix}
\mone\\
\vdots\\
\mone
\end{bmatrix}\cdot \mq^\ast =
\begin{bmatrix}
\md_1 \\
\vdots \\
\md_n
\end{bmatrix}
+
\begin{bmatrix}
\mE_1 & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mE_{n}
\end{bmatrix}
\cdot
\begin{bmatrix}
\mx_1(\mq_1) \\
\vdots \\
\mx_n(\mq_n)
\end{bmatrix}
\end{equation}

Além disso, em alguns casos é necessário incluir vínculos afins entre as coordenadas generalizadas, ou seja:
\begin{equation} \label{eq:VinculosPosicaoAfins}
\mD_{\oplus}\cdot\mq^\ast = \md_{\oplus} + \mF_{\oplus}\cdot\mq^\diamond
\end{equation}

Juntando a equação \eqref{eq:VinculosPosicaoAfins} à equação \eqref{eq:VinculosPosicao}, temos:
%\begin{equation} \label{eq:VinculosPosicao2}
%\begin{bmatrix}
%\mone\\
%\vdots\\
%\mone \\
%\mD_{\oplus}
%\end{bmatrix}
%\cdot
%\mq^\ast =
%\begin{bmatrix}
%\mc_1(\mtheta^\ast) \\
%\vdots \\
%\mc_n(\mtheta^\ast) \\
%\mzr
%\end{bmatrix}
%+
%\begin{bmatrix}
%\md_1 \\
%\vdots \\
%\md_n \\
%\md_{\oplus}
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mE_1 & \ldots & \mzr\\
%\vdots & \ddots & \vdots\\
%\mzr &\ldots  & \mE_{n} \\
%\mzr &\ldots  & \mzr
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\mx_1(\mq_1) \\
%\vdots \\
%\mx_n(\mq_n)
%\end{bmatrix}
%+
%\begin{bmatrix}
%\mzr\\
%\vdots\\
%\mzr \\
%\mF_{\oplus}
%\end{bmatrix}
%\cdot
%\mq^\diamond
%\end{equation}
\begin{equation} \label{eq:VinculosPosicao2}
\begin{bmatrix}
\mone\\
\vdots\\
\mone \\
\mD_{\oplus}
\end{bmatrix}
\cdot
\mq^\ast =
\begin{bmatrix}
\md_1 \\
\vdots \\
\md_n \\
\md_{\oplus}
\end{bmatrix}
+
\begin{bmatrix}
\mE_1 & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mE_{n} \\
\mzr &\ldots  & \mzr
\end{bmatrix}
\cdot
\begin{bmatrix}
\mx_1(\mq_1) \\
\vdots \\
\mx_n(\mq_n)
\end{bmatrix}
+
\begin{bmatrix}
\mzr\\
\vdots\\
\mzr \\
\mF_{\oplus}
\end{bmatrix}
\cdot
\mq^\diamond
\end{equation}



Sendo assim, os vínculos de posição entre subsistemas podem ser descritos de maneira genérica por:
%\begin{equation} \label{eq:VinculosGenericosPosicao}
%\overline{\mq}(\mq) = \mD \cdot \mx^\ast - \mc(\mtheta^\ast) - \md - \mE \cdot \mx(\mq)
%- \mF \cdot \mq^\diamond = \mzr
%\end{equation}
\begin{equation} \label{eq:VinculosGenericosPosicao}
\overline{\mq}(\mq) = \mD \cdot \mq^\ast - \md - \mE \cdot \mx(\mq)
- \mF \cdot \mq^\diamond = \mzr
\end{equation}


Sendo:

\begin{equation}
\mD = \begin{bmatrix}
\mone &
\hdots &
\mone &
\mD_{\oplus}^\msT &
\end{bmatrix}^\msT
\end{equation}

%\begin{equation}
%\mc(\mtheta^\ast) = 
%\begin{bmatrix}
%\mc_1(\mtheta^\ast)^\msT &
%\hdots &
%\mc_n(\mtheta^\ast)^\msT &
%\mzr
%\end{bmatrix}^\msT
%\end{equation}

\begin{equation}
\md  = \begin{bmatrix}
\md_1^\msT &
\hdots &
\md_n^\msT &
\md_{\oplus}^\msT
\end{bmatrix}^\msT
\end{equation}

\begin{equation}
\mE = \begin{bmatrix}
\mE_1 & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mE_{n} \\
\mzr &\ldots  & \mzr
\end{bmatrix}
\end{equation}

\begin{equation}
\mx(\mq) = 
\begin{bmatrix}
\mx_1(\mq_1)^\msT &
\hdots &
\mx_n(\mq_n)^\msT
\end{bmatrix}^\msT
\end{equation}

\item[b)] Vínculos de velocidades lineares

Derivando no tempo a equação \eqref{eq:VinculosGenericosPosicao}, temos:
%\begin{equation} \label{eq:VinculosGenericosVel}
%\dot{\overline{\mq}}(\mq,\dot{\mq}) = \mD \cdot \dot{\mq}^\ast- \dot{\mc}(\mtheta^\ast, \momega^\ast) - \mE \cdot \dot{\mx}(\mq,\dot{\mq}) - \mF \cdot \dot{\mq}^\diamond = \mzr
%\end{equation}
\begin{equation} \label{eq:VinculosGenericosVel}
\dot{\overline{\mq}}(\mq,\dot{\mq}) = \mD \cdot \dot{\mq}^\ast - \mE \cdot \dot{\mx}(\mq,\dot{\mq}) - \mF \cdot \dot{\mq}^\diamond = \mzr
\end{equation}


A derivada $\dot{\mx}$ pode ser obtida da seguinte maneira:
\begin{equation} \label{eq:dxdt}
\dot{\mx}(\mq,\dot{\mq}) = \frac{\dd}{\dd t}
\begin{bmatrix}
\mx_1(\mq_1) \\
\vdots \\
\mx_n(\mq_n)
\end{bmatrix} =
\begin{bmatrix}
\mJ_{v\,\ssB_1}(\mq_1) \cdot \dot{\mq}_1 \\
\vdots \\
\mJ_{v\,\ssB_n}(\mq_n) \cdot \dot{\mq}_n
\end{bmatrix}
=
\mJ_{\mathsf{v}}(\mq^\diamond) \cdot \dot{\mq}^\diamond
\end{equation}

Sendo:
\begin{equation}
\mJ_{\mathsf{v}}(\mq^\diamond) =
\begin{bmatrix}
\mJ_{v\,\ssB_1}(\mq_1) & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mJ_{v\,\ssB_n}(\mq_n)
\end{bmatrix}
\end{equation}

%E a derivada $\dot{\mc}$ pode ser obtida da seguinte maneira:
%\begin{equation} \label{eq:dcdt}
%\dot{\mc}(\mtheta^\ast,\momega^\ast) = \frac{\dd}{\dd t}
%\begin{bmatrix}
%\mc_1(\mtheta^\ast) \\
%\vdots \\
%\mc_n(\mtheta^\ast) \\
%\mzr
%\end{bmatrix} =
%\begin{bmatrix}
%\momega^\ast \wedge \mc_1(\mtheta^\ast) \\
%\vdots \\
%\momega^\ast \wedge \mc_n(\mtheta^\ast) \\
%\mzr
%\end{bmatrix}
%=
%-\mS^\ast(\mtheta^\ast) \cdot \momega^\ast
%\end{equation}
%
%Sendo:
%\begin{equation}
%\mS^\ast(\mtheta^\ast) =
%\begin{bmatrix}
% \mS\big(\mc_1(\mtheta^\ast)\big) \\
%\vdots \\
%\mS\big(\mc_n(\mtheta^\ast)\big) \\
%\mzr
%\end{bmatrix}
%\end{equation}


%Assim, substituindo \eqref{eq:dxdt} e \eqref{eq:dcdt} em \eqref{eq:VinculosGenericosVel}, obtemos:
%\begin{equation} \label{eq:VinculosGenericosVelocidades}
%\dot{\overline{\mq}}(\mq,\mp) = \mD \cdot \dot{\mx}^\ast + \mS^\ast(\mtheta^\ast) \cdot \momega^\ast - \mE \cdot \mJ_{\mathsf{v}}(\mq^\diamond) \cdot \mp^\diamond  - \mF \cdot \mp^\diamond = \mzr
%\end{equation}
Assim, substituindo \eqref{eq:dxdt} em \eqref{eq:VinculosGenericosVel}, obtemos:
\begin{equation} \label{eq:VinculosGenericosVelocidades}
\dot{\overline{\mq}}(\mq,\mp) = \mD \cdot \dot{\mq}^\ast - (\mE \cdot \mJ_{\mathsf{v}}(\mq^\diamond) + \mF) \cdot \dot{\mq}^\diamond = \mzr
\end{equation}

\item[c)] Vínculos de velocidades angulares

Supondo que os efetuadores de cada cadeia serial $\ssB_i$ estejam ligados rigidamente à plataforma/efetuador $\ssB_0$, temos que todos apresentam velocidade angular em relação a $\ttN_0$, tendo em vista que $\lllB_0$ só translada. Sendo assim, obtem-se as seguintes relações:

\begin{equation}
\vct{\vomega^{\lllN_0}_{\lllB_0}}_{\ttN_0} = \mzr = \vct{\vone}_{\ttN_0 \rl \ttN_i}  \vct{\vomega^{\lllN_i}_{\lllB_0}}_{\ttN_i} , \; i = 1, ... , n
\end{equation}

Sabe-se que $\vct{\vomega^{\lllN_i}_{\lllB_0}}_{\ttN_i} =  \mJ_{\omega\,\ssB_i}(\mq_i) \dot{\mq}_i$ e que $\mE_i =\vct{\vone}_{\ttN_0 \rl \ttN_i}$. Sendo assim, temos:

\begin{equation}
\mzr = \mE_i \cdot \mJ_{\omega\,\ssB_i}(\mq_i) \dot{\mq}_i, \, i = 1,...,n
\end{equation}

Assim:
%\begin{equation} \label{eq:VinculosVelAng}
%\begin{bmatrix}
%\mone\\
%\vdots\\
%\mone
%\end{bmatrix}\cdot \momega^\ast =
%\begin{bmatrix}
%\mE_1 & \ldots & \mzr\\
%\vdots & \ddots & \vdots\\
%\mzr &\ldots  & \mE_{n}
%\end{bmatrix}
%\cdot
%\begin{bmatrix}
%\mJ_{\omega\,\ssB_1}(\mq_1) & \ldots & \mzr\\
%\vdots & \ddots & \vdots\\
%\mzr &\ldots  & \mJ_{\omega\,\ssB_n}(\mq_n)
%\end{bmatrix}
%\begin{bmatrix}
%\dot{\mq}_1 \\
%\vdots \\
%\dot{\mq}_n
%\end{bmatrix}
%\end{equation}
\begin{equation} \label{eq:VinculosVelAng}
\mzr =
\begin{bmatrix}
\mE_1 & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mE_{n}
\end{bmatrix}
\cdot
\begin{bmatrix}
\mJ_{\omega\,\ssB_1}(\mq_1) & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mJ_{\omega\,\ssB_n}(\mq_n)
\end{bmatrix}
\begin{bmatrix}
\dot{\mq}_1 \\
\vdots \\
\dot{\mq}_n
\end{bmatrix}
\end{equation}

Sendo assim, os vínculos de posição entre subsistemas podem ser descritos de maneira genérica por:
%\begin{equation}
%\overline{\momega}(\mq,\mp) = \mP \cdot \momega^\ast - \mQ \cdot \mJ_{\mathsf{w}}(\mq^\diamond) \cdot \mp^\diamond  = \mzr
%\end{equation}
\begin{equation}
\overline{\momega}(\mq,\dot{\mq}) = - \mQ \cdot \mJ_{\mathsf{w}}(\mq^\diamond) \cdot \dot{\mq}^\diamond  = \mzr
\end{equation}

Sendo:
%\begin{equation}
%\mP = \begin{bmatrix}
%\mone &
%\hdots &
%\mone
%\end{bmatrix}^\msT
%\end{equation}
\begin{equation}
\mQ = \begin{bmatrix}
\mE_1 & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mE_{n}
\end{bmatrix}
\end{equation}

\begin{equation} \label{eq:VinculosGenericosVelocidadesAngulares}
\mJ_{\mathsf{w}}(\mq^\diamond) =
\begin{bmatrix}
\mJ_{\omega\,\ssB_1}(\mq_1) & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mJ_{\omega\,\ssB_n}(\mq_n)
\end{bmatrix}
\end{equation}

\item[d)] Vínculos de quasi-velocidades

Os vínculos de quasi-velocidades são dados pela união dos vínculos de velocidades lineares e dos vínculos de velocidades angulares, ou seja:
%\begin{equation} \label{eq:VinculosQuasiVel}
%\overline{\mp}(\mq,\mp) = \begin{bmatrix}
%\dot{\overline{\mq}}(\mq,\dot{\mq}) \\
%\overline{\momega}(\mq,\dot{\mq})
%\end{bmatrix}
%= 
%\begin{bmatrix}
%\mD \cdot \dot{\mx}^\ast + \mS^\ast(\mtheta^\ast) \cdot \momega^\ast - \mE \cdot \mJ_{\mathsf{v}}(\mq^\diamond) \cdot \mp^\diamond  - \mF \cdot \mp^\diamond \\
%\mP \cdot   \momega^\ast - \mQ \cdot \mJ_{\mathsf{w}}(\mq^\diamond) \cdot \mp^\diamond
%\end{bmatrix}
%=
%\mzr
%\end{equation}
\begin{equation} \label{eq:VinculosQuasiVel}
\overline{\mp}(\mq,\dot{\mq}) = \begin{bmatrix}
\dot{\overline{\mq}}(\mq,\dot{\mq}) \\
\overline{\momega}(\mq,\dot{\mq})
\end{bmatrix}
= 
\begin{bmatrix}
\mD \cdot \dot{\mq}^\ast  - \mE \cdot \mJ_{\mathsf{v}}(\mq^\diamond) \cdot \dot{\mq}^\diamond  - \mF \cdot \dot{\mq}^\diamond \\
 - \mQ \cdot \mJ_{\mathsf{w}}(\mq^\diamond) \cdot \dot{\mq}^\diamond
\end{bmatrix}
=
\mzr
\end{equation}


Repare que \eqref{eq:VinculosQuasiVel} pode ser reescrita como:
%\begin{equation}
%\overline{\mp}(\mq,\mp) = \mA(\mq) \mp = \mzr
%\end{equation}
\begin{equation} \label{eq:VinculosQuasiVel2}
\overline{\mp}(\mq,\dot{\mq}) = \mA(\mq) \dot{\mq} = \mzr
\end{equation}

Sendo $\mA$ dado por:
%\begin{equation}
%\mA(\mq) = 
%\begin{bmatrix}
%\mD & \mS^\ast(\mtheta^\ast) & -(\mE \cdot \mJ_{\mathsf{v}}(\mq\cir) + \mF) \\
%\mzr &  \mP & -\mQ \cdot \mJ_{\mathsf{w}}(\mq\cir) \\
%\end{bmatrix}
%\end{equation}
\begin{equation}
\mA(\mq) = 
\begin{bmatrix}
\mD  & -(\mE \cdot \mJ_{\mathsf{v}}(\mq^\diamond) + \mF) \\
\mzr & -\mQ \cdot \mJ_{\mathsf{w}}(\mq^\diamond) \\
\end{bmatrix}
\end{equation}

\item[e)] Vínculos de quasi-acelerações

Derivando \eqref{eq:VinculosQuasiVel}, temos:
%\begin{equation} \label{eq:VinculosQuasiAce}
%\dot{\overline{\mp}}(\mq,\mp,\dot{\mp}) =
%\begin{bmatrix}
%\ddot{\overline{\mq}}(\mq,\mp, \dot{\mp}) \\
%\dot{\overline{\momega}}(\mq,\mp, \dot{\mp})
%\end{bmatrix}
%= 
%\begin{bmatrix}
%\mD \cdot \ddot{\mq}^\ast - \mE \cdot (\mJ_{\mathsf{v}}(\mq^\diamond) \cdot \dot{\mp}^\diamond + \underaccent{\sim}{\ma}(\mq, \mp))  - \mF \cdot \dot{\mp}^\diamond \\
%\mP \cdot \dot{\momega}^\ast - \mQ \cdot (\mJ_{\mathsf{w}}(\mq^\diamond) \cdot \dot{\mp}^\diamond + \underaccent{\sim}{ \dot{\momega} }(\mq, \mp))  - \mR \cdot \dot{\mp}^\diamond
%\end{bmatrix}
%=
%\mzr
%\end{equation}
\begin{equation} \label{eq:VinculosQuasiAce}
\dot{\overline{\mp}}(\mq,\dot{\mq},\ddot{\mq}) =
\begin{bmatrix}
\ddot{\overline{\mq}}(\mq,\dot{\mq},\ddot{\mq}) \\
\dot{\overline{\momega}}(\mq,\dot{\mq},\ddot{\mq})
\end{bmatrix}
= 
\begin{bmatrix}
\mD \cdot \ddot{\mq}^\ast - \mE \cdot (\mJ_{\mathsf{v}}(\mq^\diamond) \cdot \ddot{\mq}^\diamond + \underaccent{\sim}{\ma}(\mq, \dot{\mq}))  - \mF \cdot \ddot{\mq}^\diamond \\
- \mQ \cdot (\mJ_{\mathsf{w}}(\mq^\diamond) \cdot \ddot{\mq}^\diamond + \underaccent{\sim}{ \dot{\momega} }(\mq, \dot{\mq}))
\end{bmatrix}
=
\mzr
\end{equation}

Sendo:
%\begin{equation}
%\underaccent{\sim}{\ma}(\mq, \mp) = \begin{bmatrix}
%\underaccent{\sim}{\ma}_{\ssB_1}(\mq, \mp)(\mq_1,\mp_1)^\msT & ... & \underaccent{\sim}{\ma}_{\ssB_n}(\mq, \mp)(\mq_n,\mp_n)^\msT
%\end{bmatrix}^\msT
%\end{equation}
%\begin{equation}
%\underaccent{\sim}{\dot{\momega}}(\mq, \mp) = \begin{bmatrix}
%\underaccent{\sim}{\dot{\momega}}_{\ssB_1}(\mq, \mp)(\mq_1,\mp_1)^\msT & ... & \underaccent{\sim}{\dot{\momega}}_{\ssB_n}(\mq, \mp)(\mq_n,\mp_n)^\msT
%\end{bmatrix}^\msT
%\end{equation}
\begin{equation}
\underaccent{\sim}{\ma}(\mq, \dot{\mq}) = \begin{bmatrix}
\underaccent{\sim}{\ma}_{\ssB_1}(\mq_1, \dot{\mq}_1)^\msT & ... & \underaccent{\sim}{\ma}_{\ssB_n}(\mq_n, \dot{\mq}_n)^\msT
\end{bmatrix}^\msT
\end{equation}
\begin{equation}
\underaccent{\sim}{\dot{\momega}}(\mq, \dot{\mq}) = \begin{bmatrix}
\underaccent{\sim}{\dot{\momega}}_{\ssB_1}(\mq_1, \dot{\mq}_1)^\msT & ... & \underaccent{\sim}{\dot{\momega}}_{\ssB_n}(\mq_n, \dot{\mq}_n)^\msT
\end{bmatrix}^\msT
\end{equation}

Repare que \eqref{eq:VinculosQuasiAce} pode ser reescrita como:
%\begin{equation}
%\dot{\overline{\mp}}(\mq,\mp,\dot{\mp}) = \mA(\mq)\dot{\mp} + \mb(\mq,\mp) = \mzr
%\end{equation}
\begin{equation} \label{eq:VinculosQuasiAce_}
\dot{\overline{\mp}}(\mq,\dot{\mq},\ddot{\mq}) = \mA(\mq)\ddot{\mq} + \mb(\mq,\dot{\mq}) = \mzr
\end{equation}

Sendo:
%\begin{equation}
%\mb(\mq,\mp) =
%-\begin{bmatrix}
%\mE \cdot \underaccent{\sim}{\ma}(\mq, \mp) \\
%\mQ \cdot \underaccent{\sim}{\dot{\momega}}(\mq, \mp) \\
%\end{bmatrix}
%\end{equation}
\begin{equation}
\mb(\mq,\dot{\mq}) =
-\begin{bmatrix}
\mE \cdot \underaccent{\sim}{\ma}(\mq, \dot{\mq}) \\
\mQ \cdot \underaccent{\sim}{\dot{\momega}}(\mq, \dot{\mq}) \\
\end{bmatrix}
\end{equation}

\end{itemize}

\item[iii)] Acoplamento de subsistemas

Seja $\mf$ a matriz-coluna contendo todos os sistemas de forças não-reativas generalizadas:
\begin{equation} \label{eq:fParalelos}
\mf = 
\begin{bmatrix}
\overline{\mf}_{\ssB_0} \\
\vdots \\
\overline{\mf}_{\ssB_n}  
\end{bmatrix}
=
\begin{bmatrix}
\mu_{\ssB_0} \\
\vdots \\
\mu_{\ssB_n} 
\end{bmatrix}
-
\begin{bmatrix}
\mM_{\ssB_0}(\mq_0) & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mM_{\ssB_n}(\mq_n)
\end{bmatrix}
\cdot
\dot{\mp} \;
-
\begin{bmatrix}
\mnu_{\ssB_0}(\mq_0,\dot{\mq}_0) \\
\vdots \\
\mnu_{\ssB_n}(\mq_n,\dot{\mq}_n)  
\end{bmatrix}
-
\begin{bmatrix}
\mg_{\ssB_0}(\mq_0) \\
\vdots \\
\mg_{\ssB_n}(\mq_0)  
\end{bmatrix}
\end{equation}

Definindo:
\begin{equation}
\mM'(\mq) =
\begin{bmatrix}
\mM_{\ssB_0}(\mq_0) & \ldots & \mzr\\
\vdots & \ddots & \vdots\\
\mzr &\ldots  & \mM_{\ssB_n}(\mq_n)
\end{bmatrix}
\end{equation}
\begin{equation}
\mnu'(\mq,\dot{\mq}) =
\begin{bmatrix}
\mnu_{\ssB_0}(\mq_0,\dot{\mq}_0)^\msT &
... &
\mnu_{\ssB_n}(\mq_n,\dot{\mq}_n)^\msT
\end{bmatrix}^\msT
\end{equation}
\begin{equation}
\mg'(\mq) =
\begin{bmatrix}
\mg_{\ssB_0}(\mq_0)^\msT &
... &
\mg_{\ssB_n}(\mq_0)^\msT  
\end{bmatrix}^\msT
\end{equation}
\begin{equation}
\mu' =
\begin{bmatrix}
\mu_{\ssB_0}^\msT &
... &
\mu_{\ssB_n}^\msT  
\end{bmatrix}^\msT
\end{equation}

\eqref{eq:fParalelos} pode ser reescrita como:
%\begin{equation}
%\mf = \mu' - \mM'(\mq) \cdot \dot{\mp} - \mnu'(\mq,\mp) - \mg'(\mq)
%\end{equation}
\begin{equation}
\mf = \mu' - \mM'(\mq) \cdot \ddot{\mq} - \mnu'(\mq,\dot{\mq}) - \mg'(\mq)
\end{equation}

Pelo princípio de D'Alambert, temos que:
\begin{equation}
\sum_{i=0}^n \delta W_i = \sum_{i=0}^n \delta \mq_i^\msT \cdot \overline{\mf}_{\ssB_i} = 0
\end{equation}

Ou seja:
\begin{equation} \label{eq:DAlambertParalelos}
\delta \mq^\msT \cdot \mf = \mzr
\end{equation}

Além disso, a partir da equação \eqref{eq:VinculosQuasiVel2}, temos que:
\begin{equation} \label{eq:Adeltaq}
\mA(\mq) \delta \mq = \mzr
\end{equation}

$\mq$ pode ser escrita em função de $\mq\ssh$ e $\mq\cir$ da seguinte maneira:
\begin{equation} \label{eq:QsshQcir}
\mq = \mQ\ssh \mq\ssh + \mQ\cir \mq\cir
\end{equation}

Sendo $\mQ\ssh$ e $\mQ\cir$ matrizes constantes que contém apenas zeros e uns, contendo apenas um $"1"$ por coluna.
Aplicando o operador variação em \eqref{eq:QsshQcir}, tem-se que:
\begin{equation} \label{eq:deltaQsshQcir}
\delta\mq = \mQ\ssh \delta\mq\ssh + \mQ\cir \delta\mq\cir
\end{equation}

Substituindo \eqref{eq:deltaQsshQcir} em \eqref{eq:Adeltaq}, podemos isolar $\delta\mq\cir$ em função de $\delta\mq\ssh$:
\begin{equation} \label{eq:qcirqssh}
\delta\mq\cir = -(\mA \mQ\cir)^{-1} \mA \mQ\ssh \delta \mq\ssh
\end{equation}

Substuindo \eqref{eq:qcirqssh} em \eqref{eq:deltaQsshQcir}, obtemos $\delta\mq$ apenas em função de $\mq$ e $\delta\mq\ssh$:
\begin{equation} \label{eq:deltamqC}
\delta \mq = \mC(\mq) \cdot \delta\mq\ssh
\end{equation}

Sendo:
\begin{equation} \label{eq:CComplemento}
\mC(\mq) = \mQ\ssh -(\mA \mQ\cir)^{-1} \mA \mQ\ssh 
\end{equation}


Além disso, repare que $\mC$ respeita a seguinte relação:
\begin{equation} \label{eq:CCinematica}
\dot{\mq} = \mC(\mq) \cdot \dot{\mq}\ssh
\end{equation}

Substuindo \eqref{eq:deltamqC} em \eqref{eq:DAlambertParalelos}, temos:
\begin{equation}
\delta {\mq\ssh}^\msT \mC^\msT \mf = \mzr
\end{equation}

Tendo em vista que $\mq\ssh$ são coordenadas independentes, $\delta \mq\ssh$ são variações arbitrárias. Sendo assim, a equação dinâmica do mecanismo paralelo pode ser escrita como:
\begin{equation}
\mC^\msT \mf = \mzr
\end{equation}

Ou seja:
\begin{equation} \label{eq:EquaçãoDinamicaParalelos}
\mC(\mq)^\msT (   \mM'(\mq)\ddot{\mq} + \mv'(\mq,\dot{\mq}) + \mg'(\mq) ) = \mC(\mq)^\msT \mu'
\end{equation}

\item[iv)] Simulação dinâmica direta

É possível realizar a simulação dinâmica direta do sistema utilizando a equação dinâmica \eqref{eq:EquaçãoDinamicaParalelos} e os vínculos de quasi-acelerações \eqref{eq:VinculosQuasiAce}:
\begin{equation}
\begin{cases}
\mC(\mq)^\msT (   \mM'(\mq)\ddot{\mq} + \mv'(\mq,\dot{\mq}) + \mg'(\mq) ) = \mC(\mq)^\msT \mu' \\
\mA(\mq)\ddot{\mq} + \mb(\mq,\dot{\mq}) = \mzr
\end{cases}
\end{equation}

Reescrevendo em forma matricial:
\begin{equation}
\begin{bmatrix}
\mC(\mq)^\msT \mM'(\mq) \\
\mA(\mq)
\end{bmatrix}
\cdot
\ddot{\mq}
=
\begin{bmatrix}
\mC(\mq)^\msT (\mu' - \mv'(\mq,\dot{\mq}) - \mg'(\mq) ) \\
-\mb(\mq,\dot{\mq})
\end{bmatrix}
\end{equation}

É necessário que as condições iniciais respeitem os vínculos de posição e velocidades. Com isso, teoricamente, os vínculos continuariam sendo respeitados na solução do sistema de EDOs. Porém, devido a erros numéricos de truncamento e erros associados ao método de integração numérica utilizado, os vínculos de posição e velocidade podem deixar de ser respeitados. Esse problema pode ser resolvido utilizando a técnica das constantes de estabilização de Baumgarte \cite{Baumgarte}. A idéia é substituir a equação dos vínculos de aceleração pela seguinte equação:
\begin{equation} \label{eq:VinculosQuasiAce2}
\overline{\mp}'(\mq, \dot{\mq}, \ddot{\mq}) =
\begin{bmatrix}
\ddot{\overline{\mq}} + 2\lambda \dot{\overline{\mq}} + \lambda^2 \overline{\mq} \\
\dot{\overline{\momega}} + \lambda \overline{\momega}
\end{bmatrix}
=
\begin{bmatrix}
\ddot{\overline{\mq}} \\
\dot{\overline{\momega}}
\end{bmatrix}
+
\lambda
\begin{bmatrix}
2 \cdot \mone & \mzr \\
\mzr & \mone
\end{bmatrix}
\cdot
\begin{bmatrix}
\dot{\overline{\mq}} \\
\overline{\momega}
\end{bmatrix}
+
\lambda^2
\begin{bmatrix}
\overline{\mq} \\
\mzr
\end{bmatrix}
= \mzr
\end{equation}

Substituindo \eqref{eq:VinculosQuasiVel} e \eqref{eq:VinculosQuasiAce} em \eqref{eq:VinculosQuasiAce2}, temos:
\begin{equation} \label{eq:VinculosQuasiAce3}
\overline{\mp}'(\mq, \dot{\mq}, \ddot{\mq}) =
\mA(\mq) \ddot{\mq} + \mb(\mq, \dot{\mq})
+
\lambda
\begin{bmatrix}
2 \cdot \mone & \mzr \\
\mzr & \mone
\end{bmatrix}
\cdot
\mA(\mq) \cdot \dot{\mq} +
\lambda^2
\begin{bmatrix}
\overline{\mq}(\mq) \\
\mzr
\end{bmatrix}
= \mzr
\end{equation}

Impondo que \eqref{eq:VinculosQuasiAce3} seja respeitada, garantimos que $\overline{\mq}(\mq)$ e $\overline{\momega}(\mq, \dot{\mq})$ tenderão exponencialmente a zero independentemente das condições iniciais, para $\lambda > 0$, ou seja, irá fazer com que os vínculos de posição e velocidades sejam respeitados mesmo havendo erros de truncamento e erros associados ao método de integração numérica de EDOs. É importante ressaltar que $\lambda$ é superiomente limitado pelo passo de integração $h$ e pelo método de integração, porém, escolhendo $\lambda = 1/h$ já garante a estabilidade do método para praticamente qualquer método de integração numérica de EDOs.

Sendo assim, o sistema de EDOs que será utilizado para realizar a simualação dinâmica direta é dado por:
\begin{equation}
\begin{bmatrix}
\mC(\mq)^\msT \mM'(\mq) \\
\mA(\mq)
\end{bmatrix}
\cdot
\ddot{\mq}
=
\begin{bmatrix}
\mC(\mq)^\msT (\mu' - \mv'(\mq,\dot{\mq}) - \mg'(\mq) ) \\
-\mb(\mq,\dot{\mq}) -
\lambda
\begin{bmatrix}
2 \cdot \mone & \mzr \\
\mzr & \mone
\end{bmatrix}
\cdot
\mA(\mq) \cdot \dot{\mq} -
\lambda^2
\begin{bmatrix}
\overline{\mq}(\mq) \\
\mzr
\end{bmatrix} 
\end{bmatrix}
\end{equation}

\item[v)] Simulação dinâmica inversa

Na simulação dinâmica inversa, são dados os perfis de $\mq\ssh$, $\dot{\mq}\ssh$ e $\ddot{\mq}\ssh$ em função do tempo e obtem-se os perfis dos esforços nos atuadores para a trajetória dada. Para isso, será utilizada a equação dinâmica \eqref{eq:EquaçãoDinamicaParalelos}:
$$ \mC(\mq)^\msT (   \mM'(\mq)\ddot{\mq} + \mv'(\mq,\dot{\mq}) + \mg'(\mq) ) = \mC(\mq)^\msT \mu' $$

Repare que os termos desta equação dependem de $\mq$, $\dot{\mq}$ e $\ddot{\mq}$. Sendo assim, primeiramente é preciso obter $\mq$, $\dot{\mq}$ e $\ddot{\mq}$ dados $\mq\ssh$, $\dot{\mq}\ssh$ e $\ddot{\mq}\ssh$.

$\mq$ é obtido resolvendo numéricamente a equação dos vínculos de posição \eqref{eq:VinculosPosicao2}, a qual é um sistema de equações algébricas não lineares.
$$ \overline{\mq}(\mq) = \mzr $$

Tendo obtido $\mq$, $\dot{\mq}$ é obtido pela equação \eqref{eq:CCinematica}:
$$ \dot{\mq} = \mC(\mq) \cdot \dot{\mq}\ssh $$

Para obter $\ddot{\mq}$, substitui-se a segunda derivada temporal da equação \eqref{eq:QsshQcir} na equação dos vínculos de quasi-acelerações \eqref{eq:VinculosQuasiAce_}:
$$ \mA \mQ\ssh \ddot{\mq}\ssh + \mA \mQ\cir \ddot{\mq}\cir + \mb = \mzr $$
$$ \Rightarrow  \ddot{\mq}\cir = - (\mA \mQ\cir)^\msI (\mb + \mA \mQ\ssh \ddot{\mq}\ssh) $$
\begin{equation} \label{eq:d2q_em_funcao}
\therefore \ddot{\mq} =
(\mQ\ssh - (\mA \mQ\cir)^\msI  \mA \mQ\ssh) \cdot \ddot{\mq}\ssh - (\mA \mQ\cir)^\msI \mb
\end{equation}

Comparando \eqref{eq:CComplemento} com \eqref{eq:d2q_em_funcao}, temos:
\begin{equation} \label{eq:d2q_em_funcao2}
\therefore \ddot{\mq} = \mC(\mq) \cdot \ddot{\mq}\ssh + \mc(\mq, \dot{\mq})
\end{equation}

Sendo:
\begin{equation}
\mc(\mq, \dot{\mq}) = - (\mA(\mq) \mQ\cir)^\msI \cdot \mb(\mq,\dot{\mq})
\end{equation}

Além disso, normalmente não há atuadores em todas as juntas do mecanismo paralelo. Sendo assim, $\mu'$ pode ser reescrito como:
\begin{equation} \label{eq:u_estrela}
\mu' = \mU \cdot \mu^\star
\end{equation}

Sendo $\mU$ uma matriz constante composta por zeros e uns, e $\mu^\star$ os esforços aplicados pelos atuadores.

Substituindo \eqref{eq:CCinematica}, \eqref{eq:d2q_em_funcao2} e \eqref{eq:u_estrela} em \eqref{eq:EquaçãoDinamicaParalelos}, temos:

\begin{equation}
\mC^\msT ( \mM' (\mC \cdot \ddot{\mq}\ssh + \mc) + \mv' + \mg') = \mC^\msT \mU \cdot \mu^\star
\end{equation}

Definindo:
\begin{equation}
\mZ(\mq)^\msT = \mC(\mq)^\msT \mU
\end{equation}

Temos:
\begin{equation} \label{eq:DinamicaInversa1}
\mC^\msT \mM' \mC \cdot \ddot{\mq}\ssh + \mC^\msT (   \mM' \mc + \mv' ) + \mC^\msT \mg'  = \mZ^\msT \mu^\star
\end{equation}

Sendo assim, \eqref{eq:DinamicaInversa1} pode ser reescrita como:
\begin{equation} \label{eq:DinamicaInversa2}
\mM_{\ssM} (\mq) \ddot{\mq}\ssh + \mv_{\ssM}(\mq, \dot{\mq}) + \mg_{\ssM}(\mq)   = \mZ(\mq)^{\msT} \mu^\star
\end{equation}

Sendo: 
\begin{equation}
\mM_{\ssM}  =  \mC^\msT \mM' \mC
\end{equation}
\begin{equation}
\mv_{\ssM}  =  \mC^\msT (  \mM'  \mc  + \mv' )
\end{equation}
\begin{equation}
\mg_{\ssM}  = \mC^\msT \mg'
\end{equation}

Sendo assim, para mecanismos sem atuação redundante, a simulação dinâmica inversa é feita utilizando a equação \eqref{eq:DinamicaInversa2} para obter os esforços nos atuadores, dados $\mq\ssh$, $\dot{\mq}\ssh$ e $\ddot{\mq}\ssh$, obtendo $\mq$ através da solução numérica da equação \eqref{eq:VinculosGenericosPosicao} e $\dot{\mq}$ através de \eqref{eq:CCinematica}. 

Para o caso de mecanismos com atuação redundante, há infinitas para $\mu^\star$ de modo que o mecanismo realize a trajetória desejada. Sendo assim, normalmente é escolhida uma solução que seja solução de um problema de otimização (como a minimização da energia consumida), tendo a equação \eqref{eq:DinamicaInversa2} como restrição.

\end{itemize}

\subsection{Projeto do Controlador}\label{S05-5}

Esta subseção é destinada ao projeto de controladores não lineares, destinados ao controle de posição de plataformas paralelas cujo modelo dinâmico para simulação dinâmica inversa é dado por \eqref{eq:DinamicaInversa2}, utilizando as técnicas de linearização por realimentação com observador de disturbios na malha linear, e controle por modos deslizantes contínuo \cite{Slotini, Utkin} e discreto.

Para facilitar a leitura das deduções e com o intuito de deixar um pouco menos carregada a notação, será adotada a seguinte notação:
\begin{equation}
\mH(\mq) = \mM_{\ssM}(\mq)
\end{equation}
\begin{equation}
\mh(\mq, \dot{\mq}) = \mv_{\ssM}(\mq, \dot{\mq}) + \mg_{\ssM}(\mq)
\end{equation}
\begin{equation}
\mup = \mZ(\mq)^{\msT} \mu^\star
\end{equation}

Sendo assim, equação \eqref{eq:DinamicaInversa2} pode ser reescrita como:
\begin{equation} \label{eq:ModeloControle}
\mH(\mq)  \ddot{\mq}\ssh + \mh(\mq,\dot{\mq}) = \mup
\end{equation}

\subsubsection{Controle por Torque Computado (CTC)}\label{S05-05-01}

Tendo em vista a equação dinâmica \eqref{eq:ModeloControle}, a lei de Controle por Torque computado é dada por:
\begin{equation} \label{eq:leiCTC}
\mup = \hat{\mH}(\mq) (\ddot{\mq}\ssh_d + \underline{k}_v \dot{\me} + \underline{k}_p \me ) + \hat{\mh}(\mq,\dot{\mq})
\end{equation}

Sendo $\hat{\mH}$ e $\hat{\mh}$ estimadores para $\mH$ e $\mh$, respectivamente.

Substituindo a lei de controle \eqref{eq:leiCTC} em \eqref{eq:ModeloControle}, temos:
\begin{equation}
\ddot{\me} + \underline{k_v} \dot{\me} + \underline{k_p} \me = \mdelta(t,\mq,\dot{\mq})
\end{equation}

Sendo:
\begin{equation}
\me = \mq\ssh_d - \mq\ssh
\end{equation}
\begin{equation}
\mdelta = \mH^\msI( \tilde{\mH}(\ddot{\mq}\ssh_d + \underline{k}_v \dot{\me} + \underline{k}_p \me ) + \tilde{\mh} )
\end{equation}
\begin{equation} \label{eq:Htil}
\tilde{\mH} = \mH - \hat{\mH}
\end{equation} 
\begin{equation} \label{eq:htil}
\tilde{\mh} = \mh - \hat{\mh}
\end{equation}


\subsubsection{Controle por Modos Deslizantes contínuo}\label{S05-05-02}

Sejam $\underline{\lambda}$ uma matriz diagonal positiva, $\mq\ssh_d$ uma matriz-coluna de sinais referência, e $\ms$ uma matriz-coluna dada por:
\begin{equation} \label{eq:SlidingSurfaces}
\ms = -(\dot{\me} + \underline{\lambda}\me)
\end{equation} 

Sendo:
\begin{equation}
\me = \mq\ssh_d - \mq\ssh
\end{equation}

Seja $V(\ms)$ uma função de Lyapunov dada por:
\begin{equation}
V(\ms) = \frac{1}{2} \ms^\msT \ms
\end{equation}

Pela teoria de estabilidade de Lyapunov, se $\dot{V} < 0 \,\, \forall \ms \neq \mzr$, $\ms$ converge para $\mzr$ independentemente das condi\c{c}\~oes iniciais do sistema. Para que isso seja poss\'ivel, \'e imposta a seguinte condi\c{c}\~ao:
\begin{equation} \label{eq:SlidingCondition}
\frac{\dd}{\dd t} V(\ms) = \ms^\msT \dot{\ms} \leq - \eta \, \ms^\msT \sign(\ms) 
\end{equation}

Sendo $\eta$ uma constante positiva. Repare que $\ms^\msT \sign(\ms)$ \'e a soma dos m\'odulos das componentes de $\ms$, o que implica que $- \eta \, \ms^\msT \sign(\ms) < 0 \,\, \forall \ms \neq \mzr$. Repare tamb\'em que se $\dot{\ms} = - \eta \,\sign(\ms)$,  \eqref{eq:SlidingCondition} \'e satisfeita e cada componente de $\ms$ respeita a EDO $\dot{s_i} = - \eta \,\sign(s_i)$, a qual converge para zero em um tempo finito de $t = \frac{|s_i(0)|}{\eta}$. Sendo assim, pode-se dizer que se \eqref{eq:SlidingCondition} for satisfeita, $\ms$ converge para zero em tempo finito e, a partir desse momento, o erro de controle $\me$ converge assintoticamente para zero.

O projeto do controlador \'e feito utilizando a condi\c{c}\~ao \eqref{eq:SlidingCondition}, a qual \'e conhecida como condi\c{c}\~ao de escorregamento. Assim, derivando \eqref{eq:SlidingSurfaces}, temos:

\begin{equation} \label{eq:DSlidingSurfaces}
\dot{\ms} = \ddot{\mq}\ssh - \msigma
\end{equation}
Sendo:
\begin{equation}
\msigma = \ddot{\mq}\ssh_d + \underline{\lambda}\dot{\me}
\end{equation}

Substituindo \eqref{eq:DSlidingSurfaces} em \eqref{eq:SlidingCondition}, temos:

\begin{equation} \label{eq:SlidingCondition2}
\ms^\msT (\ddot{\mq}\ssh -\msigma + \eta \, \sign(\ms) ) \leq 0
\end{equation} \\

\eqref{eq:ModeloControle} será utilizada para realizar o projeto do controlador. \\



Isolando $\ddot{\mq}\ssh$ em \eqref{eq:ModeloControle} e subtituindo em \eqref{eq:SlidingCondition2}, temos:
\begin{equation} \label{eq:SlidingCondition3}
\ms^\msT (\mH^\msI (\mup - \mh ) -\msigma + \eta \, \sign(\ms) ) \leq 0
\end{equation}

Para satisfazer \eqref{eq:SlidingCondition3}, \'e utilizada a seguinte lei de controle:
\begin{equation} \label{eq:ControlLawSRed}
\mup = \hat{\mh} + \hat{\mH}( \msigma - \underline{k} \sign(\ms) )
\end{equation}

Sendo $\hat{\mh}$ e $\hat{\mH}$ estimadores de $\mh$ e $\mH$, respectivamente, e $\underline{k}$ uma matriz diagonal positiva. Substituindo \eqref{eq:ControlLawSRed} em \eqref{eq:SlidingCondition3}, temos:
\begin{equation} \label{eq:SlidingCondition4}
\ms^\msT (\mdelta + \mDelta \msigma  + \eta \, \sign(\ms) - (\mDelta + \mone) \underline{k} \sign(\ms) ) \leq 0
\end{equation}

Sendo:
\begin{equation}
\mdelta(\mq, \dot{\mq}\ssh) = \mH^\msI (\hat{\mh} - \mh)
\end{equation}
\begin{equation}
\mDelta(\mq) = \mH^\msI \hat{\mH} - \mone
\end{equation}

Pode-se dizer que \eqref{eq:SlidingCondition4} \'e sempre satisfeita se:
\begin{equation} \label{eq:DesigualdadeK1}
(\mDelta + \mone) \cdot \diag(\underline{k})  \geq | \mdelta + \mDelta \msigma  + \eta \, \sign(\ms) |
\end{equation}

Aplicando a desigualdade triangular em cada componente do lado esquerdo de \eqref{eq:DesigualdadeK1}, temos:
\begin{equation}
| \mdelta + \mDelta \msigma  + \eta \, \sign(\ms) | \leq |\mdelta|_{max} + |\mDelta|_{max} |\msigma| + \diag(\eta \mone)
\end{equation}

Além disso, pode-se fazer a seguinte majoração no lado direito de \eqref{eq:DesigualdadeK1}:
\begin{equation}
(\mDelta + \mone) \cdot \diag(\underline{k})  \geq (\mone - |\mDelta|_{max} ) \cdot \diag(\underline{k})
\end{equation}

Portanto, se a seguinte inequa\c{c}\~ao matricial for respeitada:
\begin{equation} \label{eq:DesigualdadeK2}
(\mone - |\mDelta|_{max} ) \cdot \diag(\underline{k})  \geq |\mdelta|_{max} + |\mDelta|_{max} |\msigma| + \diag(\eta \mone)
\end{equation}

\eqref{eq:SlidingCondition4} ser\'a respeitada, o que garante que a condi\c{c}\~ao de escorregamento \eqref{eq:SlidingCondition} tamb\'em seja respeitada e consequentemente garante a converg\^encia do erro de controle para zero.

Uma poss\'ivel solu\c{c}\~ao para \eqref{eq:DesigualdadeK2} é dada por:
\begin{equation} \label{eq:MatrizDiagk}
\diag(\underline{k})  = (\mone - |\mDelta|_{max} )^\msI ( |\mdelta|_{max} + |\mDelta|_{max} |\msigma| + \diag(\eta \mone) )
\end{equation}

A qual é válida apenas se $(\mone - |\mDelta|_{max} )^\msI$ for positiva. \\

Sabendo-se que, dadas as passagens feitas para a obtenção de $\mv_{\ssM}$ no algoritmo de modelagem, $\mv_{\ssM}$ pode ser escrito da seguinte maneira:
\begin{equation}
\mv_{\ssM}(\mq, \dot{\mq}\ssh) = \sum_{i=1}^{\nu\ssh} \sum_{j=1}^i \mgamma_{i,j}(\mq) \dot{q}\ssh_i \dot{q}\ssh_j 
\end{equation}

Além disso, definindo:
\begin{equation}
\mgamma(\mq) = \mg_{\ssM}(\mq)
\end{equation}
\begin{equation}
\mdelta_0(\mq) = \mH(\mq)^\msI (\hat{\mgamma}(\mq) - \mgamma(\mq))
\end{equation}
\begin{equation}
\mdelta_{i,j}(\mq) = \mH(\mq)^\msI (\hat{\mgamma}_{i,j}(\mq) - \mgamma_{i,j}(\mq))
\end{equation}

Temos que:
\begin{equation}
\mdelta(\mq, \dot{\mq}\ssh) = \mdelta_0(\mq) + \sum_{i=1}^{\nu\ssh} \sum_{j=1}^i \mdelta_{i,j}(\mq) \dot{q}\ssh_i \dot{q}\ssh_j 
\end{equation}

Sendo assim, a equação \eqref{eq:MatrizDiagk} pode ser reescrita como:
\begin{equation} \label{eq:MatriDiagk2}
\diag(\underline{k})  = \meta + \mGamma |\msigma| + \sum_{i=1}^{\nu\ssh}\sum_{j=1}^{i} \meta_{i,j} |\dot{q}\ssh_i||\dot{q}\ssh_j| 
\end{equation}

Sendo $\mGamma$, $\meta$ e $\meta_{i,j}$  matrizes constantes dadas por:
\begin{equation}
\mGamma = (\mone - |\mDelta|_{max} )^\msI |\mDelta|_{max}
\end{equation}
\begin{equation}
\meta = (\mone - |\mDelta|_{max} )^\msI ( | \mdelta_0 |_{max} + \diag(\eta \mone) )
\end{equation}
\begin{equation}
\meta_{i,j} = (\mone - |\mDelta|_{max} )^\msI | \mdelta_{i,j} |_{max}, \, i=1,...,\nu\ssh, \, j = 1,...,i
\end{equation}


%Uma poss\'ivel solu\c{c}\~ao para \eqref{eq:DesigualdadeK2} \'e obtida fazendo $\underline{k} = k \mone$, a qual \'e v\'alida apenas se o somat\'orio de cada uma das linhas de $|\mDelta|_{max}$ for menor do que $1$. Esta solu\c{c}\~ao \'e dada por:
%\begin{equation}
%k = \eta + \displaystyle\max_{1 \leq i \leq \nu\ssh} \Big( \frac{|\delta_i|_{max}}{1 - \sum_{j=1}^{\nu\ssh} |\Delta_{i,j}|_{max} } \Big) + \sum_{\kappa = 1}^{\nu\ssh} \displaystyle\max_{1 \leq i \leq \nu\ssh} \Big( \frac{|\Delta_{i,\kappa}|_{max}}{1 - \sum_{j=1}^{\nu\ssh} |\Delta_{i,j}|_{max} } \Big) |\sigma_\kappa|
%\end{equation}

%Sendo $\delta_i$ e $\sigma_i$ as i-\'esimas componentes de $\mdelta$ e $\msigma$, repectivamente, e $\Delta_{i,j}$ o elemento da i-\'esima linha e j-\'esima coluna de $\mDelta$.

\subsection{Simulações}\label{S05-4}
Nesta subseção, será realizada a simulação dinâmica direta do mecânimo 5R utilizando o algoritmo de modelagem e simulação de mecanismos paralelos apresentado, e a lei de controle apresentada na subseção anterior. Serão consideradas incertezas paramétricas, tanto no projeto do controlador, quanto na simulação.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.10]{figures/5Rscan.jpg}  
	\caption{Pentágono articulado (5R)}
	\label{fig:5R}
\end{figure}

O mecanismo 5R será modelado através do acoplamento de 2 subsistemas seriais $\ssB_1$ e $\ssB_2$ do tipo \underline{R}\underline{R}, e um efetuador pontual $\ssB_0$ de massa $m_0$.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.055]{figures/RR.jpg}  
	\caption{Mecanismo \underline{R}\underline{R}}
	\label{fig:RR}
\end{figure}


\begin{itemize}
\item[i)] Modelo do efetuador

O modelo do efetuador pontual $\ssB_0$ segue o formato dado pela equação \eqref{eq:ModeloDosSubsistemas}, ou seja:
\begin{equation}
\overline{\mf}_{\ssB_0}(\mu_0, \mq_0, \dot{\mq}_0, \ddot{\mq}_0) =  \mu_0 - (\mM_{\ssB_0}(\mq_0) \ddot{\mq}_0 + \mv_{\ssB_0}(\mq_0,\dot{\mq}_0) + \mg_{\ssB_0}(\mq_0)) = \mzr
\end{equation}
Para o subsistema em questão, temos:
\begin{equation}
\mM_{\ssB_0}(\mq_0) = \begin{bmatrix}
m_0 & 0 \\
0 & m_0 \\
\end{bmatrix}
\end{equation}
\begin{equation}
\mv_{\ssB_0}(\mq_0,\dot{\mq}_0) = \mzr
\end{equation}
\begin{equation}
\mg_{\ssB_0}(\mq_0) = \begin{bmatrix}
0 &
m_0 g \\
\end{bmatrix}^\msT
\end{equation}
\begin{equation}
\mq_0 = \mq\ssh = \begin{bmatrix}
x &
y
\end{bmatrix}^\msT
\end{equation}
\begin{equation}
\mu_0 = \mzr
\end{equation}



\item[ii)] Parâmetros de Denavit-Hartemberg das cadeias seriais

\begin{table}[H]
\begin{center}
\caption[DH]{Parâmetros de Denavit-Hartemberg do mecanismo \underline{R}\underline{R}}
\begin{tabular}{|c|c|c|c|c|c|} 
	\hline
	\rule[-2mm]{0mm}{6mm}
	Ligamento & $a_i$ & $\alpha_i$ & $d_i$ & $\theta_i$ \\
	\hline
	\rule[-2mm]{0mm}{6mm}
	(1) & $l_1$ & $0$ & $0$ & $q_1(t)$  \\
	\rule[-1mm]{0mm}{5mm}
	(2) & $l_2$ & $0$ & $0$ & $q_2(t)$  \\
	\hline
\end{tabular}
\label{tab:DH}
\end{center}
\end{table}

\item[iii)] Arquitetura do mecanismo paralelo

É possível relacionar as coordenadas um ponto no espaço descrito no sistema $\ttN$ com as coordenadas do mesmo ponto escritas nos sistemas $\ttN_1$ e $\ttN_2$ da seguinte maneira:
\begin{equation}
\vct{\ttp}_{\ttN} = \begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1 \\
\end{bmatrix}
\cdot
\vct{\ttp}_{\ttN_1}
+
\begin{bmatrix}
l_0 \\
0 \\
0 
\end{bmatrix}
\end{equation}
\begin{equation}
\vct{\ttp}_{\ttN} = \begin{bmatrix}
-1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & -1 \\
\end{bmatrix}
\cdot
\vct{\ttp}_{\ttN_2}
+
\begin{bmatrix}
-l_0 \\
0 \\
0 
\end{bmatrix}
\end{equation}

Escolhendo o ponto $\ttp$ como sendo o efetuador do mecanismo paralelo, o qual tem a mesma localização dos efetuadores das cadeias serias neste caso, temos:
\begin{equation}
\mq\ssh = 
\begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
\end{bmatrix}
\cdot
\mx_1(\mq_1)
+
\begin{bmatrix}
l_0 \\
0 \\
\end{bmatrix}
\end{equation}
\begin{equation}
\mq\ssh = 
\begin{bmatrix}
-1 & 0 & 0 \\
0 & 1 & 0 \\
\end{bmatrix}
\cdot
\mx_2(\mq_2)
+
\begin{bmatrix}
-l_0 \\
0 \\
\end{bmatrix}
\end{equation}

Sendo assim, temos que os vínculos de posição são dados por:
\begin{equation}
\overline{\mq}(\mq) =
\begin{bmatrix}
1 & 0 \\
0 & 1 \\
1 & 0 \\
0 & 1 \\
\end{bmatrix}
\cdot
\mq\ssh
-
\begin{bmatrix}
1 & 0 & 0 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & -1 & 0 & 0 \\
0 & 0 & 0 & 0 & 1 & 0 \\
\end{bmatrix}
\cdot
\mx(\mq\cir)
-
\begin{bmatrix}
l_0 \\
0 \\
-l_0 \\
0 \\
\end{bmatrix}
= \mzr
\end{equation}

Como não temos vínculos de velocidades angulares para esse mecanismo, as matrizes que descrevem a arquitetura do mecanismo são dadas por:
\begin{multicols}{3}
\begin{equation}
\md = \begin{bmatrix}
l_0 \\
0 \\
-l_0 \\
0 \\
\end{bmatrix}
\end{equation} \\
\begin{equation}
\mD = \begin{bmatrix}
1 & 0 \\
0 & 1 \\
1 & 0 \\
0 & 1 \\
\end{bmatrix}
\end{equation} \\
\begin{equation}
\mE = \begin{bmatrix}
1 & 0 & 0 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 & 0 \\
0 & 0 & 0 & -1 & 0 & 0 \\
0 & 0 & 0 & 0 & 1 & 0 \\
\end{bmatrix}
\end{equation}
\end{multicols}
\begin{equation}
\mF = \mzr
\end{equation}
\begin{equation}
\mP = \mQ = \mR = \vct{\varnothing}
\end{equation}

\item[iv)] Parâmetros e incertezas do modelo

Definimos os seguinte parâmetros e incertezas para o mecanismo em questão:

\begin{multicols}{2}
\begin{itemize}
\item[-] $l_1 = 0.12 m$
\item[-] $l_2 = 0.15 m$
\item[-] $l_{g1} = (0.06 \pm 0.009) m$
\item[-] $l_{g2} = (0.075 \pm 0.011) m$
\item[-] $m_0 = 0 \, kg$
\item[-] $m_1 = (0.143 \pm 0.0215) kg$
\item[-] $m_2 = (0.171 \pm 0.0257) kg$
\item[-] $Jz_1 = (171.6 \pm 25.7 ) 10^{-6} kg\cdot m^2$
\item[-] $Jz_2 = (320.6 \pm 48.1 ) 10^{-6} kg\cdot m^2$
\item[-] $g = 9.8 m/s^2$
\end{itemize}
\end{multicols}

\item[v)] Espaço de trabalho

Dados os parâmetros geométricos defidos acima, obtemos o seguinte espaço de trabalho para o mecanismo:

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.25]{figures/Workspace.pdf}  
	\caption{Espaço de trabalho do mecanismo \underline{R}\underline{R}}
	\label{fig:RRWS}
\end{figure}

A região em azul escuro é a região não pertencente ao espaço de trabalho do mecanismo. As regiões em azul claro, em amarelo, e em vermelho são regiões pertencententes ao espaço do mecanismo. A região a amarela é considerada singular (próxima a singularidades) e a vermelha é a trajetória a ser seguida pelo mecanismo.

\item[vi)] Controlador

A lei de controle por modos deslizantes que será utilizada na simulação dinâmica direta é dada pelas equações \eqref{eq:ControlLawSRed} e \eqref{eq:MatriDiagk2}. $\mGamma$, $\meta$ e $\meta_{i,j}$ são obtidas da seguinte maneira:
\begin{itemize}
\item[$\bullet$] Discretiza-se o espaço de trabalho em um número finito de pontos considerados não-singulares. Foi adotada um discretização de $1 cm$ na horizontal e na vertical.
\item[$\bullet$] Para cada ponto calcula-se $|\mDelta|$, $|\mdelta_0|$ e $|\mdelta_{i,j}|$ para todas as combinações possíveis de parâmetros, com os parâmetros podendo assumir seu valor mínimo e seu valor máximo. Como temos 6 parâmetros incertos, temos 64 possibilidades.
\item[$\bullet$] Obtem-se o valor máximo de $|\mDelta|$, $|\mdelta_0|$ e $|\mdelta_{i,j}|$ para cada ponto.
\item[$\bullet$] Obtem-se o valor máximo de $|\mDelta|$, $|\mdelta_0|$ e $|\mdelta_{i,j}|$ para o espaço de trabalho, a partir do valor máximo em cada ponto.
\end{itemize}

Realizando-se esse procedimento e adotando $\eta = 20.0$, obtemos:
\begin{equation}
\diag(\underline{k}) =
\begin{bmatrix}
75.3 \\
108
\end{bmatrix}
+
\begin{bmatrix}
37.0 \\
54.1
\end{bmatrix} \dot{x}^2
+
\begin{bmatrix}
22.7 \\
35.5
\end{bmatrix} |\dot{x} \dot{y} |
+
\begin{bmatrix}
17.5 \\
28.5
\end{bmatrix} \dot{y}^2
+
\begin{bmatrix}
1.25 & 0.92 \\
1.68 & 1.65
\end{bmatrix}
\cdot
\begin{bmatrix}
|\ddot{x}_d + \lambda \dot{e}_x| \\
|\ddot{y}_d + \lambda \dot{e}_y|
\end{bmatrix}
\end{equation}

\item[vi)] Simulação dinâmica direta

Para realizar a simulação dinâmica direta, definimos:

\begin{itemize}

\item[$\bullet$] Parâmetros do mecanismo:
\begin{multicols}{2}
\begin{itemize}
\item[-] $l_1 = 0.12 m$
\item[-] $l_2 = 0.15 m$
\item[-] $l_{g1} = 0.051 m$
\item[-] $l_{g2} = 0.086 m$
\item[-] $m_0 = 0 \, kg$
\item[-] $m_1 = 0.1645 kg$
\item[-] $m_2 = 0.1967 kg$
\item[-] $Jz_1 = 197.3 \cdot 10^{-6} kg\cdot m^2$
\item[-] $Jz_2 = 368.7 \cdot 10^{-6} kg\cdot m^2$
\item[-] $g = 9.8 m/s^2$
\end{itemize}
\end{multicols}

\item[$\bullet$] Parâmetros estimados
\begin{multicols}{2}
\begin{itemize}
\item[-] $\hat{l}_1 = 0.12 m$
\item[-] $\hat{l}_2 = 0.15 m$
\item[-] $\hat{l}_{g1} = 0.06 m$
\item[-] $\hat{l}_{g2} = 0.075 m$
\item[-] $\hat{m}_0 = 0 \, kg$
\item[-] $\hat{m}_1 = 0.143 kg$
\item[-] $\hat{m}_2 = 0.171 kg$
\item[-] $\hat{J}z_1 = 171.6 \cdot 10^{-6} kg\cdot m^2$
\item[-] $\hat{J}z_2 = 320.6 \cdot 10^{-6} kg\cdot m^2$
\item[-] $\hat{g} = 9.8 m/s^2$
\end{itemize}
\end{multicols}

\item[$\bullet$] Condições iniciais:
\begin{equation}
\begin{cases}
q\ssh_1(0) = 0.07 m\\
q\ssh_2(0) = 0.17 m \\
\dot{q}\ssh_1(0) = 0 \\
\dot{q}\ssh_2(0) = 0 \\
\end{cases}
\end{equation}

\item[$\bullet$] Trajetória de referência:
\begin{equation}
\begin{cases}
q\ssh_{1 \, d}(t) = 0.07 \cos(28.57 t) \\
q\ssh_{2 \, d}(t) = 0.17 + 0.07 \sin(28.57 t) \\
\end{cases}
\end{equation}

\item[$\bullet$] Parâmetros do controlador:
$$ \lambda = 40.0 $$
$$ \eta = 20.0 $$

Os parâmetros do mecanismo foram escolhidos de modo que haja um erro de $15\%$ em cada parâmetro incerto.
Os parâmetros do controlar foram escolhidos de modo que o sistema tenha um tempo de alcance às superfícies de escorregamento $t_r  \leq 0.1 s$ (pois $\ms(0) = [0 \; -2]^\msT$) e um tempo de assentamento de $t_a = 0.1 s$, quando o sistema chega nas superfícies de escorregamento. \\
\end{itemize}

A função $f(x) = \sign(x)$ foi substituida pela função de saturação $f_{sat}(x) = \tanh(100 x)$, a qual tem as seguintes propriedades:
\begin{itemize}
\item[-] $f_{sat}(0.023) = -f_{sat}(-0.023) = 0.98$
\item[-] $f_{sat}(\infty) = -f_{sat}(-\infty) = 1$
\item[-] $ \frac{\dd f_{sat}}{\dd x} (0) = 100$
\end{itemize}

Sua utilização garante a estabilidade nas simulações numéricas, evita o chattering nos atuadores, e ainda garante um erro em regime permanente desprezível para esta aplicação.

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.4]{figures/Tanh.pdf}  
	\caption{Função de saturação $f_{sat}(x) = \tanh(100 x)$}
	\label{fig:Tanh}
\end{figure}

\end{itemize}

Aqui seguem os resultados das simulações numéricas:


\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/Torque1.pdf}  
	\caption{Torque aplicado pelo atuador 1}
	\label{fig:Torque1}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/Torque2.pdf}  
	\caption{Torque aplicado pelo atuador 2}
	\label{fig:Torque2}
\end{figure}
\end{multicols}
\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/ex.pdf}  
	\caption{Erro de na coordenada $x$}
	\label{fig:ex}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/ey.pdf}  
	\caption{Erro de na coordenada $y$}
	\label{fig:ey}
\end{figure}
\end{multicols}
\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/sx.pdf}  
	\caption{Variável $s_x$}
	\label{fig:sx}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/sy.pdf}  
	\caption{Variável $s_y$}
	\label{fig:sy}
\end{figure}
\end{multicols}

Repare que o tempo de alcance de $s_y$ é aproximadamente $t_r = 0.008s < 0.1s$. Além disso, $0.1s$ depois de alcançar a superfície de escorregamento, o erro $e_y$ já é praticamente nulo, como pode-se observar no gráfico da figura \ref{fig:ey}. Sendo assim, temos os resultados coerentes com os parâmetros do controlador adotados. \\

O projeto do controlador foi feito supondo incertezas de $15\%$ nos parâmetros incertos. Porém, realizando a simulação com o mesmo controlador, aumentando para $50\%$ os erros paramétricos, pode-se observar que o sistema ainda consegue ser controlado, com erros de controle na ordem de centésimos de milímetro, como pode ser visto nos resultados abaixo: 

\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/Torque12.pdf}  
	\caption{Torque aplicado pelo atuador 1}
	\label{fig:Torque12}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/Torque22.pdf}  
	\caption{Torque aplicado pelo atuador 2}
	\label{fig:Torque22}
\end{figure}
\end{multicols}
\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/ex2.pdf}  
	\caption{Erro de na coordenada $x$}
	\label{fig:ex2}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/ey2.pdf}  
	\caption{Erro de na coordenada $x$}
	\label{fig:ey2}
\end{figure}
\end{multicols}
\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/sx2.pdf}  
	\caption{Variável $s_x$}
	\label{fig:sx2}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/sy2.pdf}  
	\caption{Variável $s_y$}
	\label{fig:sy2}
\end{figure}
\end{multicols}

Para fins de comparação, realizamos a simulação anterior mudando a lei de controle para a tradicional lei de Controle por Torque Computado com amortecimento crítico \cite{Craig}:
\begin{equation}
\mup = \hat{\mh}(\mq,\dot{\mq}\ssh) + \hat{\mH}(\mq)( \ddot{\mq}\ssh_d + 2 \lambda \dot{\me} + \lambda^2 \me )
\end{equation}

Escolhendo $\lambda = 40.0$, obtemos os seguintes resultados:

\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/Torque13.pdf}  
	\caption{Torque aplicado pelo atuador 1}
	\label{fig:Torque13}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/Torque23.pdf}  
	\caption{Torque aplicado pelo atuador 2}
	\label{fig:Torque23}
\end{figure}
\end{multicols}
\begin{multicols}{2}
\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/ex3.pdf}  
	\caption{Erro de na coordenada $x$}
	\label{fig:ex3}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[scale=0.31]{figures/ey3.pdf}  
	\caption{Erro de na coordenada $y$}
	\label{fig:ey3}
\end{figure}
\end{multicols}

Repare que a lei de Controle por Torque Computado não consegue seguir a trajetória de forma satisfatória, mantendo um erro em regime permanente oscilatório com pico $12 mm$ na coordenada $x$ e $27 mm$ na coordenada $y$.







\newpage

%---PUBLICAÇÕES---------------------------------------------------------
\section{Conclusões Parciais}\label{concl}

Durante a realização do projeto proposto, foi possível concluir que é fundamental a utilização linguagens de alta eficiência computacional para realizar simulações dinâmicas de modelos completos de mecanismos de alta complexidade, apesar da dificuldade em programar em tais linguagens.

Tal constatação foi obtida quando foi feita a tentativa de utilizar um algoritmo de modelagem de mecanismos seriais implementado em Python para realizar a simulação dinâmica inversa de um mecanismo de 6 graus de liberdade. A algoritmo implementado demorava mais de um minuto para calcular cada ponto da simulação. Visto que o mecanismo 2\underline{R}SU+\underline{P}PaP é constituido de 2 cadeias seriais de 6 de liberdade, pode-se concluir que seria inviável realizar simulações dinâmicas deste mecanismos utilizando os algoritmos implementados em Python. Por este motivo, foi feita a migração da implementação dos algoritmos de modelagem para a linguagem C++, a qual se mostrou extremamente eficiente para esse tipo de tarefa. Utilizando o algoritmo implementado em C++, foi possível realizar mais de $10000$ pontos da mesma simulação em menos de 1 segundo.

Também foi possível concluir, por meio de simulações, que é possível obter alto desempenho no controle mecanismos paralelos em altas velocidades/acelerações utilizando técnicas de controle não linear robusto, mesmo com altos níveis de incerteza nos parâmetros do modelo. 

%Como as linguagens de programação com essa característica não apresentam recursos de manipulação simbólica, essa abordagem permite a obtenção de modelos dinâmicos apenas na forma implícita.

%Desde o início do trabalho realizado, foi buscada a implementação de um algoritmo para a modelagem dinâmica de mecanismos paralelos. Inicialmente, o objetivo do algoritmo proposto era a obtenção de modelos explícitos utilizando recursos de manipulação simbólica. A primeira plataforma utilizada para a utilização de manipulação simbólica foi o software Mathematica, porém, devido a limitações da linguagem, foi feita a migração a biblioteca SymPy da linguagem de programação Python. Foi implementado um algoritmo genérico de modelagem de mecanismos seriais em Python.

\newpage
%---PUBLICAÇÕES---------------------------------------------------------
\section{Publicações}\label{publi}

A partir dos resultados obtidos no trabalho de formatura realizado na gradua\c{c}\~ao, foi publicado um artigo intitulado ``Development of a controller for a 3-DOF robotic platform for user interaction in rehabilitation therapies'' \cite{Biorob}, o qual foi escrito em coautoria com Eng. Guilherme Martinho Dobrianskyj e o Prof. Dr. Tarc\'isio Ant\^onio Hess Coelho. Este trabalho foi apresentado no BioRob 2014 (IEEE International Conference on Biomedical Robotics and Biomechatronics) na se\c{c}\~ao de posters, no dia 15 de agosto de 2014. O artigo pode ser acessado por \url{http://dx.doi.org/10.1109/BIOROB.2014.6913880}.

Um cap\' itulo de livro, intitulado ``Dynamic modelling
and control of balanced parallel mechanisms'' \cite{22orsino}, foi escrito em coautoria com o Dr. Renato M. M. Orsino e com o Prof. Dr. Tarcisio Antonio Hess Coelho, para o livro {\em Dynamic balancing of mechanisms and synthesizing of parallel
robots}  (editado pelo Prof. Dr. Dan Zhang da Universidade do Instituto de Tecnologia
de Ontario e publicado pela editora Springer).
Este cap\'itulo de livro trata do uso de uma metodologia de modelagem modular para o
balanceamento adaptativo e desenvolvimento de algoritmos de controle para mecanismos
rob\'oticos paralelos. O capítulo pode ser acessado por \url{http://dx.doi.org/10.1007/978-3-319-17683-3_16}.

Um artigo, publicado no peri\'odico {\em International Journal of Mechanisms and Robotic Systems}, intitulado ``A new approach for obtaining the dynamic balancing conditions in serial mechanisms'' \cite{Coutinho}, foi escrito em coautoria com o Prof. Dr. Tarc\'isio Antonio Hess Coelho. O artigo pode ser acessado por \url{http://dx.doi.org/10.1504/IJMRS.2016.077036}.


%---DISCIPLINAS CURSADAS---------------------------------------------------------
\newpage
\section{Disciplinas de pós-graduação}\label{disci}

Ao longo do programa foram cumpridos 56 cr\'editos, tendo cursado 7 disciplinas 
de p\'os-gradua\c{c}\~ao:
\begin{itemize}
\item PME--5004 --- Complementos de Matem\'atica I
\item PMR--5010 --- Elementos Finitos em Sistemas Multif\'isicos: Fundamentos
\item PMR--5215 --- Otimiza\c{c}\~ao Aplicada ao Projeto de Sistemas Mec\^anicos
\item PMR--5238 --- An\'alise e S\'intese de Mecanismo Planos e Tridimensionais
\item PMR--5211 --- Mec\^anica dos S\'olidos Experimental
\item PMR--5234 --- T\'ecnicas de Ultra-Som e suas aplica\c{c}\~oes na Ind\'ustria e na Medicina
\item PMR--5014 --- Controle N\~ao Linear Aplicado a Sistemas Mec\^anicos e Mecatr\^onicos
\end{itemize}

Ressalta-se que em todas as disciplinas foi obtido conceito A, demonstrando bom aproveitamento. \\

Ainda é necessário cumprir mais 24 créditos de pós-graduação, os quais deverão ser cumpridos realizando a publicação de 3 artigos em periódicos indexados, sendo que um dos 3 artigos já foi publicado.




%ETAPAS E ATIVIDADES DO PROJETO----------------------------------------
\newpage
\section{Cronograma de Atividades do Projeto}\label{atividades}

Serão realizados as seguintes etapas para a realização da proposta:

\begin{itemize}

\item[(1)] Obtenção do espaço de trabalho e singularidades do mecanismo  2\underline{R}SU+\underline{P}PaP
\item[(2)] Realização de projeto de controlador por modos deslizantes para o mecanismo 2\underline{R}SU+\underline{P}PaP, considerando os esforços dos atuadores como entradas de controle
\item[(3)] Simulação dinâmica direta do mecanismo 2\underline{R}SU+\underline{P}PaP controlado pelo controlador projetado
\item[(4)] Inclusão de atritos nas juntas no algoritmo de modelagem
\item[(5)] Inclusão das inércias efetivas dos atuadores no algoritmo de modelagem
\item[(6)] Dedução dos princípios de composição de movimento para as derivadas das acelerações lineares e angulares
\item[(7)] Aplicações dos princípios de composição de movimento das derivadas das acelerações lineares e angulares para efetuadores e centros de massa de ligamentos de mecanismos seriais
\item[(8)] Inclusão da dinâmica eletro-mecânica dos atuadores no algoritmo de modelagem
\item[(9)] Identificação dos parâmetros dos sistemas e suas respectivas incertezas, utilizando os protótipos
\item[(10)] Realização de projeto de controlador por modos deslizantes para os mecanismos 5R e 2\underline{R}SU+\underline{P}PaP, considerando a tensão elétrica nos atuadores como entrada de controle
\item[(11)] Simulação dinâmica direta dos mecanismos controlados pelos controladores descritos no item anterior
\item[(12)] Validação experimental dos controladores projetados, utilizando os protótipos
\item[(13)] Escrever artigo sobre uma nova abordagem para modelagem dinâmica de mecanismos seriais, utilizando o método Orsino de acoplamento de subsistemas \cite{23orsino}, aliado aos parâmetros de Denavit-Hartenberg \cite{Craig, Denavit, Lipkin}
\item[(14)] Escrever artigo sobre modelagem dinâmica de mecanismos paralelos, utilizando o método Orsino de acoplamento de subsistemas
\item[(15)] Escrever artigo sobre controle não linear robusto aplicado a mecanismos paralelos
\item[(16)] Avaliação geral dos resultados
\item[(17)] Preparo da tese

%\item[(1)] 	Cumprimentos dos créditos de pós-graduação.
%\item[(2)] 	Pesquisa e revisão bibliográfica da literatura para o desenvolvimento teórico.
%\item[(3)] 	Estudo dos aprimoramentos dos métodos de Lagrange, Kane e PTV, desenvolvidos no grupo de pesquisa do professor Dr. Tarcísio Coelho.
%\item[(4)] 	Aplicação dos métodos em diferentes mecanismos paralelos.
%\item[(5)] 	Discussão e comparação entre os resultados obtidos utilizando cada um dos métodos aplicados.
%\item[(6)] 	Simulação da dinâmica inversa para os mecanismos escolhidos.
%\item[(7)]  Estudo de técnicas de controle não-linear.
%\item[(8)] 	Simulação da dinâmica direta utilizando as técnicas de controle estudadas.
%\item[(9)] 	Inclusão de variáveis redundantes nas leis de controle estudadas.
%\item[(10)] Simulação da dinâmica direita utilizando as técnicas de controle com variáveis redundantes.
%\item[(11)] 	Comparação e análise dos resultados obtidos utilizando as leis de controles implementadas em simulação.
%\item[(12)] 	Avaliação geral dos resultados.
%\item[(13)] Preparo da dissertação.
\end{itemize}

Aqui segue um cronograma estimado para realização das atividades propostas:

\begin{table}[H]
\begin{center}
\caption[Cronograma]{Cronograma -- Planejamento de Atividades por quadrimestre}
\begin{tabular}{|c|c|c|c|c|c|} 
	\hline
	\rule[-2mm]{0mm}{6mm}
	Ativ./Quad. & $3^o/16$ & $1^o/17$ & $2^o/17$ & $3^o/17$ \\
	\hline
	\rule[-2mm]{0mm}{6mm}
	(1) & \rule[0mm]{10mm}{2mm} &   &  &    \\
	\rule[-1mm]{0mm}{5mm}
	(2) & \rule[0mm]{10mm}{2mm} &  &  &    \\
	\rule[-1mm]{0mm}{5mm}
	(3) & \rule[0mm]{10mm}{2mm} &  &  &     \\
	\rule[-1mm]{0mm}{5mm}
	(4) &  \rule[0mm]{10mm}{2mm} &  &  &     \\
	\rule[-1mm]{0mm}{5mm}
	(5) & \rule[0mm]{10mm}{2mm}  &  &  &     \\
	\rule[-1mm]{0mm}{5mm}
	(6) &  \rule[0mm]{10mm}{2mm} &  &  &     \\
	\rule[-1mm]{0mm}{5mm}
	(7) & \rule[0mm]{10mm}{2mm} &  &  &     \\
	\rule[-1mm]{0mm}{5mm}
	(8) & \rule[0mm]{10mm}{2mm}  &  &  &    \\
	\rule[-2mm]{0mm}{6mm}
	(9) & \rule[0mm]{10mm}{2mm}  & \rule[0mm]{10mm}{2mm}  &  &    \\
	\rule[-1mm]{0mm}{5mm}
	(10) & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm} &  &     \\
	\rule[-2mm]{0mm}{6mm}
	(11) & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm} &  &    \\
	\rule[-2mm]{0mm}{6mm}
	(12) & \rule[0mm]{10mm}{2mm}  & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm}   \\
	\rule[-2mm]{0mm}{6mm}
	(13) &  & \rule[0mm]{10mm}{2mm} &  &    \\
	\rule[-2mm]{0mm}{6mm}
	(14) &  &  & \rule[0mm]{10mm}{2mm} &   \\
	\rule[-2mm]{0mm}{6mm}
	(15) &  &  &  & \rule[0mm]{10mm}{2mm}   \\
	\rule[-2mm]{0mm}{6mm}
	(16) &  &  & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm}   \\
	\rule[-2mm]{0mm}{6mm}
	(17) &  & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm} & \rule[0mm]{10mm}{2mm}   \\
	\hline
\end{tabular}
\label{crono}
\end{center}
\end{table}

\newpage
%---SUMÁRIO ESTRUTURADO DA TESE---------------------------------------------------------
\section{Sumário estruturado da tese}\label{sum}

Esta subseção tem o intuito de apresentar a estrutura de capítulos e sub-capítulos que pretende ser utilizada na tese.

\begin{itemize}
\item[1)] Introdução
\item[2)] Revisão da literatura
\item[3)] Metodologia do projeto
\item[4)] Modelagem dinâmica
\begin{itemize}
\item[4.1)] Algoritmo para modelagem de mecanismos seriais
\item[4.2)] Algoritmo para modelagem de mecanismos paralelos
\end{itemize}
\item[5)] Controle
\begin{itemize}
\item[5.1)] Linearização pela realimentação
\item[5.2)] Controle por Modos Deslizantes
\item[5.3)] Controle por Modos Deslizantes Adaptativo
\end{itemize}
\item[6)] Resultados
\begin{itemize}
\item[6.1)] Mecanismos 5R
\begin{itemize}
\item[6.1.1)] Simulação
\item[6.1.2)] Exeperimento
\end{itemize}
\item[6.2)] Mecanismo 2\underline{R}SU+\underline{P}PaP
\begin{itemize}
\item[6.2.1)] Simulação
\item[6.2.2)] Exeperimento
\end{itemize}
\end{itemize}
\item[7)] Conclusões
\item[8)] Referências
\end{itemize}

\newpage

\phantom{a}
\bibliographystyle{plain}
\bibliography{bibliografia}

\end{document}\grid
